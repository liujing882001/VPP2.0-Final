"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[1884],{1884:function(t,e,a){a.r(e),a.d(e,{default:function(){return x}});var n=a(15671),o=a(43144),i=a(60136),s=a(27277),d=a(72791),r=a(47195),l=a(67049),c=a(78347),u=a(58768),k=a(15821),y=a(97892),f=a.n(y),h=a(5122),g=a(80184),p=r.Z.RangePicker,S=function(t){(0,i.Z)(a,t);var e=(0,s.Z)(a);function a(t){var o;return(0,n.Z)(this,a),(o=e.call(this,t)).chosedate=function(t,e){o.setState({endDate:e[1],startDate:e[0]},(function(){o.getASHistoryList()}))},o.lookover=function(t){console.log(t),o.setState({isModalVisible:!0,loading1:!0},(function(){h.Z.get("ancillary_services/ancillary_history/getASListByASId?asId="+t.asId).then((function(t){console.log(t),200==t.data.code&&o.setState({lookdataSource:t.data.data})})).catch((function(t){console.log(t)}))}))},o.state={dataSource:[],startDate:"",endDate:"",isModalVisible:!1,lookdataSource:[],page:1,totaltab:"",loading:!1,loading1:!1},o}return(0,o.Z)(a,[{key:"componentDidMount",value:function(){}},{key:"getASHistoryList",value:function(){var t=this;this.setState({loading:!0}),h.Z.post("ancillary_services/ancillary_history/getASHistoryList",{number:this.state.page,pageSize:10,startDate:this.state.startDate,endDate:this.state.endDate}).then((function(e){if(console.log(e),200==e.data.code){var a=e.data.data.content;a.sort((function(t,e){return e.taskCode<t.taskCode?-1:1})),t.setState({dataSource:a,totaltab:e.data.data.totalElements,loading:!1})}})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){var t=this,e=this.state,a=e.dataSource,n=e.isModalVisible,o=e.lookdataSource,i=e.loading,s=e.page,d=(e.loading1,[{title:"\u5e8f\u53f7",width:"5%",render:function(t,e,a){return 10*(s-1)+a+1}},{title:"\u4efb\u52a1\u7f16\u7801",dataIndex:"taskCode",key:"taskCode"},{title:"\u8f85\u52a9\u670d\u52a1\u65f6\u6bb5",dataIndex:"rsDate",key:"rsDate",render:function(t,e,a){return e.assDate+"    "+e.assTime+"~"+e.aseTime}},{title:"\u8f85\u52a9\u670d\u52a1\u89c4\u6a21\uff08kW\uff09",dataIndex:"asLoad",key:"asLoad"},{title:"\u8f85\u52a9\u670d\u52a1\u7c7b\u578b",dataIndex:"asType",key:"asType",render:function(t,e,a,n){return 1===e.asType?"\u8c03\u5cf0":2===e.asType?"\u8c03\u9891":3===e.asType?"\u5907\u7528":void 0}},{title:"\u8865\u8d34\uff08\u5143/kWh\uff09",dataIndex:"asSubsidy",key:"asSubsidy"},{title:"\u603b\u8c03\u8282\u8d1f\u8377(kW)",dataIndex:"actualLoad",key:"actualLoad"},{title:"\u603b\u8c03\u8282\u7535\u91cf(kWh)",dataIndex:"actualPower",key:"actualPower"},{title:"\u6536\u76ca\u9884\u4f30",dataIndex:"profit",key:"profit",render:function(t,e,a,n){return Number(t).toFixed(2)}},{title:"\u8be6\u60c5",key:"action",render:function(e,a,n,o){return(0,g.jsx)("a",{onClick:function(){return t.lookover(a)},children:"\u67e5\u770b"})}}]);return(0,g.jsxs)("div",{className:"allcontent12",children:[(0,g.jsx)(l.ZP,{locale:k.Z,children:(0,g.jsx)(p,{disabledDate:function(t){return t<f()(new Date("2023-01-01"))||t>f()().endOf("day")},onChange:this.chosedate})}),(0,g.jsx)("div",{style:{margin:"20px 0px"},children:(0,g.jsx)(c.Z,{dataSource:a,columns:d,loading:i,onChange:function(e){console.log(e),t.setState({page:e.current},(function(){t.getASHistoryList()}))},pagination:{total:this.state.totaltab,defaultCurrent:1,defaultPageSize:10,showSizeChanger:!1}})}),(0,g.jsxs)(u.Z,{title:"\u67e5\u770b\u8be6\u60c5",visible:n,cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a",width:700,onOk:function(){t.setState({isModalVisible:!1})},onCancel:function(){t.setState({isModalVisible:!1})},children:[(0,g.jsx)(c.Z,{dataSource:o,columns:[{title:"\u5e8f\u53f7",width:"10%",render:function(t,e,a){return"".concat(a+1)}},{title:"\u8282\u70b9",dataIndex:"nodeName",key:"nodeName"},{title:"\u5b9e\u9645\u54cd\u5e94\u8d1f\u8377\uff08kW\uff09",dataIndex:"deviceRatedLoad",key:"deviceRatedLoad"},{title:"\u5b9e\u9645\u54cd\u5e94\u7535\u91cf\uff08kWh\uff09",dataIndex:"regulatePower",key:"regulatePower"},{title:"\u5360\u6bd4\uff08%\uff09",dataIndex:"powerRate",key:"powerRate"}]}),";"]})]})}}]),a}(d.Component),x=S}}]);
//# sourceMappingURL=1884.9975f59c.chunk.js.map