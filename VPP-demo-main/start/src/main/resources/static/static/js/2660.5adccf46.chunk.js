"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[2660],{62660:function(e,a,t){t.r(a),t.d(a,{default:function(){return k}});var n=t(1413),s=t(93433),o=t(4942),l=t(29439),i=t(72791),r=t(37545).Z,c=t(89752).Z,d=t(61855),m=t(66818),u=t(93070),h=t(13832),p=t(31773),f=t(78347),g=t(58768),Z=t(2556),y=t(89862),x=t(96483),j=t(74424),P=t(67571),v=t(5122),b=(t(62995),t(96324)),F=t(68747),C=t(79286),N=(t(59434),t(80184)),w=d.Z.TextArea,S=m.Z.Option,k=function(){var e=(0,P.k6)(),a=(0,i.useState)([]),t=(0,l.Z)(a,2),k=t[0],T=t[1],I=(0,i.useState)(!1),L=(0,l.Z)(I,2),R=L[0],O=L[1],_=(0,i.useState)(1),G=(0,l.Z)(_,2),E=G[0],M=G[1],K=(0,i.useState)(""),U=(0,l.Z)(K,2),A=U[0],D=U[1],$=(0,i.useState)(!1),V=(0,l.Z)($,2),z=V[0],B=V[1],W=(0,i.useState)(!1),q=(0,l.Z)(W,2),J=q[0],Y=q[1],H=(0,i.useState)(""),Q=(0,l.Z)(H,2),X=Q[0],ee=Q[1],ae=(0,i.useState)(""),te=(0,l.Z)(ae,2),ne=te[0],se=te[1],oe=(0,i.useState)(!1),le=(0,l.Z)(oe,2),ie=le[0],re=le[1],ce=(0,i.useState)(!1),de=(0,l.Z)(ce,2),me=de[0],ue=de[1],he=(0,i.useState)([]),pe=(0,l.Z)(he,2),fe=pe[0],ge=pe[1],Ze=(0,i.useState)([]),ye=(0,l.Z)(Ze,2),xe=(ye[0],ye[1]),je=(0,i.useState)([]),Pe=(0,l.Z)(je,2),ve=Pe[0],be=Pe[1],Fe=(0,i.useState)(""),Ce=(0,l.Z)(Fe,2),Ne=Ce[0],we=Ce[1],Se=(0,i.useState)(""),ke=(0,l.Z)(Se,2),Te=(ke[0],ke[1],(0,i.useState)([])),Ie=(0,l.Z)(Te,2),Le=Ie[0],Re=Ie[1],Oe=(0,i.useState)([]),_e=(0,l.Z)(Oe,2),Ge=_e[0],Ee=_e[1],Me=(0,i.useState)(""),Ke=(0,l.Z)(Me,2),Ue=(Ke[0],Ke[1]),Ae=(0,i.useState)(""),De=(0,l.Z)(Ae,2),$e=(De[0],De[1]),Ve=(0,i.useState)(""),ze=(0,l.Z)(Ve,2),Be=(ze[0],ze[1]),We=(0,i.useState)(""),qe=(0,l.Z)(We,2),Je=(qe[0],qe[1]),Ye=(0,i.useState)(!1),He=(0,l.Z)(Ye,2),Qe=He[0],Xe=He[1],ea=(0,i.useState)(!1),aa=(0,l.Z)(ea,2),ta=aa[0],na=aa[1],sa=(0,i.useState)(!1),oa=(0,l.Z)(sa,2),la=oa[0],ia=oa[1],ra=(0,i.useState)([]),ca=(0,l.Z)(ra,2),da=ca[0],ma=ca[1],ua=(0,i.useState)([]),ha=(0,l.Z)(ua,2),pa=(ha[0],ha[1]),fa=(0,i.useState)(""),ga=(0,l.Z)(fa,2),Za=ga[0],ya=ga[1],xa=(0,i.useState)(""),ja=(0,l.Z)(xa,2),Pa=(ja[0],ja[1]),va=(0,i.useState)(!1),ba=(0,l.Z)(va,2),Fa=ba[0],Ca=ba[1],Na=(0,i.useState)([]),wa=(0,l.Z)(Na,2),Sa=wa[0],ka=wa[1],Ta=(0,i.useState)([]),Ia=(0,l.Z)(Ta,2),La=Ia[0],Ra=Ia[1],Oa=(0,i.useState)([]),_a=(0,l.Z)(Oa,2),Ga=(_a[0],_a[1],(0,i.useState)(!1)),Ea=(0,l.Z)(Ga,2),Ma=Ea[0],Ka=Ea[1],Ua=(0,i.useState)(""),Aa=(0,l.Z)(Ua,2),Da=(Aa[0],Aa[1],(0,i.useState)(!1)),$a=(0,l.Z)(Da,2),Va=$a[0],za=$a[1],Ba=(0,i.useState)([]),Wa=(0,l.Z)(Ba,2),qa=Wa[0],Ja=Wa[1],Ya=(0,i.useState)(""),Ha=(0,l.Z)(Ya,2),Qa=Ha[0],Xa=Ha[1],et=(0,i.useState)([]),at=(0,l.Z)(et,2),tt=(at[0],at[1],(0,i.useState)("")),nt=(0,l.Z)(tt,2),st=(nt[0],nt[1],u.Z.useForm()),ot=(0,l.Z)(st,1)[0],lt=u.Z.useForm(),it=(0,l.Z)(lt,1)[0],rt=u.Z.useForm(),ct=(0,l.Z)(rt,1)[0],dt=u.Z.useForm(),mt=(0,l.Z)(dt,1)[0],ut=u.Z.useForm(),ht=(0,l.Z)(ut,1)[0],pt=u.Z.useForm(),ft=(0,l.Z)(pt,1)[0],gt=u.Z.useForm(),Zt=(0,l.Z)(gt,1)[0],yt=u.Z.useForm(),xt=(0,l.Z)(yt,1)[0],jt=u.Z.useForm(),Pt=(0,l.Z)(jt,1)[0],vt=u.Z.useForm(),bt=(0,l.Z)(vt,1)[0];(0,i.useEffect)((function(){Ft()}),[]);var Ft=function(){v.Z.post("system_management/node_model/nodeTypeList").then((function(e){(console.log(e),200==e.data.code)&&(e.data.data.map((function(e){return e.label=e.nodeTypeName,e.value=e.nodeTypeKey,e.disabled=!1})),ge(e.data.data))}))},Ct=function(){var e=new URLSearchParams;e.append("number",E),e.append("pageSize",10),O(!0),v.Z.post("system_management/systemParam/modelParameterListPageable",e).then((function(e){console.log(e),200==e.data.code&&(T(e.data.data.content),O(!1),D(e.data.data.totalElements))})).catch((function(e){console.log(e)}))},Nt=function(e){console.log(e,"------");var a=qa.findIndex((function(a){return a.name===e}));if(-1!==a){var t=(0,s.Z)(qa);t.splice(a,1),Ja(t)}Ja((function(a){return a.filter((function(a){return a.name!==e}))}))},wt=[{title:"\u5e8f\u53f7",dataIndex:"menuName",key:"menuName",render:function(e,a,t){return 10*(E-1)+t+1}},{title:"\u53c2\u6570",dataIndex:"paramName",key:"paramName"},{title:"\u5185\u5bb9",dataIndex:"paramContent",key:"paramContent",width:"50%"},{title:"\u64cd\u4f5c",dataIndex:"action",key:"action",render:function(a,t){return(0,N.jsx)(p.Z,{size:"middle",children:(0,N.jsx)("a",{onClick:function(){return a=t,console.log(a),3==a.key?(B(!0),ee(a.id),se(a.paramName),v.Z.post("system_management/systemParam/findResourceOverviewNodeTypeOrderSysParam?id="+a.id).then((function(e){if(console.log(e),200==e.data.code){console.log(e.data.data.nodeTypeIds);for(var a=e.data.data.nodeTypeIds,t=[],n=0;n<a.length;n++)for(var s=0;s<fe.length;s++)a[n]==fe[s].nodeTypeKey&&t.push({nodeTypeName:fe[s].nodeTypeName,nodeTypeKey:fe[s].nodeTypeKey});xe(e.data.data.nodeTypeIds),be(t),Re(t),Ee(e.data.data.nodeTypeIds),ot.setFieldsValue({paramName:e.data.data.nodeTypeIds})}})).catch((function(e){console.log(e)}))):4==a.key&&(Y(!0),ee(a.id),se(a.paramName),v.Z.post("system_management/systemParam/findSalesPerSquareMeterSysParam?id="+a.id).then((function(e){if(console.log(e),200==e.data.code){var a=e.data.data;it.setFieldsValue({commercialComplex:a.commercialComplex,governmentOfficeGreaterThan20000:a.governmentOfficeGreaterThan20000,governmentOfficeLessThan20000:a.governmentOfficeLessThan20000})}else h.ZP.info(e.data.msg)})).catch((function(e){console.log(e)}))),5==a.key&&(re(!0),ee(a.id),se(a.paramName),v.Z.post("system_management/systemParam/findSmartEnergySysParam?id="+a.id).then((function(e){if(console.log(e),200==e.data.code){var a=e.data.data;ct.setFieldsValue({paramName:a.paramName,address:a.address})}})).catch((function(e){console.log(e)}))),2==a.key&&(ue(!0),ee(a.id),Ue(a.iotAddress),$e(a.iotUserName),Be(a.iotUserPwd),Je(a.paramContent),v.Z.post("system_management/systemParam/findIOTParamSysParam?id="+a.id).then((function(e){if(console.log(e),200==e.data.code){var a=e.data.data;mt.setFieldsValue({address:a.iotAddress,paramName:a.paramName,iotUserName:a.iotUserName,iotUserPwd:a.iotUserPwd})}})).catch((function(e){console.log(e)}))),1==a.key&&(Xe(!0),ee(a.id),se(a.paramName),v.Z.post("system_management/systemParam/findDemandResponseSysParam?id="+a.id).then((function(e){if(console.log(e),200==e.data.code){var a=e.data.data;ht.setFieldsValue({paramName:a.paramName,address:a.address})}else h.ZP.info(e.data.msg)})).catch((function(e){console.log(e)}))),6==a.key&&(na(!0),ee(a.id),se(a.paramName),v.Z.post("system_management/systemParam/findPeakCapacityParamCfgSysParam?id="+a.id).then((function(e){if(console.log(e),200==e.data.code){var a=e.data.data;ft.setFieldsValue({cdzRatedPower:a.cdzRatedPower,ktRatedPower:a.ktRatedPower,pvRatedPower:a.pvRatedPower,storageEnergyRatedPower:a.storageEnergyRatedPower})}})).catch((function(e){console.log(e)}))),7==a.key&&(ia(!0),ee(a.id),se(a.paramName),v.Z.post("system_management/systemParam/findLogoSysParam?id="+a.id).then((function(e){if(console.log(e),200==e.data.code){var a=e.data.data,t=[],n=[];a.sysLogo&&t.push({uid:"-1",status:"done",thumbUrl:a.sysLogo}),a.mainLogo&&n.push({uid:"-2",status:"done",thumbUrl:a.mainLogo}),console.log(n),ma(t.length>0?t:[]),pa(n.length>0?n:[]),ya(e.data.data.sysLogo),Pa(e.data.data.mainLogo),Zt.setFieldsValue({mainLogo:n.length>0?{fileList:n}:void 0,sysLogo:t.length>0?{fileList:t}:void 0})}})).catch((function(e){console.log(e)}))),8==a.key&&e.push({pathname:"/newDate"}),9==a.key&&(Ca(!0),ee(a.id),se(a.paramName),v.Z.post("system_management/systemParam/baseLineForecastDataList").then((function(e){console.log(e),200==e.data.code?(ka(e.data.data),v.Z.post("system_management/systemParam/findBaseLineForecastParam?id="+a.id).then((function(e){if(console.log(e),200==e.data.code){var a=e.data.data;xt.setFieldsValue({baseLineGetMethod:a.baseLineGetMethod,loadForecastGetMethod:a.loadForecastGetMethod,pvForecastGetMethod:a.pvForecastGetMethod})}})).catch((function(e){console.log(e)}))):h.ZP.info(e.data.msg)})).catch((function(e){console.log(e)}))),10==a.key&&(Ka(!0),ee(a.id),se(a.paramName),v.Z.post("system_management/systemParam/demandResponsePlatFormDatalist").then((function(e){console.log(e),200==e.data.code&&(Ra(e.data.data),v.Z.post("system_management/systemParam/findDemandResponsePlatFormParam?id="+a.id).then((function(e){if(console.log(e),200==e.data.code){var a=e.data.data;Pt.setFieldsValue({value:a.value})}})).catch((function(e){console.log(e)})))})).catch((function(e){console.log(e)}))),void(12==a.key&&(za(!0),ee(a.id),se(a.paramName),v.Z.post("system_management/systemParam/thirdPartyEnergyPlat?id="+a.id).then((function(e){if(console.log(e),200==e.data.code){Ja(e.data.data.param),Xa(e.data.data.status);var a=e.data.data.param;bt.setFieldsValue({whetherstatus:e.data.data.status}),a.map((function(e,a){var t;bt.setFieldsValue((t={},(0,o.Z)(t,"field-"+e.name,e.name),(0,o.Z)(t,"fields-"+e.name,e.param),t))}))}})).catch((function(e){console.log(e)}))));var a},disabled:11==t.key,children:"\u7f16\u8f91 "})})}}];(0,i.useEffect)((function(){Ct()}),[E]);var St=function(e){console.log(e)},kt=function(e){v.Z.post("system_management/systemParam/updateResourceOverviewNodeTypeOrderSysParam",{id:X,paramName:ne,nodeTypeIds:Ge}).then((function(e){console.log(e),200==e.data.code?(B(!1),ot.resetFields(),Ct(),h.ZP.success("\u6210\u529f")):h.ZP.info(e.data.msg)})).catch((function(e){console.log(e)}))},Tt=function(){B(!1),ot.resetFields()},It={onRemove:function(e){var a=da.indexOf(e),t=da.slice();t.splice(a,1),ma(t),ya("")},beforeUpload:function(e){console.log(e);var a=new FileReader;a.onload=function(e){var a=new Image;a.src=e.target.result,console.log(a),a.onload=function(){console.log("\u56fe\u7247\u5c3a\u5bf8\uff1a",a.width,"x",a.height)},ya(a.src)},a.readAsDataURL(e);var t=0===e.type.indexOf("image");t||h.ZP.error("You can only upload image file!");var n=(null===e||void 0===e?void 0:e.name.split(".")).slice(-1);console.log(n);return["png","jpg","svg"].includes(n[0])?e.size/1024>200?(h.ZP.error("\u6587\u4ef6\u5927\u5c0f\u4e0d\u80fd\u8d85\u8fc7200kb"),ya(""),!1):(ma([].concat((0,s.Z)(da),[e])),!1):(h.ZP.error("\u8bf7\u9009\u62e9\u6b63\u786e\u7684\u56fe\u7247\u683c\u5f0f"),ya(""),!1)},fileList:da},Lt=function(){za(!1),Ja([]),bt.resetFields()};return(0,N.jsxs)("div",{className:"Sargument",children:[(0,N.jsx)("div",{className:"Sargumentbody"}),(0,N.jsx)(f.Z,{dataSource:k,columns:wt,loading:R,pagination:{total:A,defaultCurrent:1,defaultPageSize:10,showSizeChanger:!1,onChange:function(e){M(e)}}}),(0,N.jsx)(g.Z,{title:"\u7f16\u8f91",visible:z,onOk:kt,className:"Sarguments-modal",onCancel:Tt,maskClosable:!1,footer:[(0,N.jsx)(Z.ZP,{ghost:!0,onClick:Tt,children:"\u53d6\u6d88"}),(0,N.jsx)(Z.ZP,{type:"primary",onClick:kt,children:"\u786e\u5b9a"},"submit")],width:680,children:(0,N.jsxs)("div",{className:"isModa",children:[(0,N.jsxs)("div",{className:"isModadiv",style:{marginRight:24},children:[(0,N.jsx)("p",{className:"chosens",children:"\u9009\u62e9\uff1a"}),(0,N.jsx)("div",{className:"chosens1",children:(0,N.jsx)(u.Z,{name:"basic",initialValues:{remember:!0},onFinish:function(e){console.log(e)},onFinishFailed:function(e){console.log(e)},autoComplete:"off",form:ot,children:(0,N.jsx)(u.Z.Item,{children:(0,N.jsx)(u.Z.Item,{name:"paramName",children:(0,N.jsx)(y.Z.Group,{children:fe&&fe.map((function(e){return(0,N.jsx)(y.Z,{onChange:function(a){return function(e,a){if(console.log(e,a),a.length>4)h.ZP.info("\u4ec5\u53ef\u9009\u62e9\u56db\u4e2a\u8282\u70b9\u7c7b\u578b"),a.shift(a[4]),console.log(a);else{if(1==e.target.checked){Le.unshift(a);var t=Le;if(console.log(t),t.length>4){h.ZP.info("\u4ec5\u53ef\u9009\u62e9\u56db\u4e2a\u8282\u70b9\u7c7b\u578b");for(var n=0;n<t.length;n++)a.nodeTypeKey==t[n].nodeTypeKey&&t.splice(n,1);console.log(t);var s=[];t.map((function(e){s.push(e.nodeTypeKey)})),Ee(s),ot.setFieldsValue({paramName:s})}else{var o=[];for(n=0;n<t.length;n++)o.push(t[n].nodeTypeKey);Ee(o)}}else{for(var l=0;l<ve.length;l++)a.nodeTypeKey==ve[l].nodeTypeKey&&ve.splice(l,1);var i=[];ve.map((function(e){i.push(e.nodeTypeKey)})),be(ve),Ee(i)}console.log(ve,a)}console.log([])}(a,e)},value:e.nodeTypeKey,children:e.nodeTypeName},e.nodeTypeKey)}))})})})})})]}),(0,N.jsxs)("div",{className:"isModadiv",children:[(0,N.jsx)("p",{className:"chosens",children:"\u5df2\u9009\uff1a"}),(0,N.jsx)("div",{className:"chosens1",onDragEnter:function(e){console.log(e)},onDragLeave:function(e){console.log(e),e.target.parentNode.childNodes.forEach((function(e){return e.style.borderBottom=""}))},children:ve&&ve.map((function(e){return(0,N.jsxs)("p",{draggable:!0,onDragOver:function(a){return function(e,a){e.preventDefault(),e.stopPropagation();var t=e.target.parentNode;console.log(t);var n=ve.findIndex((function(e){return e.nodeTypeKey===Ne}));console.log(n);var o=ve.findIndex((function(e){return e.nodeTypeKey===a.nodeTypeKey}));console.log(o);var l=(0,s.Z)(ve),i=l.splice(n,1);console.log(i),l.splice(o,0,i[0]),console.log(l);var r=[];l.map((function(e){r.push(e.nodeTypeKey)})),console.log(r),be(l),Ee(r),console.log(t),t.childNodes.forEach((function(e){return e.style.borderBottom=""}))}(a,e)},onDragStart:function(a){return n=e,(t=a).dataTransfer.effectAllowed="move",t.dataTransfer.setData("text",t.target.getAttribute("nodeType")),console.log(t,n),t.target.parentNode.childNodes.forEach((function(e){return e.style.borderBottom="2px dashed #1890ff"})),void we(n.nodeTypeKey);var t,n},className:"nodeType",children:[e.nodeTypeName,(0,N.jsx)(b.Z,{style:{float:"right",marginTop:5,cursor:"pointer"}})]})}))})]})]})}),(0,N.jsx)(g.Z,{title:"\u7f16\u8f91",visible:J,onOk:function(){B(!1)},onCancel:function(){Y(!1),it.resetFields()},footer:null,maskClosable:!1,children:(0,N.jsxs)(u.Z,{name:"basic",layout:"vertical",onFinish:function(e){console.log("Success:",e);var a=new URLSearchParams;a.append("commercialComplex",e.commercialComplex),a.append("governmentOfficeGreaterThan20000",e.governmentOfficeGreaterThan20000),a.append("governmentOfficeLessThan20000",e.governmentOfficeLessThan20000),a.append("id",X),a.append("paramName",ne),v.Z.post("system_management/systemParam/updateSalesPerSquareMeterSysParam",{commercialComplex:e.commercialComplex,governmentOfficeGreaterThan20000:e.governmentOfficeGreaterThan20000,governmentOfficeLessThan20000:e.governmentOfficeLessThan20000,id:X,paramName:ne}).then((function(e){console.log(e),200==e.data.code?(Y(!1),it.resetFields(),Ct(),h.ZP.success("\u6210\u529f")):h.ZP.info(e.data.msg)})).catch((function(e){console.log(e)}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",form:it,children:[(0,N.jsxs)(u.Z.Item,{label:" \u5546\u4e1a\u7efc\u5408\u4f53",children:[(0,N.jsx)(u.Z.Item,{name:"commercialComplex",style:{float:"left",width:366},rules:[{pattern:new RegExp(/^(([1-9][0-9]{0,5})|0|1000000)$/),message:"\u8bf7\u8f93\u5165\u6b63\u786e\u8303\u56f4\u5185\u7684\u6570\u5b57"}],children:(0,N.jsx)(d.Z,{maxLength:50})}),(0,N.jsx)("span",{className:"units",children:"kWh / m\xb2 \u2022 \u5e74 "})]}),(0,N.jsxs)(u.Z.Item,{label:"\u653f\u5e9c\u529e\u516c\u226520000m\xb2",children:[(0,N.jsx)(u.Z.Item,{name:"governmentOfficeGreaterThan20000",style:{float:"left",width:366},rules:[{pattern:new RegExp(/^(([1-9][0-9]{0,5})|0|1000000)$/),message:"\u8bf7\u8f93\u5165\u6b63\u786e\u8303\u56f4\u5185\u7684\u6570\u5b57"}],children:(0,N.jsx)(d.Z,{maxLength:50})}),(0,N.jsx)("span",{className:"units",children:"kWh / m\xb2 \u2022 \u5e74 "})]}),(0,N.jsxs)(u.Z.Item,{label:"\u653f\u5e9c\u529e\u516c<20000m\xb2 ",children:[(0,N.jsx)(u.Z.Item,{name:"governmentOfficeLessThan20000",rules:[{pattern:new RegExp(/^(([1-9][0-9]{0,5})|0|1000000)$/),message:"\u8bf7\u8f93\u5165\u6b63\u786e\u8303\u56f4\u5185\u7684\u6570\u5b57"}],style:{float:"left",width:366},children:(0,N.jsx)(d.Z,{maxLength:50})}),(0,N.jsx)("span",{className:"units",children:"kWh / m\xb2 \u2022 \u5e74 "})]}),(0,N.jsxs)(u.Z.Item,{wrapperCol:{offset:14,span:10},style:{textAlign:"right"},children:[(0,N.jsx)(Z.ZP,{ghost:!0,onClick:function(){Y(!1)},children:"\u53d6\u6d88"}),(0,N.jsx)(Z.ZP,{type:"primary",htmlType:"submit",children:"\u786e\u5b9a"})]})]})}),(0,N.jsx)(g.Z,{title:"\u7f16\u8f91",visible:ie,onCancel:function(){re(!1),ct.resetFields()},footer:null,maskClosable:!1,children:(0,N.jsxs)(u.Z,{name:"basic",layout:"vertical",onFinish:function(e){console.log(e),v.Z.post("system_management/systemParam/updateSmartEnergySysParam",{address:e.address,id:X,paramName:e.paramName}).then((function(e){console.log(e),200==e.data.code?(re(!1),h.ZP.success("\u6210\u529f"),Ct()):h.ZP.info(e.data.msg)})).catch((function(e){console.log(e)}))},onFinishFailed:function(e){console.log(e)},autoComplete:"off",form:ct,children:[(0,N.jsx)(u.Z.Item,{label:"\u5e73\u53f0\u540d\u79f0",name:"paramName",children:(0,N.jsx)(d.Z,{maxLength:50})}),(0,N.jsx)(u.Z.Item,{label:"\u5e73\u53f0\u53c2\u6570",name:"address",children:(0,N.jsx)(w,{maxLength:50})}),(0,N.jsxs)(u.Z.Item,{wrapperCol:{offset:14,span:10},style:{textAlign:"right"},children:[(0,N.jsx)(Z.ZP,{ghost:!0,onClick:function(){re(!1),ct.resetFields()},children:"\u53d6\u6d88"}),(0,N.jsx)(Z.ZP,{type:"primary",htmlType:"submit",children:"\u786e\u5b9a"})]})]})}),(0,N.jsx)(g.Z,{title:"\u7f16\u8f91",visible:Qe,footer:null,onCancel:function(e){Xe(!1),ht.resetFields()},maskClosable:!1,children:(0,N.jsxs)(u.Z,{name:"basic",layout:"vertical",onFinish:function(e){console.log(e),v.Z.post("system_management/systemParam/updateDemandResponseSysParam",{address:e.address,id:X,paramName:e.paramName}).then((function(e){console.log(e),200==e.data.code?(Xe(!1),h.ZP.success("\u6210\u529f"),ht.resetFields(),Ct()):h.ZP.info(e.data.msg)})).catch((function(e){console.log(e)}))},onFinishFailed:St,autoComplete:"off",form:ht,children:[(0,N.jsx)(u.Z.Item,{label:"\u5e73\u53f0\u540d\u79f0",name:"paramName",children:(0,N.jsx)(d.Z,{maxLength:50})}),(0,N.jsx)(u.Z.Item,{label:"\u5e73\u53f0\u53c2\u6570",name:"address",children:(0,N.jsx)(w,{maxLength:50})}),(0,N.jsxs)(u.Z.Item,{wrapperCol:{offset:14,span:10},style:{textAlign:"right"},children:[(0,N.jsx)(Z.ZP,{ghost:!0,onClick:function(){Xe(!1)},children:"\u53d6\u6d88"}),(0,N.jsx)(Z.ZP,{type:"primary",htmlType:"submit",children:"\u786e\u5b9a"})]})]})}),(0,N.jsx)(g.Z,{title:"\u7f16\u8f91",visible:me,onCancel:function(){ue(!1),mt.resetFields()},footer:null,maskClosable:!1,children:(0,N.jsxs)(u.Z,{name:"basic",layout:"vertical",onFinish:function(e){console.log(e),v.Z.post("system_management/systemParam/updateIOTParamSysParam",{id:X,iotAddress:e.address,iotUserName:e.iotUserName,iotUserPwd:e.iotUserPwd,paramName:e.paramName}).then((function(e){console.log(e),200==e.data.code?(ue(!1),h.ZP.success("\u6210\u529f"),mt.resetFields(),Ct()):h.ZP.info(e.data.msg)})).catch((function(e){console.log(e)}))},onFinishFailed:St,autoComplete:"off",form:mt,children:[(0,N.jsx)(u.Z.Item,{label:"\u5e73\u53f0\u540d\u79f0",name:"paramName",children:(0,N.jsx)(d.Z,{maxLength:50})}),(0,N.jsx)(u.Z.Item,{label:"\u5730\u5740",name:"address",children:(0,N.jsx)(d.Z,{maxLength:50})}),(0,N.jsx)(u.Z.Item,{label:"\u7528\u6237\u540d",name:"iotUserName",children:(0,N.jsx)(d.Z,{maxLength:50})}),(0,N.jsx)(u.Z.Item,{label:"\u5bc6\u7801",name:"iotUserPwd",children:(0,N.jsx)(d.Z,{maxLength:50})}),(0,N.jsxs)(u.Z.Item,{wrapperCol:{offset:14,span:10},style:{textAlign:"right"},children:[(0,N.jsx)(Z.ZP,{ghost:!0,onClick:function(){ue(!1)},children:"\u53d6\u6d88"}),(0,N.jsx)(Z.ZP,{type:"primary",htmlType:"submit",children:"\u786e\u5b9a"})]})]})}),(0,N.jsx)(g.Z,{title:"\u7f16\u8f91",visible:ta,onCancel:function(){na(!1)},footer:null,maskClosable:!1,children:(0,N.jsxs)(u.Z,{name:"basic",layout:"vertical",onFinish:function(e){console.log(e),v.Z.post("system_management/systemParam/updatePeakCapacityParamCfgSysParam",{cdzRatedPower:e.cdzRatedPower,id:X,ktRatedPower:e.ktRatedPower,paramName:ne,pvRatedPower:e.pvRatedPower,storageEnergyRatedPower:e.storageEnergyRatedPower}).then((function(e){console.log(e),200==e.data.code?(na(!1),h.ZP.success("\u6210\u529f"),ft.resetFields(),Ct()):h.ZP.info(e.data.msg)})).catch((function(e){}))},onFinishFailed:function(e){console.log(e)},autoComplete:"off",form:ft,children:[(0,N.jsxs)(u.Z.Item,{label:"\u5149\u4f0f\u7cfb\u7edf\u989d\u5b9a\u529f\u7387",children:[(0,N.jsx)(u.Z.Item,{name:"pvRatedPower",style:{width:"calc(100% - 32px)",display:"inline-block"},rules:[{pattern:new RegExp(/^([0-9]{1,2}$)|(^[0-9]{1,2}\.[0-9]{1,2}$)|100$/),message:"\u8bf7\u8f93\u51650-100\u4ee5\u5185\u7684\u6570\u5b57"}],children:(0,N.jsx)(d.Z,{maxLength:50})}),(0,N.jsx)("span",{className:"ant-form-text",children:" %"})]}),(0,N.jsxs)(u.Z.Item,{label:"\u50a8\u80fd\u7535\u7ad9\u529f\u7387",children:[(0,N.jsx)(u.Z.Item,{name:"storageEnergyRatedPower",style:{width:"calc(100% - 32px)",display:"inline-block"},rules:[{pattern:new RegExp(/^([0-9]{1,2}$)|(^[0-9]{1,2}\.[0-9]{1,2}$)|100$/),message:"\u8bf7\u8f93\u51650-100\u4ee5\u5185\u7684\u6570\u5b57"}],children:(0,N.jsx)(d.Z,{maxLength:50})}),(0,N.jsx)("span",{className:"ant-form-text",children:" %"})]}),(0,N.jsxs)(u.Z.Item,{label:"\u5145\u7535\u6869\u7cfb\u7edf\u989d\u5b9a\u529f\u7387",children:[(0,N.jsx)(u.Z.Item,{name:"cdzRatedPower",style:{width:"calc(100% - 32px)",display:"inline-block"},rules:[{pattern:new RegExp(/^([0-9]{1,2}$)|(^[0-9]{1,2}\.[0-9]{1,2}$)|100$/),message:"\u8bf7\u8f93\u51650-100\u4ee5\u5185\u7684\u6570\u5b57"}],children:(0,N.jsx)(d.Z,{maxLength:50})}),(0,N.jsx)("span",{className:"ant-form-text",children:" %"})]}),(0,N.jsxs)(u.Z.Item,{label:"\u7a7a\u8c03\u7cfb\u7edf\u989d\u5b9a\u529f\u7387",children:[(0,N.jsx)(u.Z.Item,{name:"ktRatedPower",style:{width:"calc(100% - 32px)",display:"inline-block"},rules:[{pattern:new RegExp(/^([0-9]{1,2}$)|(^[0-9]{1,2}\.[0-9]{1,2}$)|100$/),message:"\u8bf7\u8f93\u51650-100\u4ee5\u5185\u7684\u6570\u5b57"}],children:(0,N.jsx)(d.Z,{maxLength:50})}),(0,N.jsx)("span",{className:"ant-form-text",children:" %"})]}),(0,N.jsxs)(u.Z.Item,{wrapperCol:{offset:14,span:10},style:{textAlign:"right"},children:[(0,N.jsx)(Z.ZP,{ghost:!0,onClick:function(){na(!1)},children:"\u53d6\u6d88"}),(0,N.jsx)(Z.ZP,{type:"primary",htmlType:"submit",children:"\u786e\u5b9a"})]})]})}),(0,N.jsx)(g.Z,{title:"\u7f16\u8f91",visible:la,onCancel:function(){ia(!1),ma([]),pa([])},footer:null,maskClosable:!1,children:(0,N.jsxs)(u.Z,{name:"basic134",layout:"vertical",onFinish:function(e){v.Z.post("system_management/systemParam/updateLogoSysParam",{id:X,mainLogo:"",paramName:ne,sysLogo:Za}).then((function(e){console.log(e),200==e.data.code?(ia(!1),ma([]),pa([]),h.ZP.success("\u6210\u529f"),Zt.resetFields(),Ct()):h.ZP.info(e.data.msg)})).catch((function(e){console.log(e)}))},onFinishFailed:function(e){console.log(e)},autoComplete:"off",form:Zt,children:[(0,N.jsxs)(u.Z.Item,{label:"\u7cfb\u7edfLOGO ",style:{borderBottom:"1px solid rgba(255,255,255,0.2)"},children:[(0,N.jsx)("span",{className:"systemlogo",children:"\u652f\u6301200KB\u4ee5\u5185\u7684PNG/JPG/SVG\u683c\u5f0f\u56fe\u7247\uff0c\u5efa\u8bae\u5206\u8fa8\u7387110*50"}),(0,N.jsx)(r,{gutter:8,style:{marginTop:10},children:(0,N.jsx)(c,{span:24,children:(0,N.jsx)(u.Z.Item,{name:"sysLogo",children:(0,N.jsx)(x.Z,(0,n.Z)((0,n.Z)({},It),{},{fileList:da,listType:"picture-card",maxCount:1,onChange:function(e){var a=e.fileList;a.length>0&&("image/png"!=a[0].type&&"image/jpeg"!=a[0].type&&"image/svg+xml"!=a[0].type||a[0].size/1024>200||ma(a))},accept:".jpg,.png,.svg",showPreviewIcon:!1,children:(0,N.jsx)(Z.ZP,{type:"primary",children:"\u70b9\u51fb\u4e0a\u4f20"})}))})})})]}),(0,N.jsxs)(u.Z.Item,{wrapperCol:{offset:14,span:10},style:{textAlign:"right"},children:[(0,N.jsx)(Z.ZP,{ghost:!0,onClick:function(){ia(!1),ma([]),pa([])},children:"\u53d6\u6d88"}),(0,N.jsx)(Z.ZP,{type:"primary",htmlType:"submit",children:"\u786e\u5b9a"})]})]})}),(0,N.jsx)(g.Z,{title:"\u7f16\u8f91",visible:Fa,onCancel:function(){Ca(!1)},footer:null,maskClosable:!1,children:(0,N.jsxs)(u.Z,{name:"basic",layout:"vertical",onFinish:function(e){console.log(e),v.Z.post("system_management/systemParam/updateBaseLineForecastSysParam",{baseLineGetMethod:e.baseLineGetMethod,id:X,loadForecastGetMethod:e.loadForecastGetMethod,paramName:ne,pvForecastGetMethod:e.pvForecastGetMethod}).then((function(e){console.log(e),200==e.data.code?(Ca(!1),h.ZP.success("\u6210\u529f"),xt.resetFields(),Ct()):h.ZP.info(e.data.msg)})).catch((function(e){console.log(e)}))},onFinishFailed:function(e){console.log(e,"filad")},autoComplete:"off",form:xt,children:[(0,N.jsx)(u.Z.Item,{label:"\u57fa\u7ebf\u8d1f\u8377\u83b7\u53d6\u65b9\u5f0f",name:"baseLineGetMethod",children:(0,N.jsx)(m.Z,{children:Sa&&Sa.map((function(e,a){return(0,N.jsx)(S,{value:e.name,children:e.name},e.id)}))})}),(0,N.jsx)(u.Z.Item,{label:"\u8d1f\u8377\u9884\u6d4b\u83b7\u53d6\u65b9\u5f0f ",name:"loadForecastGetMethod",children:(0,N.jsx)(m.Z,{children:Sa&&Sa.map((function(e,a){return(0,N.jsx)(S,{value:e.name,children:e.name},e.id)}))})}),(0,N.jsx)(u.Z.Item,{label:"\u5149\u4f0f\u53d1\u7535\u9884\u6d4b\u83b7\u53d6\u65b9\u5f0f ",name:"pvForecastGetMethod",children:(0,N.jsx)(m.Z,{children:Sa&&Sa.map((function(e,a){return(0,N.jsx)(S,{value:e.name,children:e.name},e.id)}))})}),(0,N.jsxs)(u.Z.Item,{wrapperCol:{offset:14,span:10},style:{textAlign:"right"},children:[(0,N.jsx)(Z.ZP,{ghost:!0,onClick:function(){Ca(!1)},children:"\u53d6\u6d88"}),(0,N.jsx)(Z.ZP,{type:"primary",htmlType:"submit",children:"\u786e\u5b9a"})]})]})}),(0,N.jsx)(g.Z,{title:"\u7f16\u8f91",visible:Ma,onCancel:function(){Ka(!1)},footer:null,maskClosable:!1,children:(0,N.jsxs)(u.Z,{name:"basic",layout:"vertical",onFinish:function(e){console.log(e);var a=new URLSearchParams;a.append("id",X),a.append("value",e.value),v.Z.post("system_management/systemParam/updateDemandResponsePlatFormParam",a).then((function(e){console.log(e),200==e.data.code?(Ka(!1),h.ZP.success("\u6210\u529f"),Pt.resetFields(),Ct()):h.ZP.info(e.data.msg)})).catch((function(e){console.log(e)}))},onFinishFailed:function(e){console.log(e,"filad")},autoComplete:"off",form:Pt,children:[(0,N.jsx)(u.Z.Item,{label:"\u5404\u5730\u7535\u7f51\u516c\u53f8\u9700\u6c42\u54cd\u5e94\u5e73\u53f0",name:"value",children:(0,N.jsx)(m.Z,{children:La&&La.map((function(e,a){return(0,N.jsx)(S,{value:e.name,children:e.name},a)}))})}),(0,N.jsxs)(u.Z.Item,{wrapperCol:{offset:14,span:10},style:{textAlign:"right"},children:[(0,N.jsx)(Z.ZP,{ghost:!0,onClick:function(){Ka(!1)},children:"\u53d6\u6d88"}),(0,N.jsx)(Z.ZP,{type:"primary",htmlType:"submit",children:"\u786e\u5b9a"})]})]})}),(0,N.jsx)(g.Z,{title:"\u7f16\u8f91",visible:Va,onCancel:Lt,footer:null,width:600,maskClosable:!1,children:(0,N.jsxs)(u.Z,{name:"dynamic_form_nest_item",autoComplete:"off",onFinish:function(e){console.log(e);var a=[];Object.keys(e).forEach((function(t){var n=t.substring(0,t.indexOf("-")),s=t.substring(t.indexOf("-")+1);"fields"===n&&e["field-".concat(s)]&&a.push({name:e["field-".concat(s)],param:e[t]})})),console.log(a),v.Z.post("system_management/systemParam/updateThirdPartyEnergyPlat",{id:X,param:a,status:e.whetherstatus}).then((function(e){console.log(e),200==e.data.code&&(h.ZP.success("\u6210\u529f"),za(!1),bt.resetFields(),Ct())})).catch((function(e){console.log(e)}))},layout:"vertical",form:bt,children:[(0,N.jsx)(u.Z.Item,{name:"whetherstatus",label:"\u662f\u5426\u5bf9\u63a5\u7b2c\u4e09\u65b9\u80fd\u6e90\u5e73\u53f0",children:(0,N.jsxs)(j.ZP.Group,{onChange:function(e){console.log(e),Xa(e.target.value)},children:[(0,N.jsx)(j.ZP,{value:"0",children:"\u662f"}),(0,N.jsx)(j.ZP,{value:"1",children:"\u5426"})]})}),qa.map((function(e,a){return(0,N.jsxs)(u.Z.Item,{children:[(0,N.jsx)(u.Z.Item,{name:"field-".concat(e.name),label:"\u5e73\u53f0\u540d\u79f0",style:{display:"inline-block",width:"40%"},children:(0,N.jsx)(d.Z,{placeholder:"\u8bf7\u8f93\u5165\u5e73\u53f0\u540d\u79f0"})}),(0,N.jsx)(u.Z.Item,{label:"\u5e73\u53f0\u53c2\u6570",name:"fields-".concat(e.name),style:{display:"inline-block",width:"calc(60% - 32px)",marginLeft:8},children:(0,N.jsx)(d.Z,{placeholder:"\u8bf7\u8f93\u5165\u5e73\u53f0\u53c2\u6570"})}),"0"==Qa&&qa.length>1||"1"==Qa?(0,N.jsx)(F.Z,{onClick:function(){return Nt(e.name)}}):""]},e.name)})),(0,N.jsx)(u.Z.Item,{children:(0,N.jsx)(Z.ZP,{type:"dashed",onClick:function(){var e=Date.now();Ja((function(a){return[].concat((0,s.Z)(a),[{name:e,param:""}])}))},block:!0,icon:(0,N.jsx)(C.Z,{}),children:"\u65b0\u589e\u7b2c\u4e09\u65b9\u80fd\u6e90\u5e73\u53f0"})}),(0,N.jsxs)(u.Z.Item,{wrapperCol:{offset:14,span:10},style:{textAlign:"right"},children:[(0,N.jsx)(Z.ZP,{ghost:!0,onClick:Lt,children:"\u53d6\u6d88"}),(0,N.jsx)(Z.ZP,{type:"primary",htmlType:"submit",children:"\u786e\u8ba4"})]})]})})]})}},62995:function(){}}]);
//# sourceMappingURL=2660.5adccf46.chunk.js.map