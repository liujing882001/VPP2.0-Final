{"version":3,"file":"static/js/4974.e8faba59.chunk.js","mappings":"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","sources":["views/Carbon/skin/index.js"],"sourcesContent":["import React, { useEffect,useState } from 'react';\r\nimport { Link } from \"react-router-dom\";\n\r\nimport { Tabs,Table,Select,Input,DatePicker,ConfigProvider,\r\nButton,Space,Spin,message  } from 'antd';\nimport {\n  InfoCircleOutlined,\r\n  \n} from '@ant-design/icons';\r\nimport './index.css'\r\nimport './skin.scss'\r\n\r\nimport locale from 'antd/locale/zh_CN';\nimport dayjs from 'dayjs';\r\nimport http from '../../../server/server.js'\r\nimport { createHashHistory } from \"history\";\r\n \r\n // import http from '../../server/server.js'\r\n const history = createHashHistory();\r\nconst { Search } = Input;\r\nconst { RangePicker } = DatePicker;\r\nconst { Option } = Select;\r\n\r\nconst dateFormat = 'YYYY-MM-DD'; // 定义你需要的时间格式\nconst monthFormat = 'YYYY-MM'; // 定义你需要的时间格式\n// 获取前一天的时间\nconst Skin =(props) =>{\r\n\tconst [nodeList, setNodeList] = useState([]);\r\n\tconst [currentUnit, setCurrentUnit] = useState('请选择');\r\n\tconst [nodeId, setNodeId] = useState('请选择');\r\n\tconst [endTime, setEndTime] = useState('');\r\n\tconst [startTime, setStartTime] = useState('');\r\n\tconst [total, setTotal] = useState('-');\r\n\tconst [greenArea, setGreenArea] = useState('-');\r\n\tconst [greenEmissions, setGreenEmissions] = useState('-');\r\n\tconst [treeNum, setTreeNum] = useState('-');\r\n\tconst [treeEmissions, setTreeEmissions] = useState('-');\r\n\tconst [setLoading, setSetLoading] = useState(false);\r\n\tconst [nodeName, setNodeName] = useState('');\r\n\tconst [currentloading, setCurrentloading] = useState(false);\r\n\tconst [isFirst,setIsFirst] = useState(false);\r\n\t\r\n\tuseEffect(() =>{\r\n\t\tgetnodeList()\r\n\r\n\t},[])\r\n\tuseEffect(() =>{\r\n\t\tif(props.location.query){\r\n\t\t\tif(isFirst){\r\n\t\t\t\tgetCarbonSink()\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t},[isFirst])\r\n\tconst onSearch =(e) =>{\r\n\t\t\r\n\t}\r\n\r\n\t// 获取节点列表\r\n\tconst getnodeList=() =>{\r\n\t\t// 节点\r\n\t\tsetCurrentloading(true)\r\n\t\thttp.post('system_management/node_model/nodeNameList').then(res =>{\r\n\t\t\tconsole.log(res)\r\n\t\t\tif(res.data.code==200){\r\n\t\t\t\t\r\n\t\t\t\tif(props.location.query){\r\n\t\t\t\t\tlet query =props.location.query\r\n\t\t\t\t\tconsole.log(query)\r\n\t\t\t\t\tsetEndTime(query.endTime);\r\n\t\t\t\t\tsetStartTime(query.startTime);\r\n\t\t\t\t\tsetNodeId(query.nodeId)\r\n\t\t\t\t\tsetIsFirst(true)\r\n\t\t\t\t}\r\n\t\t\t\tsetNodeList(res.data.data);\r\n\t\t\t\tsetCurrentUnit(res.data.data[0].id);\r\n\t\t\t\tsetCurrentloading(false)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\t// 查询碳汇信息\r\n\tconst getCarbonSink=() =>{\r\n\t\tsetSetLoading(true)\r\n\t\thttp.post('carbon/sink/getCarbonSink',{\r\n\t\t\t\"ctype\": \"\",\r\n\t\t\t\"endTime\": endTime,\r\n\t\t\t\"nodeId\": nodeId,\r\n\t\t\t\"number\": 1,\r\n\t\t\t\"pageSize\": 10,\r\n\t\t\t\"startTime\": startTime,\r\n\t\t}).then(res =>{\r\n\t\t\tconsole.log(res)\r\n\t\t\tif(res.data.code==200){\r\n\t\t\t\tlet data = res.data.data\r\n\t\t\t\tif(data){\r\n\t\t\t\t\tsetTotal(Number(data.total).toFixed(2));\r\n\t\t\t\t\tsetGreenArea(Number(data.greenArea).toFixed(2));\r\n\t\t\t\t\tsetGreenEmissions(Number(data.greenEmissions).toFixed(2));\r\n\t\t\t\t\tsetTreeNum(Number(data.treeNum).toFixed(2));\r\n\t\t\t\t\tsetTreeEmissions(Number(data.treeEmissions).toFixed(2));\r\n\t\t\t\t\tsetSetLoading(false)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tsetTotal('-');\r\n\t\t\t\t\tsetGreenArea('-');\r\n\t\t\t\t\tsetGreenEmissions('-');\r\n\t\t\t\t\tsetTreeNum('-');\r\n\t\t\t\t\tsetTreeEmissions('-');\r\n\t\t\t\t\tsetSetLoading(false)\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}).catch(err =>{\r\n\t\t\tconsole.log(err)\r\n\t\t})\r\n\t}\r\n\t// 选择月份\r\n\tconst hanleMonth =(val,mode) =>{\r\n\t\tconsole.log(mode)\r\n\t\tsetStartTime(mode[0]);\r\n\t\tsetEndTime(mode[1])\r\n\t}\r\n\t// sousuo\r\n\tconst search =() =>{\r\n\t\tif(endTime&&startTime){\r\n\t\t\tgetCarbonSink()\r\n\t\t}else{\r\n\t\t\tmessage.info('请选择时间')\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t// 选择节点\r\n\tconst handlepoint =(val) =>{\r\n\t\tconsole.log(val)\r\n\t\tsetNodeId(val);\r\n\t\tsetCurrentUnit(val)\r\n\t}\r\n\tconst area = () =>{\r\n\t\tif(endTime&&startTime&&nodeId){\r\n\t\t\tprops.history.push({\r\n\t\t\t\tpathname: '/area',\r\n\t\t\t\tstate: {\r\n\t\t\t\t\tnodeId: nodeId,\r\n\t\t\t\t\ttitle:'绿化面积',\r\n\t\t\t\t\tstartTime:startTime,\r\n\t\t\t\t\tendTime:endTime\t\t\t\t\t\t\t\t  \r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}else if(endTime==''){\r\n\t\t\tmessage.info('请选择时间')\r\n\t\t}else if(nodeId==''){\r\n\t\t\tmessage.info('请选择节点')\r\n\t\t}\r\n\r\n\t}\r\n\tconst area1 =() =>{\r\n\t\tif(endTime&&startTime&&nodeId){\r\n\t\t\tprops.history.push({\r\n\t\t\t\tpathname: '/area',\r\n\t\t\t\tstate: {\r\n\t\t\t\t\tnodeId: nodeId,\r\n\t\t\t\t\ttitle:'种植树木',\r\n\t\t\t\t\tstartTime:startTime,\r\n\t\t\t\t\tendTime:endTime\t\t\t\t\t\t\t\t  \r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}else if(endTime==''){\r\n\t\t\tmessage.info('请选择时间')\r\n\t\t}else if(nodeId==''){\r\n\t\t\tmessage.info('请选择节点')\r\n\t\t}\r\n\t}\r\n\r\n\tconst disabledDate: RangePickerProps['disabledDate'] = current => {\r\n\t\treturn current < dayjs(new Date('2023-01')) || current > dayjs().endOf('month')\r\n\t};\r\n\t\r\n\tconst areaquery = {\r\n\t\tpathname: '/home/user/area',\r\n\t\tstate: '绿化面积'\r\n\t}\r\n\tconst dateFormat = 'YYYY-MM';\r\n\treturn(\r\n\t\t<div className=\"skin\">\r\n\t\t\t<div className=\"header\" >\r\n\t\t\t\t\t节点：\r\n\t\t\t\t\t<Select\r\n\t\t\t\t\t\tdefaultValue={currentUnit}\r\n\t\t\t\t\t\tstyle={{ width: 217 }}\r\n\t\t\t\t\t\tonChange={handlepoint}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tloading={currentloading}\r\n\t\t\t\t\t\tvalue={nodeId}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tnodeList.length&&nodeList.map(res =>{\r\n\t\t\t\t\t\t\t\treturn <Option key={res.id} value={res.id}>{res.nodeName}</Option>\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t<ConfigProvider locale={locale}>\r\n\t\t\t\t\t\t\t<RangePicker onChange={hanleMonth} \r\n\t\t\t\t\t\t\tdisabledDate={disabledDate}\r\n\t\t\t\t\t\t\tvalue={startTime!=''&&endTime!=''? [dayjs(startTime, dateFormat), dayjs(endTime, dateFormat)] : undefined}\r\n\t\t\t\t\t\t\tformat={dateFormat}\r\n\t\t\t\t\t\t\tpicker=\"month\"  />\r\n\t\t\t\t\t\t</ConfigProvider>\r\n\t\t\t\t\t</Space>\r\n\t\t\t\t\t<Button type=\"primary\" onClick={search} style={{marginLeft:'24px'}}>查询</Button>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"skin\">\r\n\t\t\t\t<Spin spinning={setLoading}>\r\n\t\t\t\t<div className=\"allskin\">\r\n\t\t\t\t\t<div className=\"skinbg\">总</div>\r\n\t\t\t\t\t<p>总吸收碳排放量  </p>\r\n\t\t\t\t\t<span>{total}t</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"skinarea\">\r\n\t\t\t\t\t<div className=\"wider\">\r\n\t\t\t\t\t\t<h4>绿化面积\r\n\t\t\t\t\t\t\t<Button ghost onClick={area}>查看详情</Button>\r\n\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t<div className=\"afforest\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<img src={require('../../../style/damao/tree.png')}  />\r\n\t\t\t\t\t\t\t\t<p>{greenArea}㎡</p>\r\n\t\t\t\t\t\t\t\t<span>逐月累计绿化面积</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<img src={require('../../../style/damao/tan1.png')}  />\r\n\t\t\t\t\t\t\t\t<p>{greenEmissions}t</p>\r\n\t\t\t\t\t\t\t\t<span>吸收的碳排放量</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div style={{textAlign:'center',paddingTop:'20px'}}>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"wider\">\r\n\t\t\t\t\t\t<h4>种植树木\r\n\t\t\t\t\t\t\t<Button ghost onClick={area1}>查看详情</Button>\r\n\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t<div className=\"afforest\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<img src={require('../../../style/damao/tree.png')}  />\r\n\t\t\t\t\t\t\t\t<p>{treeNum}棵</p>\r\n\t\t\t\t\t\t\t\t<span>逐月累计种植树木</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<img src={require('../../../style/damao/tan1.png')}  />\r\n\t\t\t\t\t\t\t\t<p>{treeEmissions}t</p>\r\n\t\t\t\t\t\t\t\t<span>吸收的碳排放量</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div style={{textAlign:'center',paddingTop:'20px'}}>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t</Spin>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\t\r\nexport default Skin\r\n\r\n\r\n\r\n\r\n// <div className=\"powerheader skinheader\" style={{background:'#09183F',margin:'0px 10px 19px 0px'}}>\r\n// \t<Select defaultValue=\"商汤大厦\" style={{ width: 150 }} onChange={this.handleChange}>\r\n// \t\t<Option value=\"jack\">商汤大厦</Option>\r\n// \t\t<Option value=\"lucy\">中航技</Option>\r\n// \t\t<Option value=\"Yiminghe\">储能电站</Option>\r\n// \t</Select>\r\n// \t<ConfigProvider  locale={locale} >\r\n// \t\t<RangePicker disabledDate={disabledDate} style={{float:'right',marginRight:30}}  />\r\n\t\t\r\n// \t</ConfigProvider>\r\n// </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":["RangePicker","createHashHistory","Input","DatePicker","Option","Select","props","useState","nodeList","setNodeList","currentUnit","setCurrentUnit","nodeId","setNodeId","endTime","setEndTime","startTime","setStartTime","total","setTotal","greenArea","setGreenArea","greenEmissions","setGreenEmissions","treeNum","setTreeNum","treeEmissions","setTreeEmissions","setLoading","setSetLoading","currentloading","setCurrentloading","isFirst","setIsFirst","useEffect","getnodeList","location","query","getCarbonSink","http","then","res","console","log","data","code","id","Number","toFixed","catch","err","dateFormat","className","defaultValue","style","width","onChange","val","loading","value","length","map","nodeName","locale","mode","disabledDate","current","dayjs","Date","endOf","undefined","format","picker","type","onClick","message","marginLeft","spinning","ghost","history","push","pathname","state","title","src","require","textAlign","paddingTop"],"sourceRoot":""}