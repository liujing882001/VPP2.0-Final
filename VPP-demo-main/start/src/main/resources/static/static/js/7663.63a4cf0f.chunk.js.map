{"version":3,"file":"static/js/7663.63a4cf0f.chunk.js","mappings":"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","sources":["views/respond/Monitoring/index.js"],"sourcesContent":["import React,{Component} from 'react'\r\nimport { Table ,DatePicker ,ConfigProvider,Modal} from 'antd';\r\nimport './index.css'\r\nimport http from '../../../server/server.js'\r\n\r\nclass Monitoring extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state={\r\n\t\t\tcurrentState:2,\r\n\t\t\tdataSource:[],\r\n\t\t\tisModalVisible:false,\r\n\t\t\tlookdataSource:[],\r\n\t\t\tloading:false,\r\n\t\t\tpage:1\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tthis.getASMonitorList()\r\n\t}\r\n\tchosedate(e){\r\n\t\tconsole.log(e)\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tcurrentState:e,\r\n\t\t\t// type:e\r\n\t\t},() =>{\r\n\t\t\t// this.pVList()\r\n\t\t\tthis.getASMonitorList()\r\n\t\t})\r\n\t}\r\n\t// 查询实时监测列表\r\n\tgetASMonitorList(){\r\n\t\tthis.setState({\r\n\t\t\tloading:true\r\n\t\t})\r\n\t\thttp.post('ancillary_services/ancillary_monitor/getASMonitorList',{\r\n\t\t\tnumber:this.state.page,\r\n\t\t\tpageSize:10,\r\n\t\t\tstatus:this.state.currentState\r\n\t\t}).then(res =>{\r\n\t\t\tconsole.log(res)\r\n\t\t\tif(res.data.code ==200){\r\n\t\t\t\tlet data = res.data.data.content\r\n\t\t\t\tdata.sort(function(a, b) {\r\n\t\t\t\t    return b.taskCode< a.taskCode? -1 : 1\r\n\t\t\t\t})\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdataSource:data,\r\n\t\t\t\t\tloading:false,\r\n\t\t\t\t\ttotaltab:res.data.data.totalElements\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}).catch(err =>{\r\n\t\t\tconsole.log(err)\r\n\t\t})\r\n\t}\r\n\tlookover =(e) =>{\r\n\t\tconsole.log(e)\r\n\t\tthis.setState({\r\n\t\t\tisModalVisible:true\r\n\t\t},() =>{\r\n\t\t\thttp.get('ancillary_services/ancillary_monitor/getASMonitorListByASId?asId=' +e.asId).then(res =>{\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\tif(res.data.code ==200){\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tlookdataSource:res.data.data\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}).catch(err =>{\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\trender(){\r\n\t\tlet {dataSource,isModalVisible,lookdataSource,loading,page} = this.state\r\n\t\tconst columns =[\r\n\t\t\t{\r\n\t\t\t\ttitle: '序号',\r\n\t\t\t\twidth: '5%',\r\n\t\t\t\trender:(value, item, index) => (page - 1) * 10 + index+1,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '任务编码',\r\n\t\t\t\tdataIndex: 'taskCode',\r\n\t\t\t\tkey: 'taskCode',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '辅助服务时段',\r\n\t\t\t\tdataIndex: 'name',\r\n\t\t\t\tkey: 'name',\r\n\t\t\t\trender: (s, record, index) =>{\r\n\t\t\t\t\t// console.log(record)\r\n\t\t\t\t\treturn record.assDate +'    ' +record.assTime+'~' +record.aseTime\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '辅助服务规模（kW）',\r\n\t\t\t\tdataIndex: 'asLoad',\r\n\t\t\t\tkey: 'asLoad',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '辅助服务负荷（kW）',\r\n\t\t\t\tdataIndex: 'asLoad',\r\n\t\t\t\tkey: 'asLoad',\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '辅助服务类型',\r\n\t\t\t\tdataIndex: 'asType',\r\n\t\t\t\tkey: 'asType',\r\n\t\t\t\trender: (text,record,_,action) =>{\r\n\t\t\t\t\tif(record.asType ===1){\r\n\t\t\t\t\t\treturn '调峰'\r\n\t\t\t\t\t}else if(record.asType ===2){\r\n\t\t\t\t\t\treturn '调频'\r\n\t\t\t\t\t}else if(record.asType ===3){\r\n\t\t\t\t\t\treturn '备用'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '状态',\r\n\t\t\t\tdataIndex: 'astatus',\r\n\t\t\t\tkey: 'astatus',\r\n\t\t\t\trender: (text,record,_,action) =>{\r\n\t\t\t\t\tif(record.astatus ===1){\r\n\t\t\t\t\t\treturn '未开始'\r\n\t\t\t\t\t}else if(record.astatus ===2){\r\n\t\t\t\t\t\treturn '执行中'\r\n\t\t\t\t\t}else if(record.astatus ===3){\r\n\t\t\t\t\t\treturn '已结束'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '详情',\r\n\t\t\t\tkey: 'action',\r\n\t\t\t\trender: (text,record,_,action) =>{\r\n\t\t\t\t\treturn <a onClick={() => this.lookover(record)}>查看</a>\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t]\r\n\t\tconst handleOk = () => {\r\n\t\t    // setIsModalVisible(false);\r\n\t\t\tthis.setState({\r\n\t\t\t\tisModalVisible:false\r\n\t\t\t})\r\n\t\t};\r\n\t\t\r\n\t\tconst handleCancel = () => {\r\n\t\t\t  this.setState({\r\n\t\t\t  \tisModalVisible:false\r\n\t\t\t  })\r\n\t\t    // setIsModalVisible(false);\r\n\t\t};\r\n\t\tconst lookcolumns =[\r\n\t\t\t{\r\n\t\t\t\ttitle: '节点',\r\n\t\t\t\tdataIndex: 'nodeName',\r\n\t\t\t\tkey: 'nodeName',\r\n\t\t\t\twidth:'15%'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '系统',\r\n\t\t\t\tdataIndex: 'systemName',\r\n\t\t\t\tkey: 'systemName',\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t{\r\n\t\t\t\ttitle: '设备',\r\n\t\t\t\tdataIndex: 'deviceName',\r\n\t\t\t\tkey: 'deviceName',\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t{\r\n\t\t\t\ttitle: '额定负荷（kW）',\r\n\t\t\t\tdataIndex: 'deviceRatedPower',\r\n\t\t\t\tkey: 'deviceRatedPower',\r\n\t\t\t\twidth:'15%'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '实时负荷（kW）',\r\n\t\t\t\tdataIndex: 'actualLoad',\r\n\t\t\t\tkey: 'actualLoad',\r\n\t\t\t\twidth:'15%'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '当前状态',\r\n\t\t\t\tdataIndex: 'sstatus',\r\n\t\t\t\tkey: 'sstatus',\r\n\t\t\t\trender:(text,record,index)=>{\r\n\t\t\t\t\tif(record.sstatus==1){\r\n\t\t\t\t\t\treturn '开启'\r\n\t\t\t\t\t}else if(record.sstatus==2){\r\n\t\t\t\t\t\treturn '关闭'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '执行策略',\r\n\t\t\t\tdataIndex: 'realLoad',\r\n\t\t\t\tkey: 'realLoad',\r\n\t\t\t\trender:(text,record,index)=>{\r\n\t\t\t\t\tif(record.sstatus==1){\r\n\t\t\t\t\t\treturn '开启'\r\n\t\t\t\t\t}else if(record.sstatus==2){\r\n\t\t\t\t\t\treturn '关闭'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t]\r\n\t\tconst onChangetab = page => {\r\n\t\t    console.log(page);\r\n\t\t\tthis.setState({\r\n\t\t\t\tpage:page.current\r\n\t\t\t},() =>{\r\n\t\t\t\tthis.getASMonitorList()\r\n\t\t\t})\r\n\t\t};\r\n\t\treturn (\r\n\t\t\t<div className=\"dections\">\r\n\t\t\t\t<div className=\"allbtns\" style={{width:'60%'}}>\r\n\t\t\t\t\t<span className={2===this.state.currentState?\"active\":'all'} onClick={()=>this.chosedate(2)}>执行中</span>\r\n\t\t\t\t\t<span className={1===this.state.currentState?\"active\":'all'} onClick={()=>this.chosedate(1)}>未开始</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"alltablsefg\">\r\n\t\t\t\t\t<Table dataSource={dataSource} columns={columns} \r\n\t\t\t\t\tloading={loading} \r\n\t\t\t\t\t\tonChange={onChangetab}\r\n\t\t\t\t\t\tpagination={\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t  total: this.state.totaltab,//数据的总条数\r\n\t\t\t\t\t\t\t  defaultCurrent: 1,//默认当前的页数\r\n\t\t\t\t\t\t\t  defaultPageSize: 10,//默认每页的条数\r\n\t\t\t\t\t\t\t  showSizeChanger:false,\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Modal title=\"查看详情\" visible={isModalVisible} \r\n\t\t\t\twidth={720}\r\n\t\t\t\tcancelText='取消'\r\n\t\t\t\tokText='确定'\r\n\t\t\t\tonOk={handleOk} onCancel={handleCancel}>\r\n\t\t\t\t       <Table dataSource={lookdataSource} columns={lookcolumns} />;\r\n\t\t\t\t\r\n\t\t\t\t</Modal>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\t\r\n}\r\n\r\nexport default Monitoring"],"names":["Monitoring","props","lookover","e","console","log","setState","isModalVisible","http","asId","then","res","data","code","lookdataSource","catch","err","state","currentState","dataSource","loading","page","this","getASMonitorList","number","pageSize","status","content","sort","a","b","taskCode","totaltab","totalElements","columns","title","width","render","value","item","index","dataIndex","key","s","record","assDate","assTime","aseTime","text","_","action","asType","astatus","onClick","className","style","chosedate","onChange","current","pagination","total","defaultCurrent","defaultPageSize","showSizeChanger","visible","cancelText","okText","onOk","onCancel","sstatus","Component"],"sourceRoot":""}