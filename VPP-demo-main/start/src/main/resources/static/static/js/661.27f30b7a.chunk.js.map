{"version":3,"file":"static/js/661.27f30b7a.chunk.js","mappings":"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","sources":["views/system/user/menu_management/index.js"],"sourcesContent":["import React,{useEffect,useState} from 'react'\r\nimport { Table,Button,Space ,Modal,Form,Input,message} from 'antd';\r\nimport http from '../../../../server/server.js'\r\n\r\nimport './index.css'\r\nconst layout = {\n  labelCol: { span: 4 },\n  wrapperCol: { span: 20 },\n};\nconst tailLayout = {\n  wrapperCol: { offset: 16, span: 8 },\n};\r\nconst Menu_management =() =>{\r\n\tconst [dataSource,setDataSource] = useState([]);\r\n\tconst [Visible, setVisible] = useState(false);\r\n\tconst [menuId, setMenuId] = useState('');\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [myForm]  = Form.useForm()\r\n\tuseEffect(() =>{\r\n\t\tmenuList()\r\n\t},[])\r\n\tconst menuList =() =>{\r\n\t\tsetLoading(true)\r\n\t\thttp.post('system_management/system_user/menu/menuList').then(res =>{\r\n\t\t\tconsole.log(res)\r\n\t\t\tif(res.data.code ==200){\r\n\t\t\t\tsetDataSource(res.data.data);\r\n\t\t\t\tsetLoading(false)\r\n\t\t\t}\r\n\t\t}).catch(err =>{\r\n\t\t\t\r\n\t\t})\r\n\t}\r\n\tconst edit =(e) =>{\r\n\t\tconsole.log(e)\r\n\t\tsetVisible(true);\r\n\t\tsetMenuId(e.menuId);\r\n\t\tmyForm.setFieldsValue({\r\n\t\t\tmenuName:e.menuName,\r\n\t\t})\r\n\t}\r\n\t\t\r\n\t\r\n\tlet columns = [{\n\t\t\ttitle: '名称',\n\t\t\tdataIndex: 'menuName',\n\t\t\tkey: 'menuName',\n\t\t\trender: text => <a>{text}</a>,\n\t\t},\n\t\t{\n\t\t\ttitle: '图标',\n\t\t\tdataIndex: 'icon',\n\t\t\tkey: 'icon',\r\n\t\t\trender: (text,record) =>{\r\n\t\t\t\treturn text?text:'-'\r\n\t\t\t}\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '类型',\r\n\t\t\tdataIndex: 'menuType',\r\n\t\t\tkey: 'menuType',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '排序',\r\n\t\t\tdataIndex: 'orderNum',\r\n\t\t\tkey: 'orderNum',\r\n\t\t},\r\n\r\n\t\t{\r\n\t\t\ttitle: '组件路径',\r\n\t\t\tdataIndex: 'component',\r\n\t\t\tkey: 'component',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '状态',\r\n\t\t\tdataIndex: 'icon',\r\n\t\t\tkey: 'icon',\r\n\t\t\trender: (text,record) =>{\r\n\t\t\t\treturn text?text:'-'\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '权限标识',\r\n\t\t\tdataIndex: 'perms',\r\n\t\t\tkey: 'perms',\r\n\t\t\trender: (text,record) =>{\r\n\t\t\t\treturn text?text:'-'\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t{\r\n\t\t\ttitle: '操作',\r\n\t\t\tdataIndex: 'action',\r\n\t\t\tkey: 'action',\r\n\t\t\trender: (_, record) => (\r\n\t\t\t\t<Space size=\"middle\">\r\n\t\t\t\t\t<a  onClick={() => edit(record)}>编辑 </a>\r\n\t\t\t\t\t\r\n\t\t\t\t</Space>\r\n\t\t\t),\r\n\t\t},\r\n\t]\r\n\tconst handleCancel =() =>{\r\n\t\tmyForm.resetFields();\r\n\t\tsetVisible(false);\r\n\t}\r\n\t// 编辑\r\n\tconst onFinish1 =(values) =>{\r\n\t\tconsole.log(values)\r\n\t\tlet menuName = values.menuName\r\n\t\tconst params = new URLSearchParams();\r\n\t\tparams.append('menuName', menuName);\r\n\t\tparams.append('menuId', menuId);\r\n\t\thttp.post('system_management/system_user/menu/updateMenuName',params).then(res =>{\r\n\t\t\tif(res.data.code ==200){\r\n\t\t\t\tmessage.success('编辑成功')\r\n\t\t\t\t\r\n\t\t\t\tsetVisible(false)\r\n\t\t\t\tmenuList()\r\n\t\t\t\tmyForm.resetFields();\r\n\t\t\t\t\r\n\t\t\t}else{\r\n\t\t\t\tmessage.warning(res.data.msg)\r\n\t\t\t}\r\n\t\t}).catch(err =>{\r\n\t\t\tconsole.log(err)\r\n\t\t})\r\n\t}\r\n\tconst onReset1 =() =>{\r\n\t\tmyForm.resetFields();\r\n\t\t\r\n\t\tsetVisible(false)\r\n\t}\r\n\treturn(\r\n\t\t<div className=\"allcontent12 menu_management\" style={{padding:16}}>\r\n\t\t\t<Table rowKey={record => record.menuId} \r\n\t\t\t loading={loading}\r\n\t\t\tcolumns={columns} dataSource={dataSource} />\r\n\t\t\t<Modal title=\"编辑\"\r\n\t\t\t\tfooter={null}\r\n\t\t\t\tvisible={Visible} \r\n\t\t\t\t\r\n\t\t\t\tonCancel={handleCancel}>\r\n\t\t\t\t<Form form={myForm} {...layout} onFinish={onFinish1}>\r\n\t\t\t\t\t<Form.Item name=\"menuName\" label=\"菜单名称\" rules={[{ required: true ,message: '请填写名称' }]}>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t \r\n\t\t\t\t\t<Form.Item wrapperCol={{ offset: 14, span: 10 }} style={{textAlign:'right'}}>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<Button ghost onClick={onReset1}>\r\n\t\t\t\t\t\t\t取消\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t  <Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t确定\r\n\t\t\t\t\t\t  </Button>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form>\r\n\t\t\t</Modal>\r\n\t\t</div>\r\n\t)\r\n}\r\n\t\r\n\r\nexport default Menu_management"],"names":["layout","labelCol","span","wrapperCol","useState","dataSource","setDataSource","Visible","setVisible","menuId","setMenuId","loading","setLoading","Form","myForm","useEffect","menuList","http","then","res","console","log","data","code","catch","err","columns","title","dataIndex","key","render","text","record","_","size","onClick","e","setFieldsValue","menuName","className","style","padding","rowKey","footer","visible","onCancel","resetFields","form","onFinish","values","params","URLSearchParams","append","message","msg","name","label","rules","required","offset","textAlign","ghost","type","htmlType"],"sourceRoot":""}