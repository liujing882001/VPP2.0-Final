{"version":3,"file":"static/js/9745.651363f4.chunk.js","mappings":"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","sources":["views/system/personnel/personnel.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { Form, Input, Button ,Upload,message,\r\nTable,Divider,Modal,Checkbox ,Select} from 'antd';\r\n// import basePath from '../../../axios/common';\r\nimport axios from 'axios';\r\n// import api from '../../../utils/api'\r\nimport http from '../../../server/server.js'\r\nimport '../personnel/personnel.css';\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport md5 from 'js-md5';\n\r\nReact.Component.prototype.$md5 = md5;\r\nconst { confirm } = Modal;\r\n\r\n// import { SearchOutlined,PlusOutlined } from '@ant-design/icons';\r\nconst { Search } = Input;\r\n\r\nconst data = [\r\n  {\r\n    key: '1',\r\n    name: 'John Brown',\r\n    age: 32,\r\n    address: 'New York No. 1 Lake Park',\r\n  },\r\n  {\r\n    key: '2',\r\n    name: 'Jim Green',\r\n    age: 42,\r\n    address: 'London No. 1 Lake Park',\r\n  },\r\n  {\r\n    key: '3',\r\n    name: 'Joe Black',\r\n    age: 32,\r\n    address: 'Sidney No. 1 Lake Park',\r\n  },\r\n  {\r\n    key: '4',\r\n    name: 'Disabled User',\r\n    age: 99,\r\n    address: 'Sidney No. 1 Lake Park',\r\n  },\r\n];\r\nconst formItemLayout = {\r\n\tlabelCol: {\r\n\t\txs: { span: 28 },\r\n\t\tsm: { span: 8 },\r\n\t},\r\n\twrapperCol: {\r\n\t\txs: { span: 20 },\r\n\t\tsm: { span: 16 },\r\n\t},\r\n};\r\nconst tailLayout = {\n  wrapperCol: { offset: 8, span: 16 },\n};\r\nconst { Option } = Select;\r\n\r\nconst rowSelection = {\r\n\tonChange: (selectedRowKeys, selectedRows) => {\r\n\t\tconsole.log(`selectedRowKeys: ${selectedRowKeys}`, 'selectedRows: ', selectedRows);\r\n\t}\r\n\r\n};\r\nfunction getBase64(img, callback) {\r\n  const reader = new FileReader();\r\n  reader.addEventListener('load', () => callback(reader.result));\r\n  reader.readAsDataURL(img);\r\n}\r\n\r\nfunction beforeUpload(file) {\r\n  const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\r\n  if (!isJpgOrPng) {\r\n    message.error('You can only upload JPG/PNG file!');\r\n  }\r\n  const isLt2M = file.size / 1024 / 1024 < 2;\r\n  if (!isLt2M) {\r\n    message.error('Image must smaller than 2MB!');\r\n  }\r\n  return isJpgOrPng && isLt2M;\r\n}\r\nfunction del(e){\r\n\tconfirm({\r\n\t    title: '提示',\r\n\t    content: '本次操作将会删除员工信息，是否继续？',\r\n\t\tcancelText:'取消',\r\n\t\tokText:'确定',\r\n\t    onOk() {\r\n\t      console.log('OK');\r\n\t    },\r\n\t    onCancel() {\r\n\t      console.log('Cancel');\r\n\t    },\r\n\t  });\t\r\n}\r\nclass Personnel extends Component {\r\n\tconstructor() {\r\n\t\tsuper()\r\n\t\tthis.state={\r\n\t\t\tModalText: 'Content of the modal',\r\n\t\t\tvisible: false,\r\n\t\t\tconfirmLoading: false, \r\n\t\t\tloading: false,\r\n\t\t\timageUrl :'',\r\n\t\t\tdataSource:[],\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tthis.queryAllSysUser()\r\n\t}\r\n\tdel =(e) =>{\r\n\t\tconsole.log(e)\r\n\t\tlet userId = e.userId\r\n\t\tModal.confirm({\r\n\t\t    title: '确定要删除吗',\r\n\t\t    icon: <ExclamationCircleOutlined />,\r\n\t\t    // content: 'Bla bla ',\r\n\t\t    okText: '确定',\r\n\t\t    cancelText: '取消',\r\n\t\t\tcancelButtonProps: {className:'newbutton',style: { background: 'none'} }, \r\n\t\t\tonOk: () => {\r\n\t\t\t\thttp.post('sysUser/deleteSysUser?sysUserId='+userId).then(res =>{\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tif(res.data.code==200){\r\n\t\t\t\t\t\tmessage.success(res.data.msg);\r\n\t\t\t\t\t\tthis.queryAllSysUser()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tmessage.info(res.data.msg);\r\n\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t,\r\n\t\t\tonCancel() {\r\n\t\t\t\tconsole.log('Cancel');\r\n\t\t\t},\r\n\t\t  });\r\n\t\t// http.post('sysUser/deleteSysUser?sysUserId='+userId).then(res =>{\r\n\t\t// \tconsole.log(res)\r\n\t\t// \tif(res.data.code==200){\r\n\t\t// \t\tmessage.success(res.data.msg);\r\n\t\t// \t}else{\r\n\t\t// \t\tmessage.info(res.data.msg);\r\n\r\n\t\t// \t}\r\n\t\t// })\r\n\t\t// alert(0)\r\n\t}\r\n\tqueryAllSysUser(){\r\n\t\thttp.post('sysUser/queryAllSysUser').then(res =>{\r\n\t\t\tconsole.log(res)\r\n\t\t\tif(res.data.code==200){\r\n\t\t\t\tlet dataSource = []\r\n\t\t\t\tlet data  = res.data.data\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdataSource:res.data.data\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\thandleSubmit = e => {\r\n\t    e.preventDefault();\r\n\t    this.props.form.validateFields((err, values) => {\r\n\t      if (!err) {\r\n\t        console.log('Received values of form: ', values);\r\n\t      }\r\n\t    });\r\n\t}\r\n\tshowModal = () => {\r\n\t    this.setState({\r\n\t\t\tvisible: true,\r\n\t    });\r\n\t};\r\n\thandleOk = (values) => {\r\n\t\tconsole.log(values)\r\n\t\tconsole.log(this.refs.myForm.getFieldsValue())\r\n\t\tlet data = this.refs.myForm.getFieldsValue()\r\n\t};\r\n\t\r\n\thandleCancel = () => {\r\n\t    console.log('Clicked cancel button');\r\n\t    this.setState({\r\n\t      visible: false,\r\n\t    });\r\n\t};\r\n\tnormFile = e => {\r\n\t    console.log('Upload event:', e);\r\n\t    if (Array.isArray(e)) {\r\n\t\t\treturn e;\r\n\t    }\r\n\t    return e && e.fileList;\r\n\t};\r\n\thandleChange = info => {\r\n\t    if (info.file.status === 'uploading') {\r\n\t\t\tthis.setState({ loading: true });\r\n\t\t\treturn;\r\n\t    }\r\n\t    if (info.file.status === 'done') {\r\n\t      // Get this url from response in real world.\r\n\t\t\tgetBase64(info.file.originFileObj, imageUrl =>\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\timageUrl,\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t}),\r\n\t\t\t);\r\n\t    }\r\n\t};\r\n\tcancel =() =>{\r\n\t\tthis.setState({\r\n\t\t\tvisible: false,\r\n\t\t});\r\n\t}\r\n\tsearch = (val) =>{\r\n\t\tconsole.log(val)\r\n\t\thttp.post('sysUser/checkSysUserName?sysUserName='+val).then(res =>{\r\n\t\t\tconsole.log(res)\r\n\t\t})\r\n\t}\r\n\tdel(){\r\n\t\tconfirm({\r\n\t\t    title: '提示',\r\n\t\t    content: '本次操作将会删除员工信息，是否继续？',\r\n\t\t\tcancelText:'取消',\r\n\t\t\tokText:'确定',\r\n\t\t    onOk() {\r\n\t\t      console.log('OK');\r\n\t\t    },\r\n\t\t    onCancel() {\r\n\t\t      console.log('Cancel');\r\n\t\t    },\r\n\t\t});\t\r\n\t}\r\n\tpoint(){\r\n\t\tconfirm({\r\n\t\t    title: '提示',\r\n\t\t    content: '本次操作将会覆盖所有员工信息，是否继续？',\r\n\t\t\tcancelText:'取消',\r\n\t\t\tokText:'确定',\r\n\t\t    onOk() {\r\n\t\t      console.log('OK');\r\n\t\t    },\r\n\t\t    onCancel() {\r\n\t\t      console.log('Cancel');\r\n\t\t    },\r\n\t\t});\t\r\n\t}\r\n\trender(){\r\n\t\tconst columns = [\r\n\t\t\t{\r\n\t\t\t\ttitle: '序号',\r\n\t\t\t\twidth: '10%',\r\n\t\t\t\trender:(text,record,index)=> `${index+1}`,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '用户名',\r\n\t\t\t\tdataIndex: 'userName',\r\n\t\t\t\t// render: text => <a>{text}</a>,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '邮箱',\r\n\t\t\t\tdataIndex: 'userEmail',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: '管理员或普通用户',\r\n\t\t\t\tdataIndex: 'roleType',\r\n\t\t\t\trender:(text, record) =>{\r\n\t\t\t\t\tif(record.roleType =='ADMIN'){\r\n\t\t\t\t\t\treturn '管理员'\r\n\t\t\t\t\t}else if(record.roleType =='CONSUMER'){\r\n\t\t\t\t\t\treturn '普通用户'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t{\r\n\t\t\t    title: '操作',\r\n\t\t\t    key: 'action',\r\n\t\t\t    render: (text, record) => (\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<a onClick={() => this.del(record)}>删除</a>\r\n\t\t\t\t\t</span>\r\n\t\t\t    ),\r\n\t\t\t  },\r\n\t\t];\r\n\t\t// const { getFieldDecorator } = this.props.form;\r\n\t\t// const prefixSelector = getFieldDecorator('prefix', {\r\n\t\t//      initialValue: '中国86',\r\n\t\t// })\r\n\t\t// const uploadButton = (\r\n\t\t//       <div>\r\n\t\t//         <div className=\"ant-upload-text\">Upload</div>\r\n\t\t//       </div>\r\n\t\t// );\r\n\t\tconst onFinish = (values) => {\r\n\t\t\tconsole.log(values)\r\n\t\t\tlet passwords = md5(values.password)\r\n\t\t\tlet user = values.username\r\n\t\t\thttp.post('sysUser/checkSysUserName?sysUserName='+user,{\r\n\t\t\t\t\r\n\t\t\t}).then(res =>{\r\n\t\t\t\tif(res.data.code ==200){\r\n\t\t\t\t\thttp.post('sysUser/addSysUser',{\r\n\t\t\t\t\t\t\"configType\": \"\",\r\n\t\t\t\t\t\t\"roleType\": values.roletype,\r\n\t\t\t\t\t\t\"userEmail\": values.email,\r\n\t\t\t\t\t\t\"userId\": \"\",\r\n\t\t\t\t\t\t\"userName\":values.username,\r\n\t\t\t\t\t\t\"userPassword\": passwords\r\n\t\t\t\t\t}).then(res =>{\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tif(res.data.code ==200){\r\n\t\t\t\t\t\t\tmessage.success('添加成功')\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\tvisible: false,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\tthis.refs.myForm.resetFields()\r\n\t\t\t\t\t\t\tthis.queryAllSysUser()\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tmessage.info(res.data.msg)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}else{\r\n\t\t\t\t\tmessage.info(res.data.msg)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t\r\n\t\t}\r\n\t\tconst { imageUrl } = this.state;\r\n\t\tconst { visible, confirmLoading, ModalText ,dataSource} = this.state;\r\n\t\treturn(\r\n\t\t\t<div className=\"personal\">\r\n\t\t\t\t<div className=\"person\">\r\n\t\t\t\t\t<Button type=\"primary\" onClick={this.showModal}>新建用户</Button>\r\n\t\t\t\t\t<Search\r\n\t\t\t\t\t\tplaceholder=\"模糊搜索\"\r\n\t\t\t\t\t\tonSearch={this.search}\r\n\t\t\t\t\t\tstyle={{ width: 200 }}\r\n\t\t\t\t\t\tdisabled \r\n\t\t\t\t\t/>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"alltable\">\r\n\t\t\t\t\t<Table rowSelection={rowSelection} columns={columns} dataSource={dataSource} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\ttitle=\"新建用户\"\r\n\t\t\t\t\tcancelText=\"取消\"\r\n\t\t\t\t\tokText=\"\"\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\tonOk={this.handleOk}\r\n\t\t\t\t\tconfirmLoading={confirmLoading}\r\n\t\t\t\t\tonCancel={this.handleCancel}\r\n\t\t\t\t\tstyle={{ top: 'center' }}\r\n\t\t\t\t\tfooter={null}\r\n\t\t\t\t>\t\r\n\t\t\t\t\t<Form onSubmit={this.handleSubmit} {...formItemLayout} \r\n\t\t\t\t\tonFinish={onFinish}\r\n\t\t\t\t\tref=\"myForm\" className=\"newform\">\r\n\t\t\t\t\t\t<Form.Item label=\"用户名\" name=\"username\"\r\n\t\t\t\t\t\trules={[{ required: true, message: '请输入用户名' }]}\r\n\t\t\t\t\t\tgetValueFromEvent={(event) => {\r\n\t\t\t\t\t\t\t//正则匹配的是汉字和数字\r\n\t\t\t\t\t\t\treturn event.target.value.replace(/[\\u4e00-\\u9fa50-9]/g,'')\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t  placeholder=\"请输入用户名\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"密码\" name=\"password\"\r\n\t\t\t\t\t\t\trules={[{ required: true, message: '请输入用密码' }]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t <Input.Password />\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t    <Form.Item label=\"邮箱\" name=\"email\" \r\n\t\t\t\t\t\t\trules={[{\r\n\t\t\t\t\t\t\t\tlabel:\"邮箱\",\r\n\t\t\t\t\t\t\t\tpattern: new RegExp(/^([a-zA-Z0-9]+[_|\\_|\\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\\_|\\.]?)*[a-zA-Z0-9]+\\.[a-zA-Z]{2,3}$/),\r\n\t\t\t\t\t\t\t\tmessage: '请输入正确格式邮箱'\r\n\t\t\t\t\t\t\t}]}\r\n\t\t\t\t\t\t\t// rules={[{ required: true, message: '请输入用邮箱' }]}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t   <Input\r\n\t\t\t\t\t\t    \r\n\t\t\t\t\t\t     placeholder=\"请输入邮箱\"\r\n\t\t\t\t\t\t   />\r\n\t\t\t\t\t\t   \t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Form.Item> \r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<Form.Item label=\"管理员或普通用户\" name=\"roletype\">\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tplaceholder=\"请选择\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Option value=\"ADMIN\">管理员</Option>\r\n\t\t\t\t\t\t\t\t<Option value=\"CONSUMER\">普通用户</Option>\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item {...tailLayout}>\r\n\t\t\t\t\t\t  <Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t    确定\r\n\t\t\t\t\t\t  </Button>\r\n\t\t\t\t\t\t  <Button type=\"button\"  onClick={this.cancel}>\r\n\t\t\t\t\t\t    取消\r\n\t\t\t\t\t\t  </Button>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t\t\r\n\t\t\t\t</Modal>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\t\t\r\n}\r\nexport default Personnel;"],"names":["React","md5","confirm","Modal","Search","Input","formItemLayout","labelCol","xs","span","sm","wrapperCol","tailLayout","offset","Option","Select","rowSelection","onChange","selectedRowKeys","selectedRows","console","log","Personnel","del","e","userId","title","icon","ExclamationCircleOutlined","okText","cancelText","cancelButtonProps","className","style","background","onOk","http","then","res","data","code","message","msg","queryAllSysUser","onCancel","handleSubmit","preventDefault","props","form","validateFields","err","values","showModal","setState","visible","handleOk","refs","myForm","getFieldsValue","handleCancel","normFile","Array","isArray","fileList","handleChange","info","file","status","img","callback","reader","FileReader","addEventListener","result","readAsDataURL","getBase64","originFileObj","imageUrl","loading","cancel","search","val","state","ModalText","confirmLoading","dataSource","this","content","columns","width","render","text","record","index","dataIndex","roleType","key","onClick","type","placeholder","onSearch","disabled","top","footer","onSubmit","onFinish","passwords","password","user","username","roletype","email","setTimeout","resetFields","ref","label","name","rules","required","getValueFromEvent","event","target","value","replace","pattern","RegExp","htmlType","Component"],"sourceRoot":""}