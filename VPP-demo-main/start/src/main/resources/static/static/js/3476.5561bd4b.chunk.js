"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[3476],{63476:function(e,t,i){i.r(t),i.d(t,{default:function(){return A}});var n=i(1413),a=i(29439),s=i(72791),l=i(97943),o=i(13832),d=i(50131),r=i(66818),c=i(2556),u=i(47195),v=i(78347),h=i(67571),p=i(12781),m=i(97892),x=i.n(m),g=i(58768),f=i(41418),y=i.n(f),j=i(61855),N=i(80184),b=(u.Z.RangePicker,j.Z.Search,function(e){var t=e||{},i=t.setIsTipsModalOpen,n=t.isTipsModalOpen,a=function(){i(!1)};return(0,N.jsxs)(g.Z,{className:"report-modal",visible:n,footer:null,title:"\u63d0\u793a",onCancel:a,children:[(0,N.jsx)("p",{className:"tips-content",children:"\u662f\u5426\u786e\u8ba4\u6309\u5f53\u524d\u7684\u7533\u62a5\u8d1f\u8377\u8fdb\u884c\u7533\u62a5\uff1f"}),(0,N.jsxs)("div",{className:"btn-wrapper",children:[(0,N.jsx)(c.ZP,{className:"cancel-btn",onClick:a,children:"\u53d6\u6d88"}),(0,N.jsx)(c.ZP,{className:"ok-btn",onClick:a,children:"\u786e\u5b9a"})]})]})}),S=function(e){var t=e||{},i=t.isModalOpen,n=t.setIsModalOpen,l=t.taskInfo,o=t.nodeList,d=(0,s.useState)(!1),r=(0,a.Z)(d,2),c=r[0],u=r[1];return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(g.Z,{className:"expand-modal",visible:i,footer:null,closable:!1,children:[(0,N.jsx)("i",{className:"close-icon",onClick:function(){n(!1)}}),(0,N.jsxs)("div",{className:"demand-forecast_content_right_content",children:[(0,N.jsxs)("div",{className:"demand-forecast-right-top",children:[(0,N.jsx)("div",{className:"right-img"}),(0,N.jsx)("span",{className:"right-text",children:"\u9700\u6c42\u54cd\u5e94\u5e73\u53f0"})]}),(0,N.jsxs)("div",{className:"demand-forecast-right-center",children:[(0,N.jsx)("div",{className:"center-img-top"}),(0,N.jsxs)("div",{className:"model-wrap",children:[(0,N.jsx)("div",{className:"modal-img"}),(0,N.jsx)("span",{className:"model-text",children:"\u80fd\u6e90\u5927\u6a21\u578b"})]})]}),(0,N.jsx)("div",{className:"demand-forecast-right-bottom",children:(0,N.jsx)("div",{className:"arrow-bottom"})}),(0,N.jsxs)("div",{className:"left-text-wrap",children:[(0,N.jsxs)("p",{className:"left-text",children:["\u54cd\u5e94\u65f6\u6bb5\uff1a",null===l||void 0===l?void 0:l.rsDate]}),(0,N.jsxs)("p",{className:"left-text",children:["\u8d1f\u8377\u9700\u6c42(kW)\uff1a",null===l||void 0===l?void 0:l.respLoad,"kW"]}),(0,N.jsxs)("p",{className:"left-text",children:["\u54cd\u5e94\u7c7b\u578b\uff1a",(0,p.Mc)(null===l||void 0===l?void 0:l.respType)]}),(0,N.jsxs)("p",{className:"left-text",children:["\u54cd\u5e94\u7ea7\u522b\uff1a",(0,p.M1)(null===l||void 0===l?void 0:l.respLevel)]})]}),(0,N.jsxs)("div",{className:"right-text-wrap",children:[(0,N.jsxs)("p",{className:"other-right-text",children:["\u9700\u6c42\u54cd\u5e94\u72b6\u6001\uff1a",111]}),(0,N.jsxs)("p",{className:"other-right-text",children:["\u7533\u62a5\u8d1f\u8377(kW)\uff1a",null===l||void 0===l?void 0:l.declareLoad,"kW"]}),(0,N.jsxs)("p",{className:"other-right-text",children:["\u8c03\u8282\u8d1f\u8377(kW)\uff1a",null===l||void 0===l?void 0:l.adjustLoad,"kW"]}),(0,N.jsxs)("p",{className:"other-right-text",children:["\u9884\u6d4b\u8d1f\u8377(kW)\uff1a",null===l||void 0===l?void 0:l.forecastLoad,"kW"]})]})]}),(0,N.jsx)("div",{className:"dots-wrapper",children:null===o||void 0===o?void 0:o.map((function(e,t){return(0,N.jsxs)("div",{className:"dots-1",children:[(0,N.jsxs)("div",{className:"dots-1-header",children:[(0,N.jsx)("div",{className:y()("round",{"online-status":null===e||void 0===e?void 0:e.online})}),(0,N.jsx)("span",{className:"dots-1-header-text",children:null===e||void 0===e?void 0:e.nodeName})]}),(0,N.jsxs)("div",{className:"dots1-content",children:[(0,N.jsxs)("p",{className:"dots1-text",children:["\u72b6\u6001\uff1a",(0,p.ei)(null===e||void 0===e?void 0:e.drsStatus)||"-"]}),(0,N.jsxs)("p",{className:"dots1-text",children:["\u7533\u62a5\u8d1f\u8377(kW)\uff1a",null===e||void 0===e?void 0:e.declareLoad,"kW"]}),(0,N.jsxs)("p",{className:"dots1-text",children:["\u8c03\u8282\u8d1f\u8377(kW)\uff1a",null===e||void 0===e?void 0:e.adjustLoad,"kW"]}),(0,N.jsxs)("p",{className:"dots1-text",children:["\u9884\u6d4b\u8d1f\u8377(kW)\uff1a",null===e||void 0===e?void 0:e.forecastLoad,"kW"]}),(0,N.jsxs)("p",{className:"dots1-text",children:["\u54cd\u5e94\u8d1f\u8377(kW)\uff1a",null===e||void 0===e?void 0:e.deviceRatedLoad,"kW"]}),(0,N.jsxs)("p",{className:"dots1-text",children:["\u54cd\u5e94\u7535\u91cf(kW)\uff1a",null===e||void 0===e?void 0:e.reality,"kW"]}),(0,N.jsxs)("p",{className:"dots1-text",children:["\u9884\u4f30\u6536\u76ca\uff08\u5143\uff09\uff1a",null===e||void 0===e?void 0:e.income,"\u5143"]})]})]},t)}))})]}),(0,N.jsx)(b,{isTipsModalOpen:c,setIsTipsModalOpen:u})]})},w=(i(74569),i(5122)),k=function(e){var t=e||{},i=t.setIsStrategyModalOpen,n=t.selectedStrategyItem,l=t.queryStrategy,r=t.getDecisionChainList,u=t.onQueryChart,v=n||{},h=v.id,m=v.nodeName,x=v.noHouseholds,f=v.time,y=v.deviceName,b=v.content,S=(0,s.useState)(b?null===b||void 0===b?void 0:b.substring(4,(null===b||void 0===b?void 0:b.length)-1):null),k=(0,a.Z)(S,2),L=k[0],Z=k[1],C=function(){Z(b?null===b||void 0===b?void 0:b.substring(4,null===b||void 0===b?void 0:b.length):""),i(!1)};return(0,N.jsxs)(g.Z,{className:"strategy-modal",visible:!0,footer:null,title:"\u51b7\u673a\u51fa\u6c34\u6e29\u5ea6\u8c03\u8282",onCancel:C,children:[(0,N.jsxs)("div",{className:"strategy-modal-content",children:[(0,N.jsxs)("div",{className:"strategy-modal-content-left",children:[(0,N.jsx)("p",{className:"strategy-modal-content-left-item",children:"\u8282\u70b9"}),(0,N.jsx)("p",{className:"strategy-modal-content-left-item",children:"\u6237\u53f7"}),(0,N.jsx)("p",{className:"strategy-modal-content-left-item",children:"\u65f6\u95f4\u70b9"}),(0,N.jsx)("p",{className:"strategy-modal-content-left-item",children:"\u63a7\u5236\u8bbe\u5907"}),(0,N.jsx)("p",{className:"strategy-modal-content-left-item",children:"\u51fa\u6c34\u6e29\u5ea6"})]}),(0,N.jsxs)("div",{className:"strategy-modal-content-right",children:[(0,N.jsx)("p",{className:"strategy-modal-content-right-item",children:m}),(0,N.jsx)("p",{className:"strategy-modal-content-right-item",children:x}),(0,N.jsx)("p",{className:"strategy-modal-content-right-item",children:(0,p.p6)(f)}),(0,N.jsx)(d.Z,{placement:"top",title:null===y||void 0===y?void 0:y.join(","),color:"#38373F",children:(0,N.jsx)("span",{className:"strategy-modal-content-right-item",children:null===y||void 0===y?void 0:y.join(",")})}),(0,N.jsxs)("p",{className:"strategy-modal-content-right-item",children:[(0,N.jsx)(j.Z,{value:L,className:"temperature-input",onChange:function(e){Z(e.target.value)},style:{width:"65px",height:"32px"}}),(0,N.jsx)("span",{className:"temperature-icon",children:"\xb0C"}),(0,N.jsx)("span",{className:"rang-text",children:"\uff08\u8303\u56f4\u9650\u5236\uff1a7\xb0C-12\xb0C\uff09"})]})]})]}),(0,N.jsxs)("div",{className:"btn-wrapper",children:[(0,N.jsx)(c.ZP,{className:"cancel-btn",onClick:C,children:"\u53d6\u6d88"}),(0,N.jsx)(c.ZP,{className:"ok-btn",onClick:function(){L>12||L<7?o.ZP.error("\u51fa\u6c34\u6e29\u5ea6\u8303\u56f4\u9700\u57287\u2103\u523012\u2103\u4e4b\u95f4"):w.Z.post("AIEnergy/strategyUpdate",{id:h,strategyContentBefore:b?null===b||void 0===b?void 0:b.substring(4,(null===b||void 0===b?void 0:b.length)-1):null,strategyContent:L},{headers:{"Content-Type":"application/json"}}).then((function(e){o.ZP.success("\u4fee\u6539\u6210\u529f"),C(),setTimeout((function(){l(),r(),u()}),2e3)})).catch((function(e){o.ZP.error("\u63a5\u53e3\u9519\u8befstrategyUpdate")}))},children:"\u786e\u5b9a"})]})]})},L=i(4942),Z=i(66550),C=(i(870),function(e){var t=e||{},i=t.timerList,n=t.baselineList,a=t.predictionList;return(0,s.useEffect)((function(){!function(){var e,t=document.getElementById("main-01"),s=Z.init(t),l=[];l.push({stack:!0,shading:"lambert",emphasis:{label:{show:!1}},type:"bar3D",barSize:[10,10,10],data:a}),l.push({type:"line3D",data:n,stack:"stack",lineStyle:{width:4,color:"red"}}),(e={tooltip:(0,L.Z)({trigger:"item",triggerOn:"mousemove",enterable:!0,formatter:function(e){var t=e.dataIndex,s=i[t].value,l=n[t][2],o=a[t].value[2];return'<div style="padding-left:5px;height:30px;line-height:30px;color:#fff;font-size:14px">'.concat(s,"</div>")+'<div style="display:flex;color:#fff">\n                    <div style="display:flex;align-items:center;margin-right:125px"> <span style="display:inline-block;width:6px;height:6px;background:#C9E3FE;border-radius:6px;margin-right:6px"></span>\u9884\u6d4b\u8d1f\u8377(kW)</div>\n                    <span style="">'.concat(o,"</span>\n                </div>")+'<div style="display:flex;color:#fff">\n                    <div style="display:flex;align-items:center;margin-right:124px"> <span style="display:inline-block;width:6px;height:6px;background:#E02020;border-radius:6px;margin-right:6px"></span>\u57fa\u7ebf\u8d1f\u8377(kW)</div>\n                    <span style="">'.concat(l,"</span>\n            </div>")},backgroundColor:"#302F39",borderColor:"#302F39",className:"base-tool-tip"},"enterable",!0),xAxis3D:{name:"",nameTextStyle:{color:"#8F959E",fontSize:12},type:"category",data:i,axisLine:{show:!0,interval:0,lineStyle:{color:"#8F959E"}},axisLabel:{interval:0,textStyle:{color:"#8F959E"}}},yAxis3D:{name:"",type:"category",data:[""],axisLine:{show:!0,interval:0,lineStyle:{color:"#8F959E"}},axisLabel:{interval:0,textStyle:{color:"#8F959E"}}},zAxis3D:{name:"\u529f\u7387(kW)",type:"value",nameGap:30,nameTextStyle:{color:"#8F959E",fontSize:12},axisLine:{show:!0,interval:0,lineStyle:{color:"#8F959E"}},axisLabel:{interval:0,textStyle:{color:"#8F959E"}}},grid3D:{top:0,show:!0,axisLine:{show:!0,lineStyle:{width:1}},viewControl:{beta:10,alpha:3,distance:158},splitLine:{show:!1},axisPointer:{show:!1},borderWidth:0,boxWidth:250,boxDepth:30,boxHeight:100,light:{main:{intensity:1.2,shadow:!0},ambient:{intensity:.3}}},emphasis:{itemStyle:{color:"#B1CBE2"}},series:[].concat(l)})&&s.setOption(e),e&&s.dispatchAction({type:"changeView",view:{rotate:50,distance:1e7}})}()}),[i,n,a]),(0,N.jsx)("div",{style:{width:"100%"},children:(0,N.jsx)("div",{id:"main-01",style:{width:"75%",height:"210px",margin:"0 auto"}})})}),F=function(e){var t=e||{},i=t.timerList,n=t.baselineList,a=t.topList,l=t.bottomList,o=t.predictionList;console.log(a,l);return(0,s.useEffect)((function(){!function(){var e,t=document.getElementById("main-02"),s=Z.init(t),d=[];d.push({stack:!0,shading:"lambert",emphasis:{label:{show:!1}},type:"bar3D",barSize:[10,10,10],data:l}),d.push({stack:!0,shading:"lambert",emphasis:{label:{show:!1}},type:"bar3D",barSize:[10,10,10],data:a}),d.push({type:"line3D",data:n,stack:"stack",lineStyle:{width:4,color:"red"}}),(e={tooltip:(0,L.Z)({trigger:"item",triggerOn:"mousemove",enterable:!0,formatter:function(e){var t,s,d=e.dataIndex,r=i[d].value,c=n[d][2],u=l[d].value[2]+a[d].value[2]?l[d].value[2]+a[d].value[2]:o[d].value[2],v=l[d].value[2],h=a[d].value[2],p='<div style="padding-left:5px;height:30px;line-height:30px;color:#fff;font-size:14px">'.concat(r,"</div>")+'<div style="display:flex;color:#fff">\n                    <div style="display:flex;align-items:center;margin-right:125px"> <span style="display:inline-block;width:6px;height:6px;background:#A2C2E3;border-radius:6px;margin-right:6px"></span>\u9884\u6d4b\u8d1f\u8377(kW)</div>\n                    <span style="">'.concat(u,"</span>\n                </div>")+'<div style="display:flex;color:#fff">\n                    <div style="display:flex;align-items:center;margin-right:124px"> <span style="display:inline-block;width:6px;height:6px;background:#E02020;border-radius:6px;margin-right:6px"></span>\u57fa\u7ebf\u8d1f\u8377(kW)</div>\n                    <span style="">'.concat(c,"</span>\n            </div>"),m='<div style="padding-left:5px;height:30px;line-height:30px;color:#fff;font-size:14px">'.concat(r,"</div>")+'<div style="display:flex;color:#fff">\n                    <div style="display:flex;align-items:center;margin-right:125px"> <span style="display:inline-block;width:6px;height:6px;background:#A2C2E3;border-radius:6px;margin-right:6px"></span>\u9884\u6d4b\u8d1f\u8377(kW)</div>\n                    <span style="">'.concat(u,"</span>\n                </div>")+'<div style="display:flex;color:#fff;justify-content:space-between">\n                    <div style="display:flex;align-items:center;margin-right:68px"> <span style="display:inline-block;width:6px;height:6px;background:#25C5AF;border-radius:6px;margin-right:6px"></span>\u9884\u6d4b\u8c03\u8282\u8d1f\u8377(kW)</div>\n                    <span style="">'.concat(h,"</span>\n                </div>")+'<div style="display:flex;color:#fff;justify-content:space-between">\n                    <div style="display:flex;align-items:center;margin-right:54px"> <span style="display:inline-block;width:6px;height:6px;background:#1D4075;border-radius:6px;margin-right:6px"></span>\u9884\u6d4b\u8c03\u8282\u540e\u8d1f\u8377(kW)</div>\n                    <span style="">'.concat(v,"</span>\n                </div>")+'<div style="display:flex;color:#fff">\n                    <div style="display:flex;align-items:center;margin-right:124px"> <span style="display:inline-block;width:6px;height:6px;background:#E02020;border-radius:6px;margin-right:6px"></span>\u57fa\u7ebf\u8d1f\u8377(kW)</div>\n                    <span style="">'.concat(c,"</span>\n            </div>");return"#0F9D90"===(null===(t=i[d])||void 0===t||null===(s=t.textStyle)||void 0===s?void 0:s.color)?m:p},backgroundColor:"#302F39",borderColor:"#302F39",className:"base-tool-tip"},"enterable",!0),xAxis3D:{name:"",type:"category",nameTextStyle:{color:"#8F959E",fontSize:13},data:i,axisLine:{show:!0,interval:0,lineStyle:{color:"#8F959E"}},axisLabel:{interval:0,textStyle:{color:"#8F959E"}}},yAxis3D:{name:"",type:"category",data:[""],axisLine:{show:!0,interval:0,lineStyle:{color:"#8F959E"}},axisLabel:{interval:0,textStyle:{color:"#8F959E"}}},zAxis3D:{name:"\u529f\u7387(kW)",nameGap:30,type:"value",nameTextStyle:{color:"#8F959E",fontSize:12},axisLine:{show:!0,interval:0,lineStyle:{color:"#8F959E"}},axisLabel:{interval:0,textStyle:{color:"#8F959E"}}},grid3D:{top:0,show:!0,axisLine:{show:!0,lineStyle:{width:1}},viewControl:{beta:10,alpha:3,distance:158},splitLine:{show:!1},axisPointer:{show:!1},borderWidth:0,boxWidth:250,boxDepth:30,boxHeight:100,light:{main:{intensity:1.2,shadow:!0},ambient:{intensity:.3}}},series:[].concat(d)})&&s.setOption(e),e&&s.dispatchAction({type:"changeView",view:{rotate:50,distance:1e7}})}()}),[i,n,a,l]),(0,N.jsx)("div",{style:{width:"100%"},children:(0,N.jsx)("div",{id:"main-02",style:{width:"75%",height:"210px",margin:"0 auto"}})})},E=function(e){var t=e||{},i=t.timerList,n=t.realList,a=t.baselineList;return(0,s.useEffect)((function(){!function(){var e,t=document.getElementById("main-03"),s=Z.init(t),l=[];l.push({stack:!0,shading:"lambert",emphasis:{label:{show:!1}},type:"bar3D",barSize:[10,10,10],data:n}),l.push({type:"line3D",data:a,stack:"stack",lineStyle:{width:4,color:"red"}}),(e={tooltip:(0,L.Z)({trigger:"item",triggerOn:"mousemove",enterable:!0,formatter:function(e){var t=e.dataIndex,s=i[t].value,l=n[t].value[2],o=a[t][2];return'<div style="padding-left:5px;height:30px;line-height:30px;color:#fff;font-size:14px">'.concat(s,"</div>")+'<div style="display:flex;color:#fff">\n                    <div style="display:flex;align-items:center;margin-right:125px"> <span style="display:inline-block;width:6px;height:6px;background:#A2C2E3;border-radius:6px;margin-right:6px"></span>\u5b9e\u9645\u8d1f\u8377(kW)</div>\n                    <span style="">'.concat(l,"</span>\n                </div>")+'<div style="display:flex;color:#fff">\n                    <div style="display:flex;align-items:center;margin-right:124px"> <span style="display:inline-block;width:6px;height:6px;background:#E02020;border-radius:6px;margin-right:6px"></span>\u57fa\u7ebf\u8d1f\u8377(kW)</div>\n                    <span style="">'.concat(o,"</span>\n            </div>")},backgroundColor:"#302F39",borderColor:"#302F39",className:"base-tool-tip"},"enterable",!0),xAxis3D:{name:"",type:"category",data:i,nameTextStyle:{color:"#8F959E"},axisLine:{show:!0,interval:0,lineStyle:{color:"#8F959E"}},axisLabel:{interval:0,textStyle:{color:"#8F959E"}}},yAxis3D:{name:"",type:"category",data:[""],axisLine:{show:!0,interval:0,lineStyle:{color:"#8F959E"}},axisLabel:{interval:0,textStyle:{color:"#8F959E"}}},zAxis3D:{name:"\u529f\u7387(kW)",nameGap:30,type:"value",nameTextStyle:{color:"#8F959E",fontSize:12},axisLine:{show:!0,interval:0,lineStyle:{color:"#8F959E"}},axisLabel:{interval:0,textStyle:{color:"#8F959E"}}},grid3D:{top:0,show:!0,axisLine:{show:!0,lineStyle:{width:1}},viewControl:{beta:10,alpha:3,distance:158},splitLine:{show:!1},axisPointer:{show:!1},borderWidth:0,boxWidth:250,boxDepth:30,boxHeight:100,light:{main:{intensity:1.2,shadow:!0},ambient:{intensity:.3}}},series:[].concat(l)})&&s.setOption(e),e&&s.dispatchAction({type:"changeView",view:{rotate:50,distance:1e7}})}()}),[i,n,a]),(0,N.jsx)("div",{style:{width:"100%"},children:(0,N.jsx)("div",{id:"main-03",style:{width:"75%",height:"210px",margin:"0 auto"}})})},W=i(96463),T=i(54334),D=i.n(T),I=i(14036),O=i.n(I);x().extend(D()),x().extend(O());var M=l.Z.RangePicker,A=function(){var e,t,i=(0,s.useState)(!1),l=(0,a.Z)(i,2),m=l[0],g=l[1],f=(0,s.useState)(!1),j=(0,a.Z)(f,2),b=j[0],L=j[1],Z=(0,s.useState)(null),T=(0,a.Z)(Z,2),D=T[0],I=T[1],O=(0,s.useState)([]),A=(0,a.Z)(O,2),Q=A[0],P=A[1],_=(0,s.useState)("-1"),H=(0,a.Z)(_,2),z=H[0],Y=H[1],R=(0,s.useState)("-1"),B=(0,a.Z)(R,2),V=B[0],q=B[1],G=(0,s.useState)([]),U=(0,a.Z)(G,2),K=U[0],J=U[1],X=(0,s.useState)([]),$=(0,a.Z)(X,2),ee=($[0],$[1],(0,s.useState)({})),te=(0,a.Z)(ee,2),ie=te[0],ne=te[1],ae=(0,s.useState)([]),se=(0,a.Z)(ae,2),le=(se[0],se[1]),oe=(0,s.useState)([]),de=(0,a.Z)(oe,2),re=de[0],ce=de[1],ue=(0,s.useState)([]),ve=(0,a.Z)(ue,2),he=ve[0],pe=ve[1],me=(0,s.useState)([]),xe=(0,a.Z)(me,2),ge=xe[0],fe=xe[1],ye=(0,s.useState)([]),je=(0,a.Z)(ye,2),Ne=je[0],be=je[1],Se=(0,s.useState)([]),we=(0,a.Z)(Se,2),ke=we[0],Le=we[1],Ze=(0,s.useState)([]),Ce=(0,a.Z)(Ze,2),Fe=Ce[0],Ee=Ce[1],We=(0,s.useState)(null),Te=(0,a.Z)(We,2),De=Te[0],Ie=Te[1],Oe=(0,s.useState)(null),Me=(0,a.Z)(Oe,2),Ae=Me[0],Qe=Me[1],Pe=(0,s.useState)(""),_e=(0,a.Z)(Pe,2),He=_e[0],ze=_e[1],Ye=(0,s.useState)([]),Re=(0,a.Z)(Ye,2),Be=Re[0],Ve=Re[1],qe=(0,s.useState)(""),Ge=(0,a.Z)(qe,2),Ue=Ge[0],Ke=Ge[1],Je=(0,s.useState)([]),Xe=(0,a.Z)(Je,2),$e=Xe[0],et=Xe[1],tt=(0,s.useState)({}),it=(0,a.Z)(tt,2),nt=it[0],at=it[1],st=(0,s.useState)([]),lt=(0,a.Z)(st,2),ot=lt[0],dt=lt[1],rt=(0,s.useState)(""),ct=(0,a.Z)(rt,2),ut=ct[0],vt=ct[1],ht=(0,s.useState)(""),pt=(0,a.Z)(ht,2),mt=pt[0],xt=pt[1],gt=(0,s.useState)([]),ft=(0,a.Z)(gt,2),yt=ft[0],jt=ft[1],Nt=(0,s.useState)(!1),bt=(0,a.Z)(Nt,2),St=bt[0],wt=bt[1],kt=((0,h.k6)(),function(e,t,i,n,a){Zt(e),setTimeout((function(){Wt(e)}),300),setTimeout((function(){!function(e,t,i,n,a){w.Z.post("AIEnergy/demandNodeQuery",{respId:e},{headers:{"Content-Type":"application/json"}}).then((function(s){var l=s.data.data||[];dt(l),Ke(l[0].value),setTimeout((function(){Ct(e,t,i,l[0].value,n,a)}),200)})).catch((function(e){}))}(e,t,i,n,a)}),400)}),Lt=function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n={status:e,respType:t};w.Z.post("AIEnergy/getTaskCodeList",n,{headers:{"Content-Type":"application/json"}}).then((function(e){var t,n,a,s,l,o,d,r=e.data.data.content;Ve(r);var c=null===r||void 0===r?void 0:r.map((function(e){return{label:null===e||void 0===e?void 0:e.taskCode,value:null===e||void 0===e?void 0:e.respId}})),u=null===(t=c[0])||void 0===t?void 0:t.value,v=(0,p.Q)(null===(n=r[0])||void 0===n?void 0:n.rsTime),h=v.startTime,m=v.endDate,x=v.endTime;Ie(h),Qe(x),ze(m),vt(null===(a=r[0])||void 0===a?void 0:a.rsTime),xt(null===(s=r[0])||void 0===s?void 0:s.reTime),I(u),P(c),i&&u&&kt(u,null===(l=r[0])||void 0===l?void 0:l.rsTime,"".concat(m," ").concat(x),null===(o=r[0])||void 0===o?void 0:o.rsTime,null===(d=r[0])||void 0===d?void 0:d.reTime)})).catch((function(e){}))},Zt=function(e){w.Z.post("AIEnergy/strategyQuery",{respId:e},{headers:{"Content-Type":"application/json"}}).then((function(e){var t,i,n=null===(t=e.data.data)||void 0===t?void 0:t.map((function(e,t){return{key:t+1,nodeName:null===e||void 0===e?void 0:e.nodeName,id:null===e||void 0===e?void 0:e.id,content:null===e||void 0===e?void 0:e.strategyContent,time:null===e||void 0===e?void 0:e.timePoint,noHouseholds:null===e||void 0===e?void 0:e.noHouseholds,deviceName:null===e||void 0===e?void 0:e.deviceName,ensure:null===e||void 0===e?void 0:e.ensure}})),a=null===(i=e.data.data)||void 0===i?void 0:i.every((function(e){return 1===e.ensure}));wt(a),J(n)})).catch((function(e){o.ZP.error("\u63a5\u53e3\u9519\u8befstrategyQuery")}))},Ct=function(e,t,i,n,a,s){w.Z.post("AIEnergy/demandForecastChart",{respId:e,nodeId:n,systemId:"kongtiao",rsTime:t,reTime:i,sTime:a,eTime:s},{headers:{"Content-Type":"application/json"}}).then((function(e){var t,i,n,a,s,l,o,d=null===(t=e.data.data)||void 0===t?void 0:t.map((function(e){return{value:null===e||void 0===e?void 0:e.timeStamp,textStyle:{fontSize:8,color:"#8F959E"}}})),r=null===(i=e.data.data)||void 0===i?void 0:i.map((function(e){return{value:null===e||void 0===e?void 0:e.timeStamp,textStyle:{fontSize:8,color:e.adjust?"#0F9D90":"#8F959E"}}}));ce(r);var c=null===(n=e.data.data)||void 0===n?void 0:n.map((function(e){return{value:null===e||void 0===e?void 0:e.forecastLoad,itemStyle:{color:"#7CA5CF"}}})),u=null===(a=e.data.data)||void 0===a?void 0:a.map((function(e){return{value:null===e||void 0===e?void 0:e.realValue,itemStyle:{color:"#3370FF"}}})),v=null===(s=e.data.data)||void 0===s?void 0:s.map((function(e){return null===e||void 0===e?void 0:e.baselineLoadValue})),h=null===(l=e.data.data)||void 0===l?void 0:l.map((function(e,t){return null!==e&&void 0!==e&&e.adjust?{value:null!==e&&void 0!==e&&e.forecastLoadAfterRegulation?null===e||void 0===e?void 0:e.forecastLoadAfterRegulation:[t,0,0],itemStyle:{color:"#3370FF"}}:{value:null===e||void 0===e?void 0:e.forecastLoad,itemStyle:{color:"#7CA5CF"}}})),p=null===(o=e.data.data)||void 0===o?void 0:o.map((function(e,t){return e.adjust?{value:null!==e&&void 0!==e&&e.forecastRegulationLoad?null===e||void 0===e?void 0:e.forecastRegulationLoad:[t,0,0],itemStyle:{color:"#44D7B6"}}:{value:[t,0,0],itemStyle:{color:"#7CA5CF"}}}));le(d),fe(c),pe(v),be(u),Ee(p),Le(h)})).catch((function(e){o.ZP.error("\u63a5\u53e3\u9519\u8befdemandForecastChart")}))},Ft=W.jsPlumb.getInstance(),Et=function(){Ft.repaintEverything()},Wt=function(e){var t=new URLSearchParams;t.append("respId",e),w.Z.post("AIEnergy/getDecisionChainList",t).then((function(e){var t=e.data.data;et(null===t||void 0===t?void 0:t.nodeList),at(null===t||void 0===t?void 0:t.respTask),null===t||void 0===t||t.nodeList,null===t||void 0===t||t.respTask})).catch((function(e){o.ZP.error("\u63a5\u53e3\u9519\u8befgetDecisionChainList")}))},Tt=function(e,t,i,n,a){He?De&&Ae?(0,p.jl)(t,i)?o.ZP.error("\u65f6\u95f4\u8303\u56f4\u53ea\u5141\u8bb8\u4e24\u4e2a\u534a\u5c0f\u65f6\u4e4b\u5185"):Ct(e,t,i,Ue,n,a):o.ZP.error("\u8bf7\u8f93\u5165\u65f6\u95f4"):o.ZP.error("\u8bf7\u8f93\u5165\u65e5\u671f")},Dt=function(e){w.Z.post("AIEnergy/strategyEnsure",{ids:e},{headers:{"Content-Type":"application/json"}}).then((function(e){o.ZP.success("\u786e\u8ba4\u6210\u529f"),Zt(D),jt([])})).catch((function(e){o.ZP.error("\u63a5\u53e3\u9519\u8befstrategyLogQuery")}))},It=[{title:"\u8282\u70b9",dataIndex:"nodeName",render:function(e){return(0,N.jsx)(N.Fragment,{children:(null===e||void 0===e?void 0:e.length)>8?(0,N.jsx)(d.Z,{placement:"top",title:e,children:(null===e||void 0===e?void 0:e.slice(0,8))+"..."}):e})}},{title:"\u6237\u53f7",dataIndex:"noHouseholds"},{title:"\u65f6\u95f4\u70b9",dataIndex:"time",render:function(e){return(0,p.p6)(e)}},{title:"\u7b56\u7565\u5185\u5bb9",dataIndex:"content"},{title:"\u7b56\u7565\u72b6\u6001",dataIndex:"ensure",render:function(e){return e?"\u5df2\u786e\u8ba4":"\u672a\u786e\u8ba4"}},"\u6267\u884c\u4e2d"===(0,p.Q3)(null===nt||void 0===nt?void 0:nt.dstatus,null===nt||void 0===nt?void 0:nt.declareStatus)||"\u5df2\u5b8c\u6210"===(0,p.Q3)(null===nt||void 0===nt?void 0:nt.dstatus,null===nt||void 0===nt?void 0:nt.declareStatus)?{}:{title:"\u64cd\u4f5c",dataIndex:"",key:"x",render:function(e,t){return(0,N.jsxs)(N.Fragment,{children:["\u6267\u884c\u4e2d"===(0,p.Q3)(null===nt||void 0===nt?void 0:nt.dstatus,null===nt||void 0===nt?void 0:nt.declareStatus)||"\u5df2\u5b8c\u6210"===(0,p.Q3)(null===nt||void 0===nt?void 0:nt.dstatus,null===nt||void 0===nt?void 0:nt.declareStatus)||1===(null===t||void 0===t?void 0:t.ensure)?null:(0,N.jsx)("a",{className:"edit-btn",onClick:function(){Dt([null===t||void 0===t?void 0:t.id])},children:"\u786e\u8ba4"}),"\u6267\u884c\u4e2d"===(0,p.Q3)(null===nt||void 0===nt?void 0:nt.dstatus,null===nt||void 0===nt?void 0:nt.declareStatus)||"\u5df2\u5b8c\u6210"===(0,p.Q3)(null===nt||void 0===nt?void 0:nt.dstatus,null===nt||void 0===nt?void 0:nt.declareStatus)?null:(0,N.jsx)("a",{className:"edit-btn",onClick:function(){ne(t),L(!0)},children:"\u7f16\u8f91"})]})}}],Ot={onChange:function(e,t){console.log("selectedRowKeys: ".concat(e),"selectedRows: ",t);var i=t.map((function(e){return null===e||void 0===e?void 0:e.id}));jt(i)},getCheckboxProps:function(e){return{disabled:1===(null===e||void 0===e?void 0:e.ensure),defaultChecked:!1}}};return(0,s.useEffect)((function(){return Lt(z,V),function(){Ft.deleteEveryConnection(),window.removeEventListener("resize",Et)}}),[]),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:"demand-forecast",children:[(0,N.jsxs)("div",{className:"demand-forecast_header",children:[(0,N.jsxs)("div",{className:"select-1",children:[(0,N.jsx)("span",{className:"select-title",children:"\u4efb\u52a1\u72b6\u6001\uff1a"}),(0,N.jsx)(r.Z,{style:{width:200,height:32,color:"#fff"},onChange:function(e){P([]),I(""),Y(e),Lt(e,V,!1)},value:z,options:[{value:"-1",label:"\u5168\u90e8"},{value:"1",label:"\u5f85\u6267\u884c"},{value:"2",label:"\u6267\u884c\u4e2d"},{value:"3",label:"\u5df2\u5b8c\u6210"}]})]}),(0,N.jsxs)("div",{className:"select-2",children:[(0,N.jsx)("span",{className:"select-title",children:"\u54cd\u5e94\u7c7b\u578b\uff1a"}),(0,N.jsx)(r.Z,{style:{width:200,height:32,color:"#fff"},value:V,onChange:function(e){P([]),I(""),q(e),Lt(z,e,!1)},options:[{value:"-1",label:"\u5168\u90e8"},{value:"1",label:"\u524a\u5cf0\u54cd\u5e94"},{value:"2",label:"\u586b\u8c37\u54cd\u5e94"}]})]}),(0,N.jsxs)("div",{className:"select-3",children:[(0,N.jsx)("span",{className:"select-title",children:"\u4efb\u52a1\u7f16\u53f7\uff1a"}),(0,N.jsx)(r.Z,{style:{width:200,height:32,color:"#fff"},options:Q,value:D,onChange:function(e){var t=Be.find((function(t){return t.respId===e})),i=(0,p.Q)(null===t||void 0===t?void 0:t.rsTime),n=i.startTime,a=i.endDate,s=i.endTime;Ie(n),vt("".concat(a," ").concat(n)),xt(null===t||void 0===t?void 0:t.reTime),Qe(s),ze(a),I(e)}})]}),(0,N.jsx)(c.ZP,{type:"Button",className:"demand-forecast_header_btn",onClick:function(){return kt(D,He+" "+De,He+" "+Ae,ut,mt)},children:"\u67e5\u8be2"})]}),(0,N.jsxs)("div",{className:"demand-forecast_content",children:[(0,N.jsxs)("div",{className:y()("demand-forecast_content_left"),children:[(0,N.jsxs)("div",{className:"demand-forecast_content_left_header",children:[He?(0,N.jsx)(u.Z,{format:"YYYY-MM-DD",allowClear:!1,defaultValue:x()(He,"YYYY-MM-DD"),value:x()(He,"YYYY-MM-DD"),style:{width:"150px",marginRight:"10px"},onChange:function(e,t){ze(t)}}):(0,N.jsx)(u.Z,{format:"YYYY-MM-DD",allowClear:!1,style:{width:"150px",marginRight:"10px"},onChange:function(e,t){ze(t)}}),(0,N.jsx)(M,{format:"HH:mm",style:{width:"150px",marginRight:"5px"},defaultValue:[De&&x()(De,"HH:mm"),Ae&&x()(Ae,"HH:mm")],value:[De&&x()(De,"HH:mm"),Ae&&x()(Ae,"HH:mm")],placeholder:["",""],onChange:function(e){if(e&&2===e.length){var t,i,n=null===(t=e[0])||void 0===t?void 0:t.format("HH:mm"),a=null===(i=e[1])||void 0===i?void 0:i.format("HH:mm");Ie(n),Qe(a)}else Ie(null),Qe(null)},minuteStep:15}),(0,N.jsx)(r.Z,{style:{width:150,height:32,marginLeft:5,color:"#fff"},value:Ue,options:ot,onChange:function(e){Ke(e)}}),(0,N.jsx)(c.ZP,{type:"Button",className:"left-query-btn",style:{width:"63px"},onClick:function(){return Tt(D,He+" "+De,He+" "+Ae,ut,mt)},children:"\u67e5\u8be2"})]}),(0,N.jsxs)("div",{className:"demand-forecast_content_left_content",children:[(0,N.jsxs)("div",{className:"chart-01-wrap",children:[(0,N.jsxs)("div",{className:"chart-wrap",children:[(0,N.jsx)("i",{className:"chart-icon"}),(0,N.jsx)("span",{className:"chart-title",children:"\u57fa\u7840\u8d1f\u8377\u9884\u6d4b\u80fd\u91cf\u5757"})]}),(0,N.jsx)(C,{timerList:re,baselineList:he,predictionList:ge})]}),(0,N.jsxs)("div",{className:"chart-02-wrap",children:[(0,N.jsxs)("div",{className:"chart-wrap",children:[(0,N.jsx)("i",{className:"chart-icon"}),(0,N.jsx)("span",{className:"chart-title",children:"\u57fa\u4e8e\u9700\u6c42\u54cd\u5e94\u7b56\u7565\u7684\u8d1f\u8377\u8c03\u8282\u80fd\u91cf\u5757"})]}),(0,N.jsx)(F,{timerList:re,baselineList:he,topList:Fe,bottomList:ke,predictionList:ge})]}),(0,N.jsxs)("div",{className:"chart-03-wrap",children:[(0,N.jsxs)("div",{className:"chart-wrap",children:[(0,N.jsx)("i",{className:"chart-icon"}),(0,N.jsx)("span",{className:"chart-title",children:"\u5b9e\u9645\u8d1f\u8377\u80fd\u91cf\u5757"})]}),(0,N.jsx)(E,{timerList:re,realList:Ne,baselineList:he})]})]})]}),(0,N.jsx)("div",{className:"demand-forecast_content_right",children:(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:"demand-forecast_content_right_header",children:(0,N.jsxs)("div",{className:"title-wrapper",children:[(0,N.jsx)("i",{className:"demand-forecast-dots"}),(0,N.jsx)("span",{className:"demand-forecast-title",children:"\u4efb\u52a1"})]})}),(0,N.jsxs)("div",{className:"demand-forecast_content_right_content",children:[(0,N.jsxs)("div",{className:"right-top-wrapper",children:[(0,N.jsxs)("div",{className:"right-top-wrapper-left",children:[(0,N.jsx)("div",{className:"left-img"}),(0,N.jsx)("div",{className:"left-img-text",children:"\u9700\u6c42\u54cd\u5e94\u5e73\u53f0"}),(0,N.jsxs)("div",{className:"right-top-title-wrapper",children:[(0,N.jsx)("i",{className:"right-top-title-icon"}),(0,N.jsx)("span",{className:"right-top-title",children:"1-\u4efb\u52a1"})]}),(0,N.jsxs)("div",{className:"left-text-wrap",children:[(0,N.jsxs)("p",{className:"left-text",children:["\u54cd\u5e94\u65f6\u6bb5\uff1a",null===nt||void 0===nt?void 0:nt.rsTime,"-",null===nt||void 0===nt||null===(e=nt.reTime)||void 0===e?void 0:e.split(" ")[1]]}),(0,N.jsxs)("p",{className:"left-text",children:["\u8d1f\u8377\u9700\u6c42(kW)\uff1a",null!==nt&&void 0!==nt&&nt.respLoad?(0,p.ZO)(null===nt||void 0===nt?void 0:nt.respLoad):"-"]}),"\u5df2\u51fa\u6e05"===(0,p.Q3)(null===nt||void 0===nt?void 0:nt.dstatus,null===nt||void 0===nt?void 0:nt.declareStatus)||"\u6267\u884c\u4e2d"===(0,p.Q3)(null===nt||void 0===nt?void 0:nt.dstatus,null===nt||void 0===nt?void 0:nt.declareStatus)||"\u5df2\u5b8c\u6210"===(0,p.Q3)(null===nt||void 0===nt?void 0:nt.dstatus,null===nt||void 0===nt?void 0:nt.declareStatus)?(0,N.jsxs)("p",{className:"left-text",children:["\u51fa\u6e05\u8d1f\u8377(kW)\uff1a",(0,p.ZO)((null===nt||void 0===nt?void 0:nt.declareLoad)-(0,p.Id)(null===$e||void 0===$e?void 0:$e.slice(0,3)))]}):null,(0,N.jsxs)("p",{className:"left-text",children:["\u54cd\u5e94\u7c7b\u578b\uff1a",(0,p.Mc)(null===nt||void 0===nt?void 0:nt.respType)]}),(0,N.jsxs)("p",{className:"left-text",children:["\u54cd\u5e94\u7ea7\u522b\uff1a",null!==nt&&void 0!==nt&&nt.respLevel?(0,p.M1)(null===nt||void 0===nt?void 0:nt.respLevel):"-"]})]})]}),(0,N.jsxs)("div",{className:"right-top-wrapper-right",children:[(0,N.jsx)("div",{className:"right-img"}),(0,N.jsx)("span",{className:"right-img-text",id:"node-top",children:"\u80fd\u6e90\u5927\u6a21\u578b"}),(0,N.jsxs)("div",{className:"right-top-title-wrapper",children:[(0,N.jsx)("i",{className:"right-top-title-icon-01"}),(0,N.jsx)("span",{className:"right-top-title",children:"4-\u751f\u6210"})]}),(0,N.jsxs)("div",{className:y()("right-text-wrap"),children:[(0,N.jsxs)("p",{className:"other-right-text",children:["\u9700\u6c42\u54cd\u5e94\u72b6\u6001\uff1a",(0,p.Q3)(null===nt||void 0===nt?void 0:nt.dstatus,null===nt||void 0===nt?void 0:nt.declareStatus)]}),(0,N.jsxs)("p",{className:"other-right-text",children:["\u8c03\u8282\u8d1f\u8377(kW)\uff1a","\u5f85\u7533\u62a5"===(0,p.Q3)(null===nt||void 0===nt?void 0:nt.dstatus,null===nt||void 0===nt?void 0:nt.declareStatus)?0:(0,p.ZO)((null===nt||void 0===nt?void 0:nt.adjustLoad)-(0,p.t5)(null===$e||void 0===$e?void 0:$e.slice(0,3)))]}),(0,N.jsxs)("p",{className:"other-right-text",children:["\u7533\u62a5\u8d1f\u8377(kW)\uff1a","\u5f85\u7533\u62a5"===(0,p.Q3)(null===nt||void 0===nt?void 0:nt.dstatus,null===nt||void 0===nt?void 0:nt.declareStatus)?0:(0,p.ZO)((null===nt||void 0===nt?void 0:nt.declareLoad)-(0,p.Id)(null===$e||void 0===$e?void 0:$e.slice(0,3)))]}),"\u5f85\u7533\u62a5"===(0,p.Q3)(null===nt||void 0===nt?void 0:nt.dstatus,null===nt||void 0===nt?void 0:nt.declareStatus)?null:(0,N.jsxs)("p",{className:"other-right-text",children:["\u9884\u6d4b\u8d1f\u8377(kW)\uff1a",(0,p.ZO)(null===nt||void 0===nt?void 0:nt.forecastLoad)]}),"\u6267\u884c\u4e2d"===(0,p.Q3)(null===nt||void 0===nt?void 0:nt.dstatus,null===nt||void 0===nt?void 0:nt.declareStatus)?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("p",{className:"other-right-text",children:["\u5b9e\u9645\u8d1f\u8377(kW)\uff1a",(0,p.ZO)(null===nt||void 0===nt?void 0:nt.nowLoad)]}),(0,N.jsxs)("p",{className:"other-right-text",children:["\u57fa\u7ebf\u8d1f\u8377(kW)\uff1a",(0,p.ZO)(null===nt||void 0===nt?void 0:nt.baseLoad)]})]}):null,"\u5df2\u5b8c\u6210"===(0,p.Q3)(null===nt||void 0===nt?void 0:nt.dstatus,null===nt||void 0===nt?void 0:nt.declareStatus)?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("p",{className:"other-right-text",children:["\u54cd\u5e94\u8d1f\u8377(kW)\uff1a",(0,p.ZO)(null===nt||void 0===nt?void 0:nt.actualLoad)]}),(0,N.jsxs)("p",{className:"other-right-text",children:["\u54cd\u5e94\u7535\u91cf(kWh)\uff1a",(0,p.ZO)(null===nt||void 0===nt?void 0:nt.actualPower)]}),(0,N.jsxs)("p",{className:"other-right-text",children:["\u9884\u4f30\u6536\u76ca\uff08\u5143\uff09\uff1a",(0,p.ZO)(null===nt||void 0===nt?void 0:nt.profit),"\u5143"]})]}):null]})]})]}),(0,N.jsxs)("div",{className:"right-center-wrapper",children:[(0,N.jsxs)("div",{className:"right-center-title-wrapper",children:[(0,N.jsx)("i",{className:"right-center-icon"}),(0,N.jsx)("span",{className:"right-center-title",children:"2-\u5206\u89e3"})]}),(0,N.jsx)("div",{className:"dots-wrapper",children:null===$e||void 0===$e||null===(t=$e.slice(0,3))||void 0===t?void 0:t.map((function(e,t){return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("div",{className:"dots-1",children:[(0,N.jsxs)("div",{className:"dots-1-header",id:"node-item-".concat(t),children:[(0,N.jsx)("div",{className:y()("round",{"online-status":null===e||void 0===e?void 0:e.online})}),(0,N.jsx)(d.Z,{placement:"top",title:e.nodeName,color:"#38373F",children:(0,N.jsx)("span",{className:"dots-1-header-text",children:null===e||void 0===e?void 0:e.nodeName})})]}),(0,N.jsxs)("div",{className:"dots1-content",children:[(0,N.jsxs)("p",{className:"dots1-text",children:["\u72b6\u6001\uff1a",(0,p.ei)(null===e||void 0===e?void 0:e.drsStatus)||"-"]}),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("p",{className:"dots1-text",children:["\u7533\u62a5\u8d1f\u8377(kW)\uff1a","\u5f85\u7533\u62a5"===(0,p.ei)(null===e||void 0===e?void 0:e.drsStatus)?0:(0,p.ZO)(null===e||void 0===e?void 0:e.declareLoad)]}),(0,N.jsxs)("p",{className:"dots1-text",children:["\u8c03\u8282\u8d1f\u8377(kW)\uff1a","\u5f85\u7533\u62a5"===(0,p.ei)(null===e||void 0===e?void 0:e.drsStatus)?0:(0,p.ZO)(null===e||void 0===e?void 0:e.adjustLoad)]}),(0,N.jsxs)("p",{className:"dots1-text",children:["\u9884\u6d4b\u8d1f\u8377(kW)\uff1a",(0,p.ZO)(null===e||void 0===e?void 0:e.forecastLoad)]})]}),24===(null===e||void 0===e?void 0:e.drsStatus)?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("p",{className:"dots1-text",children:["\u5b9e\u9645\u8d1f\u8377(kW)\uff1a",(0,p.ZO)(null===e||void 0===e?void 0:e.nowLoad)]}),(0,N.jsxs)("p",{className:"dots1-text",children:["\u57fa\u7ebf\u8d1f\u8377(kW)\uff1a",(0,p.ZO)(null===e||void 0===e?void 0:e.baseLoad)]})]}):null,25===(null===e||void 0===e?void 0:e.drsStatus)?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("p",{className:"dots1-text",children:["\u54cd\u5e94\u8d1f\u8377(kW)\uff1a",(0,p.ZO)(null===e||void 0===e?void 0:e.responseLoad)]}),(0,N.jsxs)("p",{className:"dots1-text",children:["\u54cd\u5e94\u7535\u91cf(kWh)\uff1a",(0,p.ZO)(null===e||void 0===e?void 0:e.realTimeLoad)]}),(0,N.jsxs)("p",{className:"dots1-text",children:["\u9884\u4f30\u6536\u76ca\uff08\u5143\uff09\uff1a",(0,p.ZO)(null===e||void 0===e?void 0:e.profit),"\u5143"]})]}):null]})]})})}))})]}),(0,N.jsxs)("div",{className:"right-bottom-wrapper",children:[(0,N.jsxs)("div",{className:"right-bottom-title-wrapper",children:[(0,N.jsxs)("div",{className:"right-bottom-title-wrapper-right",children:[(0,N.jsx)("i",{className:"right-bottom-icon"}),(0,N.jsx)("span",{className:"right-center-title",children:"3-\u7b56\u7565"})]}),"\u6267\u884c\u4e2d"===(0,p.Q3)(null===nt||void 0===nt?void 0:nt.dstatus,null===nt||void 0===nt?void 0:nt.declareStatus)||"\u5df2\u5b8c\u6210"===(0,p.Q3)(null===nt||void 0===nt?void 0:nt.dstatus,null===nt||void 0===nt?void 0:nt.declareStatus)||St?null:(0,N.jsx)(c.ZP,{className:"confirm-btn",disabled:0===yt.length,onClick:function(){return Dt(yt)},children:"\u6279\u91cf\u786e\u8ba4"})]}),(0,N.jsx)("div",{className:"strategy-wrap",children:(0,N.jsx)(v.Z,{pagination:!1,rowSelection:"\u6267\u884c\u4e2d"===(0,p.Q3)(null===nt||void 0===nt?void 0:nt.dstatus,null===nt||void 0===nt?void 0:nt.declareStatus)||"\u5df2\u5b8c\u6210"===(0,p.Q3)(null===nt||void 0===nt?void 0:nt.dstatus,null===nt||void 0===nt?void 0:nt.declareStatus)||St?void 0:(0,n.Z)({type:"checkbox"},Ot),columns:It,dataSource:K})})]})]})]})})]})]}),(0,N.jsx)(S,{setIsModalOpen:g,isModalOpen:m,nodeList:$e,taskInfo:nt}),b?(0,N.jsx)(k,{setIsStrategyModalOpen:L,selectedStrategyItem:ie,queryStrategy:function(){return Zt(D)},getDecisionChainList:function(){return Wt(D)},onQueryChart:function(){return Tt(D,He+" "+De,He+" "+Ae,ut,mt)}}):null]})}},12781:function(e,t,i){i.d(t,{Id:function(){return v},M1:function(){return o},Mc:function(){return l},Q:function(){return c},Q3:function(){return d},ZO:function(){return u},ei:function(){return r},gu:function(){return n},jl:function(){return s},p6:function(){return a},t5:function(){return h}});var n=function(e){return{"3da72e052a0b48759b0f4633df42235a":"\u6df1\u5733\u67d0\u5de5\u4e1a\u8bbe\u5907\u65b0\u6750\u6599\u80a1\u4efd\u6709\u9650\u516c\u53f8","176c0991f24e30c2b25a9dbf1185b7b9":"\u6df1\u5733\u6cf0\u4f26\u5e7f\u573aA\u5ea7","5eb413037ba16ea6108c12e0d6353be3":"\u6df1\u5733\u6cf0\u4f26\u5e7f\u573aB\u5ea7"}[e]},a=function(e){var t=new Date(e),i=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,"0"),a=t.getDate().toString().padStart(2,"0"),s=t.getHours().toString().padStart(2,"0"),l=t.getMinutes().toString().padStart(2,"0");return"".concat(i,"-").concat(n,"-").concat(a," ").concat(s,":").concat(l)},s=function(e,t){var i=new Date(e),n=new Date(t);return Math.abs(n.getTime()-i.getTime())>9e6},l=function(e){return 1===e?"\u524a\u5cf0\u54cd\u5e94":2===e?"\u586b\u8c37\u54cd\u5e94":"-"},o=function(e){return 1===e?"\u65e5\u524d\u54cd\u5e94":2===e?"\u5c0f\u65f6\u54cd\u5e94":3===e?"\u5206\u949f\u54cd\u5e94":4===e?"\u79d2\u7ea7\u54cd\u5e94":void 0},d=function(e,t){if(!t){if(1===e)return"\u5f85\u7533\u62a5";if(2===e)return"\u6267\u884c\u4e2d";if(3===e)return"\u5df2\u5b8c\u6210";if(4===e||0===e)return"\u4e0d\u53c2\u52a0"}if(!e){if(1===t)return"\u5f85\u7533\u62a5";if(2===t)return"\u5f85\u51fa\u6e05";if(3===t)return"\u5df2\u51fa\u6e05"}if(t){if(1===t&&1===e)return"\u5f85\u7533\u62a5";if(2===t&&1===e)return"\u5f85\u51fa\u6e05";if(3===t&&1===e)return"\u5df2\u51fa\u6e05";if(3===t&&2===e)return"\u6267\u884c\u4e2d";if(3===t&&3===e)return"\u5df2\u5b8c\u6210";if(4===e||0===e)return"\u4e0d\u53c2\u52a0"}return"\u4e0d\u53c2\u52a0"},r=function(e){switch(e){case 11:case 12:return"\u5f85\u7533\u62a5";case 15:return"\u4e0d\u53c2\u52a0";case 21:return"\u5f85\u51fa\u6e05";case 22:return"\u5df2\u51fa\u6e05";case 24:return"\u6267\u884c\u4e2d";case 25:return"\u5df2\u5b8c\u6210";default:return"-"}},c=function(e){var t=new Date(e),i=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,"0"),a=t.getDate().toString().padStart(2,"0"),s="",l="";if(Number(t.getHours().toString())>=22)s="23",l="45";else{var o=new Date(e);o.setTime(o.getTime()+9e6),s=Number(o.getHours().toString()).toString().padStart(2,"0"),l=o.getMinutes().toString().padStart(2,"0")}return{startTime:e.split(" ")[1],endDate:"".concat(i,"-").concat(n,"-").concat(a),endTime:"".concat(s,":").concat(l)}},u=function(e){return isNaN(e)?0:e?Math.round(100*e)/100:0},v=function(e){var t=0;return e&&(null===e||void 0===e?void 0:e.length)>0&&e.forEach((function(e){"\u5f85\u7533\u62a5"===r(null===e||void 0===e?void 0:e.drsStatus)&&(t+=Number(null===e||void 0===e?void 0:e.declareLoad))})),t},h=function(e){var t=0;return e&&(null===e||void 0===e?void 0:e.length)>0&&e.forEach((function(e){"\u5f85\u7533\u62a5"===r(null===e||void 0===e?void 0:e.drsStatus)&&(t+=Number(null===e||void 0===e?void 0:e.adjustLoad))})),t}}}]);
//# sourceMappingURL=3476.5561bd4b.chunk.js.map