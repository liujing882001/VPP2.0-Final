"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[3675],{93675:function(e,t,a){a.r(t),a.d(t,{default:function(){return g}});var n=a(29439),c=a(72791),s=a(19741),i=a(67571),l=a(61855),d=a(78347),o=a(5122),A=a(80184),r=l.Z.Search,g=function(e){var t=(0,c.useState)(2),l=(0,n.Z)(t,2),g=l[0],u=l[1],h=(0,c.useState)([]),f=(0,n.Z)(h,2),p=f[0],x=f[1],B=(0,c.useState)(""),w=(0,n.Z)(B,2),C=w[0],S=w[1],I=(0,c.useState)(""),v=(0,n.Z)(I,2),E=v[0],m=v[1],j=(0,c.useState)(""),Q=(0,n.Z)(j,2),y=Q[0],D=Q[1],Z=(0,c.useState)(""),N=(0,n.Z)(Z,2),k=N[0],P=N[1],R=(0,c.useState)(""),U=(0,n.Z)(R,2),H=U[0],J=U[1],L=(0,c.useState)(1),K=(0,n.Z)(L,2),M=K[0],F=K[1],T=(0,c.useState)(""),z=(0,n.Z)(T,2),O=z[0],X=z[1],q=(0,c.useState)(""),G=(0,n.Z)(q,2),W=G[0],b=G[1],V=(0,c.useState)(""),Y=(0,n.Z)(V,2),_=Y[0],$=Y[1],ee=(0,c.useState)(""),te=(0,n.Z)(ee,2),ae=te[0],ne=te[1],ce=(0,c.useState)(1),se=(0,n.Z)(ce,2),ie=se[0],le=se[1],de=(0,c.useState)(""),oe=(0,n.Z)(de,2),Ae=oe[0],re=oe[1],ge=(0,c.useState)(!1),ue=(0,n.Z)(ge,2),he=(ue[0],ue[1]),fe=(0,c.useState)(1),pe=(0,n.Z)(fe,2),xe=pe[0],Be=pe[1],we=(0,i.k6)();(0,c.useEffect)((function(){if(e.location.state){var t=e.location.state;S(t.strategyId)}else we.push("/tactics")}),[]),(0,c.useEffect)((function(){C&&(Ce(),Se(),Ie(),ve())}),[C]),(0,c.useEffect)((function(){2==g?ve():Ee()}),[M,xe,g,ie,Ae]);var Ce=function(){o.Z.post("run_schedule/run_strategy/strategyDetail?strategyId="+C).then((function(e){if(console.log(e),200==e.data.code)e.data.data})).catch((function(e){console.log(e)}))},Se=function(){o.Z.post("run_schedule/run_strategy/strategyCalculate?strategyId="+C).then((function(e){if(200==e.data.code){var t=e.data.data;m(t.deviceNumber),D(t.nodeNumber),P(t.realPower),J(t.ratedPower)}}))},Ie=function(){var e=new URLSearchParams;e.append("number",1),e.append("pageSize",1e3),e.append("strategyId",C),e.append("deviceName",Ae),he(!0),o.Z.post("run_schedule/run_strategy/strategyDeviceDetailAll",e).then((function(e){if(console.log(e),200==e.data.code){for(var t=e.data.data.content,a=0,n=0,c=0;c<t.length;c++)!0===t[c].online?a+=1:n+=1;$(a),ne(n)}})).catch((function(e){console.log(e)}))},ve=function(){var e=new URLSearchParams;e.append("number",M),e.append("pageSize",10),e.append("strategyId",C),e.append("deviceName",Ae),he(!0),o.Z.post("run_schedule/run_strategy/strategyDeviceDetailAll",e).then((function(e){if(console.log(e),200==e.data.code){for(var t=e.data.data.content,a=0;a<t.length;a++)!0===t[a].online?1:1;b(e.data.data.totalElements),x(e.data.data.content),he(!1)}})).catch((function(e){console.log(e)}))},Ee=function(){he(!0);var e=new URLSearchParams;e.append("number",M),e.append("pageSize",10),e.append("strategyId",C),e.append("online",ie),e.append("deviceName",Ae),o.Z.post("run_schedule/run_strategy/strategyDeviceDetailOn",e).then((function(e){console.log(e),200==e.data.code&&(x(e.data.data.content),X(e.data.data.totalElements),he(!1))})).catch((function(e){console.log(e)}))},me=function(e){console.log(e),u(e),le(e),F(1),Be(1)},je=[{title:"\u5e8f\u53f7",dataIndex:"name",key:"name",render:function(e,t,a){return 2*(M-1)+a+1}},{title:"\u8282\u70b9",dataIndex:"nodeName",key:"nodeName"},{title:"\u8bbe\u5907\u7f16\u53f7",dataIndex:"deviceSn",key:"deviceSn"},{title:"\u8bbe\u5907\u540d\u79f0",dataIndex:"deviceName",key:"deviceName"},{title:"\u8bbe\u5907\u578b\u53f7",dataIndex:"deviceModel",key:"deviceModel"},{title:"\u989d\u5b9a\u8d1f\u8377",dataIndex:"deviceRatedPower",key:"deviceRatedPower"},{title:"\u8bbe\u5907\u54c1\u724c",dataIndex:"deviceBrand",key:"deviceBrand"},{title:"\u66f4\u65b0\u65f6\u95f4",dataIndex:"updateTime",key:"updateTime"},{title:"\u8bbe\u5907\u72b6\u6001",dataIndex:"online",key:"online",render:function(e,t,a,n){return(0,A.jsx)("a",{style:{color:1==e?"#44D7B6":"#6D7278"},children:1==e?"\u5728\u7ebf":"\u79bb\u7ebf"})}}];return(0,A.jsxs)("div",{className:"Tdetail",children:[(0,A.jsx)("div",{className:"header",children:(0,A.jsx)(s.rU,{to:"/tactics",children:(0,A.jsxs)("a",{href:"#",children:[(0,A.jsx)("img",{src:a(61611)}),"\u8fd4\u56de"]})})}),(0,A.jsxs)("div",{className:"Tdetailtitle",children:[(0,A.jsx)("div",{children:(0,A.jsxs)("p",{children:["\u8282\u70b9\u603b\u6570\uff08\u4e2a\uff09",(0,A.jsx)("span",{children:y})]})}),(0,A.jsx)("div",{children:(0,A.jsxs)("p",{children:["\u8bbe\u5907\u603b\u6570(\u4e2a)",(0,A.jsx)("span",{children:E})]})}),(0,A.jsx)("div",{children:(0,A.jsxs)("p",{children:["\u989d\u5b9a\u8d1f\u8377(kW)",(0,A.jsx)("span",{children:H})]})}),(0,A.jsx)("div",{children:(0,A.jsxs)("p",{children:["\u5b9e\u65f6\u8d1f\u8377(kW)",(0,A.jsx)("span",{children:k})]})})]}),(0,A.jsxs)("div",{className:"Tdetailbody",children:[(0,A.jsxs)("div",{className:"conditions",children:[(0,A.jsxs)("ul",{style:{float:"left"},children:[(0,A.jsxs)("li",{onClick:function(){return me(2)},className:2==g?"active":null,children:["\u603b\u6570(",W,")"]}),(0,A.jsxs)("li",{onClick:function(){return me(1)},className:1==g?"active":null,children:["\u5728\u7ebf(",_,")"]}),(0,A.jsxs)("li",{onClick:function(){return me(0)},className:0==g?"active":null,children:["\u79bb\u7ebf(",ae,")"]})]}),(0,A.jsx)(r,{placeholder:"\u641c\u7d22\u76f8\u5173\u4fe1\u606f",onSearch:function(e){console.log(e),re(e)},style:{width:200,float:"right"}})]}),(0,A.jsx)(d.Z,{dataSource:p,columns:je,pagination:{total:2==g?W:O,defaultCurrent:1,defaultPageSize:10,showSizeChanger:!1,onChange:function(e){console.log(e),console.log(ie),F(e),Be(e)},current:xe},rowKey:g})]})]})}},61611:function(e){e.exports="data:image/png;base64,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"}}]);
//# sourceMappingURL=3675.e1b364bb.chunk.js.map