"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[6253],{96253:function(e,n,t){t.r(n),t.d(n,{default:function(){return L}});var r=t(74165),a=t(93433),i=t(15861),d=t(15671),o=t(43144),l=t(60136),s=t(27277),u=t(1413),c=t(45987),h=t(72791),p=t(66818),m=t(61855),f=t(65592),y=t(93070),x=t(71106),g=t(2556),k=t(78347),Z=(t(97892),t(29966)),v=(t(5122),t(74569)),j=t.n(v),b=t(80184),I=["editing","dataIndex","title","inputType","record","index","children"],w=p.Z.Option,C=(m.Z.Search,function(e){var n=e.editing,t=e.dataIndex,r=e.title,a=e.inputType,i=(e.record,e.index,e.children),d=(0,c.Z)(e,I),o="number"===a?(0,b.jsx)(f.Z,{}):(0,b.jsx)(m.Z,{});return(0,b.jsx)("td",(0,u.Z)((0,u.Z)({},d),{},{children:n?(0,b.jsx)(y.Z.Item,{name:t,style:{margin:0},rules:[{required:!0,message:"Please Input ".concat(r,"!")}],children:o}):i}))}),S=function(e){(0,l.Z)(t,e);var n=(0,s.Z)(t);function t(e){var r;return(0,d.Z)(this,t),(r=n.call(this,e)).onSearch=function(e){console.log(e)},r.dao=function(){j()({method:"get",url:"excel/storedEnergyStrategy",responseType:"arraybuffer"}).then((function(e){if(console.log(e),200==e.status){var n=window.URL.createObjectURL(new Blob([e.data])),t=document.createElement("a");t.style.display="none",t.href=n,t.download="\u62a5\u8868.xlsx",document.body.appendChild(t),t.click(),URL.revokeObjectURL(t.href),document.body.removeChild(t)}}))},r.state={data:[{key:"1",age:"\u8c37",time:"22:00-8:00",tel:"350",phone:"0.4258",address:"\u5145",hour:4,duration:1400},{key:"2",time:"8:00-11:00",tel:"0571-22098333",phone:"1.0171",age:"\u5e73",address:"\u653e",hour:3,duration:1050},{key:"3",time:"11:00-13:00",age:"\u8c37",tel:"0575-22098909",phone:"0.4258",address:"\u5145",hour:2,duration:700},{key:"4",time:"13:00-19:00",name:"Jim Red",age:"\u5e73",tel:"0575-22098909",phone:"1.0159",address:"\u5f85\u673a",hour:0,duration:0},{key:"5",time:"19:00-21:00",name:"Jake White",age:"\u5cf0",tel:"0575-22098909",phone:"1.364",address:"\u653e",hour:2,duration:700},{key:"6",time:"21:00-22:00",name:"Jake White",age:"\u5e73",tel:"0575-22098909",phone:"1.0171",address:"\u653e",hour:1,duration:350}],setData:[],editingKey:"",setEditingKey:""},r}return(0,o.Z)(t,[{key:"render",value:function(){var e=this,n=this.state,t=n.editingKey,d=n.data,o=function(e){return e.key===t},l=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(t){var i,o,l,s;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log(t);try{i=e.refs.myForm.validateFields(),console.log(i),o=(0,a.Z)(d),console.log(o),l=o.findIndex((function(e){return t===e.key})),console.log(l),l>-1?(s=o[l],console.log(s),o.splice(l,1,(0,u.Z)((0,u.Z)({},s),i)),console.log(o),e.setState({data:o,editingKey:""})):(o.push(i),e.setState({data:o,editingKey:""}))}catch(r){console.log("Validate Failed:",r)}case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),s=[{title:"\u65f6\u6bb5",dataIndex:"time"},{title:"\u7c7b\u578b",dataIndex:"age"},{title:"\u7535\u4ef7\uff08\u5143/kWh\uff09",dataIndex:"phone"},{title:"\u5145\u653e\u7535\u7b56\u7565",dataIndex:"address",editable:!0},{title:"\u6709\u6548\u5229\u7528\u5c0f\u65f6\u6570\uff08h\uff09",dataIndex:"hour",editable:!0},{title:"\u5168\u5e74\u5145\u653e\u7535\u5929\u6570",dataIndex:"tel",render:function(e,n,t){return function(e,n,t){var r={children:e,props:{}};return Array.from(new Set(t.map((function(e){return e.module})))).map((function(e){return t.filter((function(n){return n.module===e}))})).forEach((function(e){var a=t.findIndex((function(n){return n.module===e[0].module}));n===a&&(r.props.rowSpan=null===e||void 0===e?void 0:e.length,r.props.children="<button>\u7f16\u8f91</button>"),n>a&&n<a+(null===e||void 0===e?void 0:e.length)&&(r.props.rowSpan=0)})),r}(e,t,d)}},{title:"\u7d2f\u8ba1\u65f6\u957f\uff08h\uff09",dataIndex:"duration"},{title:"\u64cd\u4f5c",dataIndex:"",render:function(n,r){return o(r)?(0,b.jsxs)("span",{children:[(0,b.jsx)(x.Z.Link,{onClick:function(){return l(r.key)},style:{marginRight:8},children:"\u786e\u5b9a"}),(0,b.jsx)(x.Z.Link,{onClick:function(){return r.key,void e.setState({editingKey:""})},children:"\u53d6\u6d88"})]}):(0,b.jsx)(x.Z.Link,{disabled:""!==t,onClick:function(){return function(n){console.log(n),e.refs.myForm.setFieldsValue((0,u.Z)({hour:"",address:""},n)),e.setState({editingKey:n.key})}(r)},children:"\u7f16\u8f91"})}}],c=s.map((function(e){return e.editable?(0,u.Z)((0,u.Z)({},e),{},{onCell:function(n){return{record:n,inputType:"age"===e.dataIndex?"number":"text",selectType:"address"===e.dataIndex,dataIndex:e.dataIndex,title:e.title,editing:o(n)}}}):e}));return(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"powerheader s",style:{background:"#09183F",margin:"19px 0px"},children:(0,b.jsx)(p.Z,{defaultValue:"\u6d77\u95e8\u652f\u5c40\u50a8\u80fd\u57fa\u7ad9",style:{width:160},onChange:this.handleChange,children:(0,b.jsx)(w,{value:"jack",children:"\u6d77\u95e8\u652f\u5c40\u50a8\u80fd\u57fa\u7ad9"})})}),(0,b.jsxs)("div",{className:"prompt",children:[(0,b.jsx)(Z.Z,{}),"\u4ee5\u4e0b\u5145\u653e\u7535\u7b56\u7565\u9ed8\u8ba4\u4e3aAI\u6a21\u578b\u667a\u80fd\u5206\u6790\u7ed3\u679c\uff0c\u5982\u9700\u4fee\u6539\uff0c\u8bf7\u81ea\u884c\u524d\u5f80\u64cd\u4f5c\u533a\u7f16\u8f91\u3002"]}),(0,b.jsxs)("div",{className:"subject",children:[(0,b.jsx)("b",{children:"\u9879\u76ee\u5730\u70b9\uff1a\u6d59\u6c5f\u7701\uff08\u5206\u65f6\u7535\u4ef7\u6765\u6e90\uff09"}),(0,b.jsx)(g.ZP,{type:"primary",onClick:this.dao,style:{float:"right",marginLeft:"16px"},children:"\u5bfc\u51fa"})]}),(0,b.jsx)(y.Z,{ref:"myForm",component:!1,children:(0,b.jsx)(k.Z,{components:{body:{cell:C}},bordered:!0,dataSource:d,columns:c,rowClassName:function(e,n){return n%2===0?"ou":"ji"},pagination:!1})})]})}}]),t}(h.Component),L=S}}]);
//# sourceMappingURL=6253.5a18349a.chunk.js.map