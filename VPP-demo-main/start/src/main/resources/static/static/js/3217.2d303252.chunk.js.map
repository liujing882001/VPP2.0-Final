{"version":3,"file":"static/js/3217.2d303252.chunk.js","mappings":"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","sources":["views/Carbon/carbon/dropdown/index.js"],"sourcesContent":["import React, { useEffect,useState } from 'react';\r\nimport { Tabs,Table,Select,Input,Button,DatePicker,ConfigProvider,Space,Modal,Form,message } from 'antd';\r\nimport './dropdown.scss'\r\nimport {\n  FormOutlined,\r\n  DeleteOutlined,\r\n  ExclamationCircleOutlined\n} from '@ant-design/icons';\r\n// import http from '../../../../axios/serve.js'\r\nimport http from '../../../../server/server.js'\r\n\r\nconst { Option } = Select;\r\nconst { confirm } = Modal;\r\nconst Dropdown =() =>{\r\n\tconst [isModalVisible, setIsModalVisible] = useState(false);\r\n\t  const [total, setTotal] = useState('');\r\n\t  const [content, setContent] = useState([]);\r\n\t  const [stutes, setStutes] = useState(0); // 0新增，1修改\r\n\t  const [emissionFactorId, setEmissionFactorId] = useState('');\r\n\t  const [emissionFactorNum, setEmissionFactorNum] = useState('');\r\n\t  const [province, setProvince] = useState('北京市');\r\n\t  const [sstatus, setSStatus] = useState('');\r\n\t  const [createdTime, setCreatedTime] = useState('');\r\n\t  const [updateTime, setUpdateTime] = useState('');\r\n\t  const [node, setNode] = useState('');\r\n\t  const [loading, setLoading] = useState(false);\r\n\t  const [typeval, setTypeval] = useState('');\r\n\t  const [page, setPage] = useState(1);\r\n\t  const [currentNum, setCurrentNum] = useState(1);\r\n\t  const [setLoadings, setSetLoadings] = useState(false);\r\n\t  const [options, setOptions] = useState([]);\r\n\tconst [dischargeType,setDischargeType] = useState('');\r\n\t// const\r\n\tconst [myForm] = Form.useForm()\r\n\tuseEffect(() =>{\r\n\t\tregionProvinces()\r\n\t},[])\r\n\tuseEffect(() =>{\r\n\t\tgetEmissionFactorList()\r\n\t},[page,currentNum])\r\n\tconst append =() =>{\r\n\t\tsetIsModalVisible(true);\r\n\t\tsetStutes(0)\r\n\t}\r\n\tconst quxiao =() =>{\r\n\t\tsetIsModalVisible(false);\r\n\t\tmyForm.resetFields()\r\n\t}\r\n\t// 查询\r\n\tconst search =() =>{\r\n\t\tgetEmissionFactorList()\r\n\t}\r\n\t// 获取省份\r\n\t// /system_management/sysregion_model/regionProvinces\r\n\tconst regionProvinces=() =>{\r\n\t\thttp.post('system_management/sysregion_model/regionProvinces').then(res =>{\r\n\t\t\tconsole.log(res)\r\n\t\t\tif(res.data.code==200){\r\n\t\t\t\tlet data = res.data.data\r\n\t\t\t\tlet options = []\r\n\t\t\t\tdata&&data.map(res =>{\r\n\t\t\t\t\toptions.push({\r\n\t\t\t\t\t\tlabel:res.regionName,\r\n\t\t\t\t\t\tvalue:res.regionName\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\tsetOptions(options)\r\n\t\t\t}\r\n\t\t}).catch(err =>{\r\n\t\t\tconsole.log(err)\r\n\t\t})\r\n\t}\r\n\t// 获取碳排放因子列表\r\n\tconst getEmissionFactorList=() =>{\r\n\t\tsetLoading(true)\r\n\t\thttp.post('carbon/emission/getEmissionFactorList',{\r\n\t\t\t\"number\": page,\r\n\t\t\t\"pageSize\": 10,\r\n\t\t\t\"province\": province\t//省份\r\n\t\t}).then(res =>{\r\n\t\t\tconsole.log(res)\r\n\t\t\tif(res.data.code==200){\r\n\t\t\t\tsetContent(res.data.data.content);\r\n\t\t\t\tsetTotal(res.data.data.totalElements);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t}\r\n\t\t}).catch(err =>{\r\n\t\t\t\r\n\t\t})\r\n\t}\r\n\t// 编辑\r\n\tconst edit= (e) =>{\r\n\t\tconsole.log(e)\r\n\t\tif(e.description=='碳汇'){\r\n\t\t\tsetStutes(1);\r\n\t\t\tsetIsModalVisible(true);\r\n\t\t\tsetEmissionFactorId(e.emissionFactorId);\r\n\t\t\tsetEmissionFactorNum(e.emissionFactorNum);\r\n\t\t\tsetProvince(e.province);\r\n\t\t\tsetSStatus(e.sstatus);\r\n\t\t\tsetCreatedTime(e.createdTime);\r\n\t\t\tsetUpdateTime(e.updateTime);\r\n\t\t\tsetDischargeType(e.dischargeType);\r\n\t\t\tsetNode('');\r\n\t\t\tsetTypeval('碳汇');\r\n\t\t\tmyForm.setFieldsValue({\r\n\t\t\t\ttype:e.emissionFactorName,\r\n\t\t\t\tco:e.co2,\r\n\t\t\t\tunit:e.unit,\r\n\t\t\t\tscope:'',\r\n\t\t\t\tdescription:e.description,\r\n\t\t\t\tInitial:e.initialValue,\r\n\t\t\t\tdischargeType:e.dischargeType\r\n\t\t\t})\r\n\t\t}else{\r\n\t\t\tif(e.scopeType==1){\r\n\t\t\t\t// 范围一\r\n\t\t\t\tsetStutes(1);\r\n\t\t\t\tsetIsModalVisible(true);\r\n\t\t\t\tsetEmissionFactorId(e.emissionFactorId);\r\n\t\t\t\tsetEmissionFactorNum(e.emissionFactorNum);\r\n\t\t\t\tsetProvince(e.province);\r\n\t\t\t\tsetSStatus(e.sstatus);\r\n\t\t\t\tsetCreatedTime(e.createdTime);\r\n\t\t\t\tsetUpdateTime(e.updateTime);\r\n\t\t\t\tsetDischargeType(e.dischargeType);\r\n\t\t\t\tsetNode(1);\r\n\t\t\t\tsetTypeval('');\r\n\t\t\t\tmyForm.setFieldsValue({\r\n\t\t\t\t\ttype:e.emissionFactorName,\r\n\t\t\t\t\tco:e.co2,\r\n\t\t\t\t\tunit:e.unit,\r\n\t\t\t\t\tscope:e.scopeType,\r\n\t\t\t\t\tdescription:e.description,\r\n\t\t\t\t\tInitial:e.initialValue,\r\n\t\t\t\t\tdischargeType:e.dischargeType\r\n\t\t\t\t})\r\n\t\t\t}else{\r\n\t\t\t\tsetStutes(1);\r\n\t\t\t\tsetIsModalVisible(true);\r\n\t\t\t\tsetEmissionFactorId(e.emissionFactorId);\r\n\t\t\t\tsetEmissionFactorNum(e.emissionFactorNum);\r\n\t\t\t\tsetProvince(e.province);\r\n\t\t\t\tsetSStatus(e.sstatus);\r\n\t\t\t\tsetCreatedTime(e.createdTime);\r\n\t\t\t\tsetUpdateTime(e.updateTime);\r\n\t\t\t\tsetDischargeType(null);\r\n\t\t\t\tsetNode(0);\r\n\t\t\t\tsetTypeval('');\r\n\t\t\t\tmyForm.setFieldsValue({\r\n\t\t\t\t\ttype:e.emissionFactorName,\r\n\t\t\t\t\tco:e.co2,\r\n\t\t\t\t\tunit:e.unit,\r\n\t\t\t\t\tscope:e.scopeType,\r\n\t\t\t\t\tdescription:e.description,\r\n\t\t\t\t\tInitial:e.initialValue,\r\n\t\t\t\t\tdischargeType:null\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n\t// 删除\r\n\tconst del =(e) =>{\r\n\t\tconsole.log(e)\r\n\t\tconfirm({\r\n\t\t    title: '确定要删除吗?',\r\n\t\t    icon: <ExclamationCircleOutlined />,\r\n\t\t\tcancelButtonProps: {className:'newbutton',style: { background: 'none'} }, \r\n\t\t    // content: 'Some descriptions',\r\n\t\t    okText: '确定',\r\n\t\t   \r\n\t\t    cancelText: '取消',\r\n\t\t    onOk() {\r\n\t\t\t\tconsole.log('OK');\r\n\t\t\t\thttp.post('carbon/emission/removeEmissionFactor?emissionFactorId='+e.emissionFactorId).then(res =>{\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tif(res.data.code==200){\r\n\t\t\t\t\t\tmessage.success('删除成功')\r\n\t\t\t\t\t\tgetEmissionFactorList()\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(err =>{\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t})\r\n\t\t    },\r\n\t\t    onCancel() {\r\n\t\t\t\tconsole.log('Cancel');\r\n\t\t    },\r\n\t\t  });\r\n\t}\r\n\tconst chosenode =(val) =>{\r\n\t\tconsole.log(val)\r\n\t\tsetNode(val)\r\n\t}\r\n\t// 选择省份\r\n\tconst handlepoint =(val) =>{\r\n\t\tsetProvince(val);\r\n\t\tsetPage(1);\r\n\t\tsetCurrentNum(1)\r\n\t}\r\n\t// 类型监听\r\n\tconst changeType = (e) =>{\r\n\t\tconsole.log(e.target.value)\r\n\t\tlet val = e.target.value\r\n\t\tif(val=='草坪' ||val=='树木'){\r\n\t\t\tsetTypeval('碳汇');\r\n\t\t\tmyForm.setFieldsValue({\r\n\t\t\t\tscope:''\r\n\t\t\t})\r\n\t\t}else{\r\n\t\t\tsetTypeval('');\r\n\t\t}\r\n\t}\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: '类型',\r\n\t\t\tdataIndex: 'emissionFactorName',\r\n\t\t\tkey: 'emissionFactorName',\r\n\t\t\t// width:100\r\n\t\t\t\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'CO2排放量',\r\n\t\t\tdataIndex: 'co2',\r\n\t\t\tkey: 'co2',\r\n\t\t\t// width:100\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '单位',\r\n\t\t\tdataIndex: 'unit',\r\n\t\t\tkey: 'unit',\r\n\t\t\trender: (text,record,_,action) =>{\r\n\t\t\t\tif( text==null||text==undefined){\r\n\t\t\t\t\treturn '-'\r\n\t\t\t\t}else if(text!==''){\r\n\t\t\t\t\t// console.log(text)\r\n\t\t\t\t\treturn text\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn text\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// width:100\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '范围',\r\n\t\t\tdataIndex: 'scopeType',\r\n\t\t\tkey: 'scopeType',\r\n\t\t\trender: (text,record,_,action) =>{\r\n\t\t\t\treturn  text==1?'范围一':text==2?'范围二':text==3?'范围三':'-'\r\n\t\t\t}\r\n\t\t\t// width:100\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '备注',\r\n\t\t\tdataIndex: 'description',\r\n\t\t\tkey: 'description',\r\n\t\t\twidth:200,\r\n\t\t\trender: (text,record,_,action) =>{\r\n\t\t\t\tif( text==null||text==undefined){\r\n\t\t\t\t\treturn '-'\r\n\t\t\t\t}else if(text!==''){\r\n\t\t\t\t\t// console.log(text)\r\n\t\t\t\t\treturn text\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn text\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t  title: '操作',\r\n\t\t  dataIndex: 'dates',\r\n\t\t  key: 'dates',\r\n\t\t  width:150,\r\n\t\t\trender: (text,record,_,action) =>{\r\n\t\t\t\treturn  <Space size=\"middle\">\r\n\t\t\t\t\t<a onClick={() => edit(record)}>编辑</a>\r\n\t\t\t\t\t<a onClick={() => del(record)}>删除</a>\r\n\t\t\t\t</Space>\r\n\t\t\t}\r\n\t\t}\r\n\t];\r\n\tconst handleOk = () => {\r\n\t\r\n\t};\r\n\t\r\n\tconst handleCancel = () => {\r\n\t\tsetIsModalVisible(false);\r\n\t\tmyForm.resetFields()\r\n\t};\r\n\tconst onFinish = (values) => {\r\n\t\tconsole.log('Success:', values);\r\n\t\tlet emissionFactorNum = ''\r\n\t\t// let values1 = values\r\n\t\tif(values.scope==1){\r\n\t\t\t// 范围一\r\n\t\t\tif(values.type=='天然气'){\r\n\t\t\t\temissionFactorNum = 11\r\n\t\t\t}else if(values.type=='煤气'){\r\n\t\t\t\temissionFactorNum = 12\r\n\t\t\t}else if(values.type=='柴油'){\r\n\t\t\t\temissionFactorNum = 13\r\n\t\t\t}else if(values.type=='公务车'){\r\n\t\t\t\temissionFactorNum = 21\r\n\t\t\t}else if(values.type=='冷机制冷剂'){\r\n\t\t\t\temissionFactorNum = 31\r\n\t\t\t}else if(values.type=='空调氟利昂'){\r\n\t\t\t\temissionFactorNum = 32\r\n\t\t\t}else if(values.type=='灭火器'){\r\n\t\t\t\temissionFactorNum = 33\r\n\t\t\t}\r\n\t\t}else if(values.scope==2){\r\n\t\t\t// 范围二\r\n\t\t\tif(values.type=='外购电力'){\r\n\t\t\t\temissionFactorNum = 1\r\n\t\t\t}else if(values.type=='外购热力'){\r\n\t\t\t\temissionFactorNum = 2\r\n\t\t\t}\r\n\t\t}else if(values.scope==3){\r\n\t\t\t// 范围三\r\n\t\t\tif(values.type=='差旅-火车'){\r\n\t\t\t\temissionFactorNum = 2\r\n\t\t\t}else if(values.type=='差旅-飞机'){\r\n\t\t\t\temissionFactorNum = 1\r\n\t\t\t}else if(values.type=='差旅-私家车'){\r\n\t\t\t\temissionFactorNum = 3\r\n\t\t\t}else if(values.type=='自来水'){\r\n\t\t\t\temissionFactorNum = 4\r\n\t\t\t}else if(values.type=='纸张消耗'){\r\n\t\t\t\temissionFactorNum = 5\r\n\t\t\t}\r\n\t\t}\r\n\t\tconsole.log(emissionFactorNum)\r\n\t\tif(stutes==0){\r\n\t\t\t// 新增\r\n\t\t\tsetSetLoadings(true)\r\n\t\t\thttp.post('carbon/emission/addEmissionFactor',{\r\n\t\t\t\t\"co2\": values.co,//co2排放量\r\n\t\t\t\t\"createdTime\": \"\",\t//创建时间\r\n\t\t\t\t\"dischargeType\": node==1?values.dischargeType:'',\t//燃烧排放类型\r\n\t\t\t\t\"emissionFactorId\": \"\",\t//排放因子id\r\n\t\t\t\t\"emissionFactorName\": values.type,\t//排放因子名称\r\n\t\t\t\t\"emissionFactorNum\": emissionFactorNum,\t//排放因子编号\r\n\t\t\t\t\"initialValue\": values.Initial,//初始值\r\n\t\t\t\t\"province\": province,\t//省份\r\n\t\t\t\t\"scopeType\": values.scope,\t//范围\r\n\t\t\t\t\"sstatus\": '',\r\n\t\t\t\t\"unit\": values.unit,\t//单位\r\n\t\t\t\t\"updateTime\": \"\",\r\n\t\t\t\t\"description\":values.description\t//备注\r\n\t\t\t\t \r\n\t\t\t}).then(res =>{\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\tif(res.data.code==200){\r\n\t\t\t\t\tmessage.success('成功')\r\n\t\t\t\t\tsetIsModalVisible(false);\r\n\t\t\t\t\tsetSetLoadings(false);\r\n\t\t\t\t\tmyForm.resetFields()\r\n\t\t\t\t\tgetEmissionFactorList()\r\n\t\t\t\t}else{\r\n\t\t\t\t\tsetSetLoadings(false);\r\n\t\t\t\t\tmessage.info(res.data.msg);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}).catch(err =>{\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t})\r\n\t\t\t\r\n\t\t}else if(stutes==1){\r\n\t\t\t// 编辑\r\n\t\t\tsetSetLoadings(true)\r\n\t\t\thttp.post('carbon/emission/editEmissionFactor',{\r\n\t\t\t\t\"co2\": values.co,//co2排放量\r\n\t\t\t\t\"createdTime\": createdTime,\t//创建时间\r\n\t\t\t\t\"dischargeType\": values.dischargeType,\t//燃烧排放类型\r\n\t\t\t\t\"emissionFactorId\": emissionFactorId,\t//排放因子id\r\n\t\t\t\t\"emissionFactorName\": values.type,\t//排放因子名称\r\n\t\t\t\t\"emissionFactorNum\": emissionFactorNum,\t//排放因子编号\r\n\t\t\t\t\"initialValue\": values.Initial,//初始值\r\n\t\t\t\t\"province\": province,\t//省份\r\n\t\t\t\t\"scopeType\": values.scope,\t//范围\r\n\t\t\t\t\"sstatus\": sstatus,\r\n\t\t\t\t\"unit\": values.unit,\t//、、单位\r\n\t\t\t\t\"updateTime\": updateTime,\r\n\t\t\t\t\"description\":values.description\t//备注\r\n\t\t\t\t \r\n\t\t\t}).then(res =>{\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\tif(res.data.code==200){\r\n\t\t\t\t\tmessage.success('编辑成功')\r\n\t\t\t\t\tsetIsModalVisible(false);\r\n\t\t\t\t\tsetSetLoadings(false);\r\n\t\t\t\t\tmyForm.resetFields()\r\n\t\t\t\t\tgetEmissionFactorList()\r\n\t\t\t\t}else{\r\n\t\t\t\t\tsetSetLoadings(false);\r\n\t\t\t\t\tmessage.info(res.data.msg);\r\n\t\t\t\t}\r\n\t\t\t}).catch(err =>{\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t};\r\n\t\r\n\tconst onFinishFailed = (errorInfo) => {\r\n\t\tconsole.log('Failed:', errorInfo);\r\n\t};\r\n\tconst onChangetab: PaginationProps['onChange'] = page => {\r\n\t\tconsole.log(page);\r\n\t\tsetPage(page.current);\r\n\t\tsetCurrentNum(page.current);\r\n\t};\r\n\treturn(\r\n\t\t<div className=\"allcontent1\">\r\n\t\t\t<div className=\"header\">\r\n\t\t\t\t省份：\r\n\t\t\t\t<Select\r\n\t\t\t\t\tdefaultValue=\"北京市\"\r\n\t\t\t\t\tstyle={{ width: 217 }}\r\n\t\t\t\t\tonChange={handlepoint}\r\n\t\t\t\t\toptions={options}\r\n\t\t\t\t/>\r\n\t\t\t\t<Button type=\"primary\" onClick={search}>查询</Button>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"emission\">\r\n\t\t\t\t<div className=\"title\">\r\n\t\t\t\t\t<span>碳排放因子列表</span>\r\n\t\t\t\t\t<div className=\"list\">\r\n\t\t\t\t\t\t<Button type=\"primary\" onClick={append}>新增类型</Button>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<Table dataSource={content} columns={columns} loading={loading}\r\n\t\t\t\t\tonChange={onChangetab}\r\n\t\t\t\t\tscroll={{ x: '100%' }}\r\n\t\t\t\t \r\n\t\t\t\t pagination={\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttotal: total,//数据的总条数\r\n\t\t\t\t\t\tdefaultCurrent: 1,//默认当前的页数\r\n\t\t\t\t\t\tdefaultPageSize: 10,//默认每页的条数\r\n\t\t\t\t\t\tshowSizeChanger:false,\r\n\t\t\t\t\t\tcurrent:currentNum\r\n\t\t\t\t\t}\r\n\t\t\t\t }\r\n\t\t\t\t />\r\n\t\t\t</div>\r\n\t\t\t<Modal\r\n\t\t\t\ttitle={stutes==0?'新增类型':'编辑'}\r\n\t\t\t\tvisible={isModalVisible}\r\n\t\t\t\twidth={600}\r\n\t\t\t\t// confirmLoading={confirmLoading}\r\n\t\t\t\tonCancel={handleCancel}\r\n\t\t\t\tmaskClosable={false}\r\n\t\t\t\tfooter={null}\r\n\t\t\t\t// ref=\"myForm\"\r\n\t\t\t>\r\n\t\t\t\t<Form\r\n\t\t\t\t\tname=\"basic\"\r\n\t\t\t\t\tlabelCol={{ span: 5 }}\r\n\t\t\t\t\twrapperCol={{ span: 19 }}\r\n\t\t\t\t\tinitialValues={{ remember: true }}\r\n\t\t\t\t\tonFinish={onFinish}\r\n\t\t\t\t\tonFinishFailed={onFinishFailed}\r\n\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\tform={myForm}\r\n\t\t\t\t>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t<Form.Item label=\"类型\" name=\"type\" \r\n\t\t\t\t\t\trules={ [{required: true, message: '请输入类型' }]}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input onChange={changeType} />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"CO2排放量\"\r\n\t\t\t\t\t\tname=\"co\"\r\n\t\t\t\t\t\t// rules={ [{ pattern: new RegExp(/^\\d*(\\.\\d{1,20})?$/),message: '请输入数字' }]}\r\n\t\t\t\t\t\trules={ [{required: true, pattern: new RegExp(/^([0-9][0-9]{0,5}(\\.\\d{1,9})?|1000000)$/),message: '请输入正确的数字' }]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  // /^(?:0|[1-9][0-9]{0,9}?|1000000000)$/\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input maxLength={50} />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"单位\"\r\n\t\t\t\t\t\tname=\"unit\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input maxLength={50} />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"范围\"\r\n\t\t\t\t\t\tname=\"scope\"\r\n\t\t\t\t\t\trules={ [{required: typeval=='碳汇'?false:true, message: '请选择范围' }]}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tplaceholder=\"范围\"\r\n\t\t\t\t\t\t\tonChange={chosenode}\r\n\t\t\t\t\t\t\tdisabled={typeval=='碳汇'?true:false}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Option value={1}>范围一</Option>\r\n\t\t\t\t\t\t\t<Option value={2}>范围二</Option>\r\n\t\t\t\t\t\t\t<Option value={3}>范围三</Option>\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"燃烧排放类型\"\r\n\t\t\t\t\t\tname=\"dischargeType\"\r\n\t\t\t\t\t\tclassName={[node==1?'':'className6']}\r\n\t\t\t\t\t\tstyle={{display:(node==1)?'block':'none'}}\r\n\t\t\t\t\t\trules={ [{required: node==1?true:'', message: '请选择燃烧排放类型' }]}\r\n\t\t\t\t\t\t// style={{display:'none'}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tplaceholder=\"燃烧排放类型\"\r\n\t\t\t\t\t\t\t// onChange={this.chosenode}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Option value={1}>固定燃烧源的燃烧排放</Option>\r\n\t\t\t\t\t\t\t<Option value={2}>移动燃烧源的燃烧排放</Option>\r\n\t\t\t\t\t\t\t<Option value={3}>逸散型排放源的排放</Option>\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"备注\"\r\n\t\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\t\trules={ [{ pattern: new RegExp(/^[\\S]{0,50}$/),message: '请输入0-50个以内的字符' }]}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input maxLength={50} />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"初始值\"\r\n\t\t\t\t\t\tname=\"Initial\"\r\n\t\t\t\t\t\t// rules={ [{ pattern: new RegExp(/^\\d*(\\.\\d{1,20})?$/),message: '请输入数字' }]}\r\n\t\t\t\t\t\trules={ [{required: true, pattern: new RegExp(/^(([1-9][0-9]{0,5})|0|1000000)$/),message: '请输入正确范围内的整数' }]}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input maxLength={50} />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item wrapperCol={{ offset: 8, span: 16 }} style={{textAlign:'right'}}>\r\n\t\t\t\t\t\t<Button ghost onClick={quxiao} >\r\n\t\t\t\t\t\t  取消\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button style={{marginLeft:'10px'}} loading={setLoadings} type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t  确定\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form>\r\n\t\t\t</Modal>\r\n\t\t</div>\r\n\t)\r\n}\r\n\t\r\n\r\n// <Button type=\"primary\">删除</Button>\r\n\r\nexport default Dropdown"],"names":["Option","Select","confirm","Modal","useState","isModalVisible","setIsModalVisible","total","setTotal","content","setContent","stutes","setStutes","emissionFactorId","setEmissionFactorId","setEmissionFactorNum","province","setProvince","sstatus","setSStatus","createdTime","setCreatedTime","updateTime","setUpdateTime","node","setNode","loading","setLoading","typeval","setTypeval","page","setPage","currentNum","setCurrentNum","setLoadings","setSetLoadings","options","setOptions","setDischargeType","Form","myForm","useEffect","regionProvinces","getEmissionFactorList","http","then","res","console","log","data","code","map","push","label","regionName","value","catch","err","totalElements","columns","title","dataIndex","key","render","text","record","_","action","undefined","width","size","onClick","e","description","emissionFactorNum","dischargeType","setFieldsValue","type","emissionFactorName","co","co2","unit","scope","Initial","initialValue","scopeType","icon","ExclamationCircleOutlined","cancelButtonProps","className","style","background","okText","cancelText","onOk","message","onCancel","defaultValue","onChange","val","dataSource","current","scroll","x","pagination","defaultCurrent","defaultPageSize","showSizeChanger","visible","resetFields","maskClosable","footer","name","labelCol","span","wrapperCol","initialValues","remember","onFinish","values","msg","onFinishFailed","errorInfo","autoComplete","form","rules","required","target","pattern","RegExp","maxLength","placeholder","disabled","display","offset","textAlign","ghost","marginLeft","htmlType"],"sourceRoot":""}