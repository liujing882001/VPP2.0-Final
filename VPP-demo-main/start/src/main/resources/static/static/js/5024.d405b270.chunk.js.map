{"version":3,"file":"static/js/5024.d405b270.chunk.js","mappings":"8OAiKA,EA1JqB,SAACA,GACrB,OAAgCC,EAAAA,EAAAA,UAAS,IAAzC,eAAOC,EAAP,KAAiBC,EAAjB,KACA,GAAwCF,EAAAA,EAAAA,UAAS,IAAjD,eAAOG,EAAP,KAAqBC,EAArB,KACA,GAA4BJ,EAAAA,EAAAA,UAAS,IAArC,eAAOK,EAAP,KAAeC,EAAf,KACA,GAAgCN,EAAAA,EAAAA,UAAS,IAAzC,eAAOO,EAAP,KAAiBC,EAAjB,KACA,GAAsCR,EAAAA,EAAAA,UAAS,IAA/C,eAAOS,EAAP,KAAoBC,EAApB,KACA,GAAgCV,EAAAA,EAAAA,UAAS,IAAzC,eAAOW,EAAP,KAAiBC,EAAjB,KACA,GAAkCZ,EAAAA,EAAAA,UAAS,IAA3C,eAAOa,EAAP,KAAkBC,EAAlB,KACA,GAA8Bd,EAAAA,EAAAA,UAAS,IAAvC,eAAOe,EAAP,KAAgBC,EAAhB,KACA,GAAwBhB,EAAAA,EAAAA,UAAS,GAAjC,eAAOiB,EAAP,KAAaC,EAAb,KACA,GAAoClB,EAAAA,EAAAA,UAAS,GAA7C,eAAOmB,EAAP,KAAmBC,EAAnB,KACA,GAA0BpB,EAAAA,EAAAA,UAAS,IAAnC,eAAOqB,EAAP,KAAcC,EAAd,KACA,GAA8BtB,EAAAA,EAAAA,WAAS,GAAvC,gBAAOuB,GAAP,MAAgBC,GAAhB,MACA,IAA4BxB,EAAAA,EAAAA,UAAS,IAArC,iBAAOyB,GAAP,MAAeC,GAAf,MACMC,IAAUC,EAAAA,EAAAA,OAGhBC,EAAAA,EAAAA,YAAU,WAET,GAAG9B,EAAM+B,SAASC,MAAM,CACvB,IAAMD,EAAW/B,EAAM+B,SAASC,MAAMC,MACtCN,GAAUI,EAASL,QACnBvB,EAAY4B,EAAS7B,UACrBK,EAAUwB,EAASG,OAAO,IAAIH,EAASI,QACvC9B,EAAgB0B,EAAS3B,cACzBK,EAAYsB,EAASvB,UACrBG,EAAeoB,EAASrB,aACxBG,EAA+B,GAAnBkB,EAASnB,SAAY,2BAAO,4BACxCG,EAAiC,GAApBgB,EAASjB,UAAa,2BAA2B,GAApBiB,EAASjB,UAAa,2BAA2B,GAApBiB,EAASjB,UAAa,2BAAO,iCAEpGc,GAAQQ,KAAK,mBAGb,KACFN,EAAAA,EAAAA,YAAU,WACNJ,IACFW,OAEA,CAACX,KAGH,IAAMW,GAAc,WACnBZ,IAAW,GACXa,EAAAA,EAAAA,KAAU,qCAAqC,CAC9CZ,OAAOA,GACPa,OAAOrB,EACPsB,SAAS,KAEPC,MAAK,SAAAC,GACPC,QAAQC,IAAIF,GACM,KAAfA,EAAIG,KAAKC,OACX7B,EAAWyB,EAAIG,KAAKA,KAAK7B,SACzBO,EAASmB,EAAIG,KAAKA,KAAKE,eACvBtB,IAAW,OAEVuB,OAAM,SAAAC,GACRN,QAAQC,IAAIK,OAIPC,GAAU,CACd,CACEC,MAAO,eACPC,UAAW,OACXC,IAAK,OACRC,OAAO,SAACC,EAAOC,EAAMC,GAAd,OAAqC,IAAZvC,EAAO,GAAUuC,EAAM,IAEtD,CACEN,MAAO,eACPC,UAAW,eACXC,IAAK,eACRC,OAAO,SAACC,EAAOC,EAAMC,GAEpB,OAAOF,EAAM,IAAKC,EAAKE,eAIvB,CACEP,MAAO,+BACPC,UAAW,aACXC,IAAK,aACRC,OAAO,SAACC,EAAOC,EAAMC,GACpB,OAAU,MAAPF,QAAoBI,GAAPJ,GAA0B,KAARA,GAAmB,KAAPA,EACtC,IAEAK,OAAOL,GAAOM,QAAQ,KAK9B,CACEV,MAAO,uCACPC,UAAW,QACXC,IAAK,QACRC,OAAO,SAACC,EAAOC,EAAMC,GACpB,OAAU,MAAPF,QAAoBI,GAAPJ,GAA0B,KAARA,GAAmB,KAAPA,EACtC,IAEAK,OAAOL,GAAOM,QAAQ,MAchC,OACC,iBAAKC,UAAU,OAAf,WACC,gBAAKA,UAAU,SAAf,UACC,SAAC,KAAD,CAAMC,GAAG,gBAAT,UAAyB,eAAGC,KAAK,IAAR,WAAY,gBAAKC,IAAKC,EAAQ,SAA9B,uBAE1B,iBAAKJ,UAAU,WAAf,WACC,uEAAY5D,MACZ,2BACC,4DAAWI,MACX,wEAAaF,MACb,uEAAYI,EAAZ,SACA,8EAAcE,EAAd,iBACA,2DAAUE,MACV,2DAAUE,YAGZ,gBAAKgD,UAAU,WAAf,UACC,iBAAKA,UAAU,eAAf,WACC,gDACA,0BACC,SAAC,IAAD,CAAOK,WAAYnD,EAASkC,QAASA,GACpC1B,QAASA,GACT4C,WACC,CACC9C,MAAOA,EACP+C,eAAgB,EAChBC,gBAAiB,GACjBC,iBAAgB,EAChBC,QAAQpD,EACRqD,SArCgB,SAACvD,EAAMsB,GAC9BG,QAAQC,IAAI1B,EAAKsB,GAEjBrB,EAAQD,GACRG,EAAcH,GACdO,IAAW,GACXY,qB","sources":["views/respond/Responsetask/Responsdeatil/index.js"],"sourcesContent":["import React,{useEffect,useState} from 'react'\r\nimport { Link,useHistory  } from \"react-router-dom\"\nimport { Table ,message} from 'antd';\nimport './index.scss'\r\nimport '../ploy/ploy.scss'\r\nimport http from '../../../../server/server.js'\r\nconst location = null\r\nconst Responsdeatil =(props) =>{\r\n\tconst [taskCode, setTaskCode] = useState('');\n\tconst [feedbackTime, setFeedbackTime] = useState('');\n\tconst [rsDate, setRsDate] = useState('');\n\tconst [respLoad, setRespLoad] = useState('');\n\tconst [respSubsidy, setRespSubsidy] = useState('');\n\tconst [respType, setRespType] = useState('');\n\tconst [respLevel, setRespLevel] = useState('');\n\tconst [content, setContent] = useState([]);\n\tconst [page, setPage] = useState(1);\n\tconst [currentNum, setCurrentNum] = useState(1);\n\tconst [total, setTotal] = useState('');\n\tconst [loading, setLoading] = useState(false);\n\tconst [respId, setRespId] = useState('');\r\n\tconst history = useHistory()\r\n\t\r\n\t\r\n\tuseEffect(() =>{\r\n\t\t\r\n\t\tif(props.location.state){\r\n\t\t\tconst location = props.location.state.query\r\n\t\t\tsetRespId(location.respId);\r\n\t\t\tsetTaskCode(location.taskCode);\r\n\t\t\tsetRsDate(location.rsTime+'~'+location.reTime);\r\n\t\t\tsetFeedbackTime(location.feedbackTime);\r\n\t\t\tsetRespLoad(location.respLoad);\r\n\t\t\tsetRespSubsidy(location.respSubsidy);\r\n\t\t\tsetRespType(location.respType==1?'削峰响应':'填谷响应');\r\n\t\t\tsetRespLevel(location.respLevel==1?'日前响应':location.respLevel==2?'小时响应':location.respLevel==3?'分钟响应':'秒级响应');\r\n\t\t}else{\r\n\t\t\thistory.push('/Responsetask')\r\n\t\t}\r\n\t\t\r\n\t},[])\r\n\tuseEffect(() =>{\r\n\t\tif(respId){\r\n\t\t\tgetPriceList()\r\n\t\t}\r\n\t},[respId])\r\n\t\r\n\t// 获取详情明细\r\n\tconst getPriceList =() =>{\r\n\t\tsetLoading(true)\r\n\t\thttp.post('demand_resp/resp_task/getPriceList',{\r\n\t\t\trespId:respId,\r\n\t\t\tnumber:page,\r\n\t\t\tpageSize:10\r\n\t\t\t\r\n\t\t}).then(res =>{\r\n\t\t\tconsole.log(res)\r\n\t\t\tif(res.data.code==200){\r\n\t\t\t\tsetContent(res.data.data.content)\r\n\t\t\t\tsetTotal(res.data.data.totalElements)\r\n\t\t\t\tsetLoading(false)\r\n\t\t\t}\r\n\t\t}).catch(err =>{\r\n\t\t\tconsole.log(err)\r\n\t\t})\r\n\t}\r\n\t\r\n\t\tconst columns = [\r\n\t\t  {\r\n\t\t    title: '序号',\r\n\t\t    dataIndex: 'name',\r\n\t\t    key: 'name',\r\n\t\t\trender:(value, item, index) => (page - 1) * 10 + index+1,\r\n\t\t  },\r\n\t\t  {\r\n\t\t    title: '时间',\r\n\t\t    dataIndex: 'responseDate',\r\n\t\t    key: 'responseDate',\r\n\t\t\trender:(value, item, index) =>{\r\n\t\t\t\t// console.log(item.responseTime)\r\n\t\t\t\treturn value+' ' +item.responseTime\r\n\t\t\t}\r\n\t\t\t\r\n\t\t  },\r\n\t\t  {\r\n\t\t    title: '负荷需求(kW)',\r\n\t\t    dataIndex: 'totalPower',\r\n\t\t    key: 'totalPower',\r\n\t\t\trender:(value, item, index) =>{\r\n\t\t\t\tif(value==null||value==undefined||value===\"\"||value=='-'){\r\n\t\t\t\t\treturn '-'\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn Number(value).toFixed(2)\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t  },\r\n\t\t  {\r\n\t\t    title: '响应补贴(元/kWh)',\r\n\t\t    dataIndex: 'price',\r\n\t\t    key: 'price',\r\n\t\t\trender:(value, item, index) =>{\r\n\t\t\t\tif(value==null||value==undefined||value===\"\"||value=='-'){\r\n\t\t\t\t\treturn '-'\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn Number(value).toFixed(2)\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t  },\r\n\t\t];\r\n\t\tconst handlePagination =(page, pageSize) =>{\r\n\t\t\tconsole.log(page,pageSize)\r\n\t\t\t\r\n\t\t\tsetPage(page)\r\n\t\t\tsetCurrentNum(page)\r\n\t\t\tsetLoading(true)\r\n\t\t\tgetPriceList()\r\n\t\t}\r\n\t\treturn(\r\n\t\t\t<div className=\"ploy\">\r\n\t\t\t\t<div className=\"header\">\r\n\t\t\t\t\t<Link to='/Responsetask'><a href=\"#\"><img src={require('../../../../style/xu/return.png')} />返回</a></Link>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"ploybody\">\r\n\t\t\t\t\t<h4>响应任务编号：{taskCode}</h4>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li>响应时间： {rsDate}</li>\r\n\t\t\t\t\t\t<li>反馈截止时间： {feedbackTime}</li>\r\n\t\t\t\t\t\t<li>负荷需求总值：{respLoad}KW</li>\r\n\t\t\t\t\t\t<li>响应补贴平均值： {respSubsidy}元/kWh</li>\r\n\t\t\t\t\t\t<li>响应类型：{respType}</li>\r\n\t\t\t\t\t\t<li>响应级别：{respLevel}</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"detailed\">\r\n\t\t\t\t\t<div className=\"detailedLeft\">\r\n\t\t\t\t\t\t<h4>明细表</h4>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Table dataSource={content} columns={columns}\r\n\t\t\t\t\t\t\t\tloading={loading}\r\n\t\t\t\t\t\t\t\tpagination={\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttotal: total,//数据的总条数\r\n\t\t\t\t\t\t\t\t\t\tdefaultCurrent: 1,//默认当前的页数\r\n\t\t\t\t\t\t\t\t\t\tdefaultPageSize: 10,//默认每页的条数\r\n\t\t\t\t\t\t\t\t\t\tshowQuickJumper:false,\r\n\t\t\t\t\t\t\t\t\t\tcurrent:currentNum,\r\n\t\t\t\t\t\t\t\t\t\tonChange:handlePagination\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\r\nexport default Responsdeatil"],"names":["props","useState","taskCode","setTaskCode","feedbackTime","setFeedbackTime","rsDate","setRsDate","respLoad","setRespLoad","respSubsidy","setRespSubsidy","respType","setRespType","respLevel","setRespLevel","content","setContent","page","setPage","currentNum","setCurrentNum","total","setTotal","loading","setLoading","respId","setRespId","history","useHistory","useEffect","location","state","query","rsTime","reTime","push","getPriceList","http","number","pageSize","then","res","console","log","data","code","totalElements","catch","err","columns","title","dataIndex","key","render","value","item","index","responseTime","undefined","Number","toFixed","className","to","href","src","require","dataSource","pagination","defaultCurrent","defaultPageSize","showQuickJumper","current","onChange"],"sourceRoot":""}