"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[4895],{94895:function(e,a,s){s.r(a),s.d(a,{default:function(){return h}});var n=s(29439),t=s(72791),r=s(66818),l=s(93070),o=s(13832),d=s(78347),i=s(58768),u=s(61855),m=s(2556),c=s(5122),p=s(21391),g=s.n(p),Z=s(80184);t.Component.prototype.$md5=g();var f=r.Z.Option,h=function(){var e=(0,t.useState)([]),a=(0,n.Z)(e,2),s=a[0],p=a[1],h=(0,t.useState)(!1),y=(0,n.Z)(h,2),x=y[0],j=y[1],w=(0,t.useState)(0),b=(0,n.Z)(w,2),P=b[0],S=(b[1],(0,t.useState)([])),I=(0,n.Z)(S,2),_=I[0],v=(I[1],(0,t.useState)("")),C=(0,n.Z)(v,2),k=C[0],F=(C[1],(0,t.useState)(1)),z=(0,n.Z)(F,2),E=z[0],K=z[1],T=(0,t.useState)(""),N=(0,n.Z)(T,2),A=N[0],q=N[1],R=(0,t.useState)(!1),U=(0,n.Z)(R,2),L=U[0],M=U[1],V=l.Z.useForm(),$=(0,n.Z)(V,1)[0],D=function(){M(!0);var e=new URLSearchParams;e.append("number",E),e.append("pageSize",10),c.Z.post("system_management/energy_model/model_parameter/modelParameterListPageable",e).then((function(e){console.log(e),200==e.data.code&&(p(e.data.data.content),q(e.data.data.totalElements),M(!1))})).catch((function(e){console.log(e)}))};(0,t.useEffect)((function(){D()}),[E]);return(0,Z.jsx)("div",{className:"allcontented",children:(0,Z.jsxs)("div",{className:"storage_model",children:[(0,Z.jsx)(d.Z,{className:"tabls",columns:[{title:"\u53c2\u6570\u540d\u79f0",dataIndex:"modelName",key:"modelName"},{title:"\u53c2\u6570\u952e\u540d",dataIndex:"modelKey",key:"modelKey"},{title:"\u53c2\u6570\u7c7b\u578b",dataIndex:"modelKeyType",key:"modelKeyType",render:function(e,a,s,n){return 1==e?"\u8bbe\u5907":2==e?"\u70b9\u4f4d":void 0}},{title:"\u5907\u6ce8",dataIndex:"modelMark",key:"modelMark"}],dataSource:s,rowKey:function(e){return e.configId},loading:L,pagination:{total:A,defaultCurrent:1,defaultPageSize:10,showSizeChanger:!1,onChange:function(e){console.log(e),K(e)}}}),(0,Z.jsx)(i.Z,{title:0==P?"\u65b0\u5efa\u7528\u6237":"\u7f16\u8f91\u7528\u6237",onCancel:function(){j(!1)},visible:x,footer:null,children:(0,Z.jsxs)(l.Z,{ref:"myForm",name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:function(e){console.log("Success:",e);var a=g()(e.password);0==P?c.Z.post("system_management/system_user/user/addSysUser",{configType:"",roleId:"",roleType:e.gender,userEmail:e.userEmail,userId:"",userName:e.username,userPassword:a}).then((function(e){console.log(e),200==e.data.code?(o.ZP.success("\u6dfb\u52a0\u6210\u529f"),j(!1),D(),$.resetFields()):o.ZP.warning(e.data.msg)})).catch((function(e){})):1==P&&c.Z.post("system_management/system_user/user/updateSysUserRole",{configType:"",roleId:"",roleType:e.gender,userEmail:e.userEmail,userId:k,userName:e.username,userPassword:a}).then((function(e){console.log(e),200==e.data.code?(o.ZP.success("\u7f16\u8f91\u6210\u529f"),D(),j(!1),$.resetFields()):o.ZP.warning(e.data.msg)})).catch((function(e){}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[(0,Z.jsx)(l.Z.Item,{label:"\u7528\u6237\u540d",name:"username",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}],children:(0,Z.jsx)(u.Z,{})}),(0,Z.jsx)(l.Z.Item,{label:"\u5bc6\u7801",name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}],children:(0,Z.jsx)(u.Z.Password,{})}),(0,Z.jsx)(l.Z.Item,{label:"\u786e\u8ba4\u5bc6\u7801",name:"pw2",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"},function(e){var a=e.getFieldValue;return{validator:function(e,s){return s&&a("password")!==s?Promise.reject("\u4e24\u6b21\u5bc6\u7801\u8f93\u5165\u4e0d\u4e00\u81f4"):Promise.resolve()}}}],children:(0,Z.jsx)(u.Z.Password,{palceholder:"\u8bf7\u786e\u8ba4\u5bc6\u7801"})}),(0,Z.jsx)(l.Z.Item,{name:"gender",label:"\u89d2\u8272",rules:[{required:!0,message:"\u8bf7\u9009\u62e9"}],children:(0,Z.jsx)(r.Z,{placeholder:"\u8bf7\u9009\u62e9",allowClear:!0,children:_.length&&_.map((function(e,a){return(0,Z.jsx)(f,{value:e.roleKey,children:e.roleKeyDesc},e.roleKey)}))})}),(0,Z.jsx)(l.Z.Item,{label:"\u90ae\u7bb1",name:"userEmail",rules:[{label:"\u90ae\u7bb1",pattern:new RegExp(/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/),message:"\u8bf7\u8f93\u5165\u6b63\u786e\u683c\u5f0f\u90ae\u7bb1"}],children:(0,Z.jsx)(u.Z,{})}),(0,Z.jsxs)(l.Z.Item,{wrapperCol:{offset:8,span:16},children:[(0,Z.jsx)(m.ZP,{htmlType:"button",style:{marginRight:15},onClick:function(){$.resetFields(),j(!1)},children:"\u53d6\u6d88"}),(0,Z.jsx)(m.ZP,{type:"primary",htmlType:"submit",children:"\u786e\u5b9a"})]})]})})]})})}}}]);
//# sourceMappingURL=4895.7a3ddd7f.chunk.js.map