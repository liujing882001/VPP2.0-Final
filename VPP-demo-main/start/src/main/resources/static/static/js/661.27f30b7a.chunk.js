"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[661],{661:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var a=t(1413),s=t(29439),r=t(72791),u=t(93070),i=t(31773),o=t(13832),c=t(78347),d=t(58768),l=t(61855),m=t(2556),p=t(5122),f=t(80184),h={labelCol:{span:4},wrapperCol:{span:20}},y=function(){var e=(0,r.useState)([]),n=(0,s.Z)(e,2),t=n[0],y=n[1],x=(0,r.useState)(!1),Z=(0,s.Z)(x,2),g=Z[0],k=Z[1],I=(0,r.useState)(""),j=(0,s.Z)(I,2),N=j[0],v=j[1],C=(0,r.useState)(!1),w=(0,s.Z)(C,2),_=w[0],b=w[1],F=u.Z.useForm(),S=(0,s.Z)(F,1)[0];(0,r.useEffect)((function(){P()}),[]);var P=function(){b(!0),p.Z.post("system_management/system_user/menu/menuList").then((function(e){console.log(e),200==e.data.code&&(y(e.data.data),b(!1))})).catch((function(e){}))},T=[{title:"\u540d\u79f0",dataIndex:"menuName",key:"menuName",render:function(e){return(0,f.jsx)("a",{children:e})}},{title:"\u56fe\u6807",dataIndex:"icon",key:"icon",render:function(e,n){return e||"-"}},{title:"\u7c7b\u578b",dataIndex:"menuType",key:"menuType"},{title:"\u6392\u5e8f",dataIndex:"orderNum",key:"orderNum"},{title:"\u7ec4\u4ef6\u8def\u5f84",dataIndex:"component",key:"component"},{title:"\u72b6\u6001",dataIndex:"icon",key:"icon",render:function(e,n){return e||"-"}},{title:"\u6743\u9650\u6807\u8bc6",dataIndex:"perms",key:"perms",render:function(e,n){return e||"-"}},{title:"\u64cd\u4f5c",dataIndex:"action",key:"action",render:function(e,n){return(0,f.jsx)(i.Z,{size:"middle",children:(0,f.jsx)("a",{onClick:function(){return e=n,console.log(e),k(!0),v(e.menuId),void S.setFieldsValue({menuName:e.menuName});var e},children:"\u7f16\u8f91 "})})}}];return(0,f.jsxs)("div",{className:"allcontent12 menu_management",style:{padding:16},children:[(0,f.jsx)(c.Z,{rowKey:function(e){return e.menuId},loading:_,columns:T,dataSource:t}),(0,f.jsx)(d.Z,{title:"\u7f16\u8f91",footer:null,visible:g,onCancel:function(){S.resetFields(),k(!1)},children:(0,f.jsxs)(u.Z,(0,a.Z)((0,a.Z)({form:S},h),{},{onFinish:function(e){console.log(e);var n=e.menuName,t=new URLSearchParams;t.append("menuName",n),t.append("menuId",N),p.Z.post("system_management/system_user/menu/updateMenuName",t).then((function(e){200==e.data.code?(o.ZP.success("\u7f16\u8f91\u6210\u529f"),k(!1),P(),S.resetFields()):o.ZP.warning(e.data.msg)})).catch((function(e){console.log(e)}))},children:[(0,f.jsx)(u.Z.Item,{name:"menuName",label:"\u83dc\u5355\u540d\u79f0",rules:[{required:!0,message:"\u8bf7\u586b\u5199\u540d\u79f0"}],children:(0,f.jsx)(l.Z,{})}),(0,f.jsxs)(u.Z.Item,{wrapperCol:{offset:14,span:10},style:{textAlign:"right"},children:[(0,f.jsx)(m.ZP,{ghost:!0,onClick:function(){S.resetFields(),k(!1)},children:"\u53d6\u6d88"}),(0,f.jsx)(m.ZP,{type:"primary",htmlType:"submit",children:"\u786e\u5b9a"})]})]}))})]})}}}]);
//# sourceMappingURL=661.27f30b7a.chunk.js.map