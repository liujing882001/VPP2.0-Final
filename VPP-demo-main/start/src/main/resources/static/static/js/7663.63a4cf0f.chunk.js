"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[7663],{67663:function(t,e,a){a.r(e),a.d(e,{default:function(){return k}});var n=a(15671),s=a(43144),o=a(60136),i=a(27277),d=a(72791),l=a(78347),r=a(58768),c=a(5122),u=a(80184),h=function(t){(0,o.Z)(a,t);var e=(0,i.Z)(a);function a(t){var s;return(0,n.Z)(this,a),(s=e.call(this,t)).lookover=function(t){console.log(t),s.setState({isModalVisible:!0},(function(){c.Z.get("ancillary_services/ancillary_monitor/getASMonitorListByASId?asId="+t.asId).then((function(t){console.log(t),200==t.data.code&&s.setState({lookdataSource:t.data.data})})).catch((function(t){console.log(t)}))}))},s.state={currentState:2,dataSource:[],isModalVisible:!1,lookdataSource:[],loading:!1,page:1},s}return(0,s.Z)(a,[{key:"componentDidMount",value:function(){this.getASMonitorList()}},{key:"chosedate",value:function(t){var e=this;console.log(t),this.setState({currentState:t},(function(){e.getASMonitorList()}))}},{key:"getASMonitorList",value:function(){var t=this;this.setState({loading:!0}),c.Z.post("ancillary_services/ancillary_monitor/getASMonitorList",{number:this.state.page,pageSize:10,status:this.state.currentState}).then((function(e){if(console.log(e),200==e.data.code){var a=e.data.data.content;a.sort((function(t,e){return e.taskCode<t.taskCode?-1:1})),t.setState({dataSource:a,loading:!1,totaltab:e.data.data.totalElements})}})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){var t=this,e=this.state,a=e.dataSource,n=e.isModalVisible,s=e.lookdataSource,o=e.loading,i=e.page,d=[{title:"\u5e8f\u53f7",width:"5%",render:function(t,e,a){return 10*(i-1)+a+1}},{title:"\u4efb\u52a1\u7f16\u7801",dataIndex:"taskCode",key:"taskCode"},{title:"\u8f85\u52a9\u670d\u52a1\u65f6\u6bb5",dataIndex:"name",key:"name",render:function(t,e,a){return e.assDate+"    "+e.assTime+"~"+e.aseTime}},{title:"\u8f85\u52a9\u670d\u52a1\u89c4\u6a21\uff08kW\uff09",dataIndex:"asLoad",key:"asLoad"},{title:"\u8f85\u52a9\u670d\u52a1\u8d1f\u8377\uff08kW\uff09",dataIndex:"asLoad",key:"asLoad"},{title:"\u8f85\u52a9\u670d\u52a1\u7c7b\u578b",dataIndex:"asType",key:"asType",render:function(t,e,a,n){return 1===e.asType?"\u8c03\u5cf0":2===e.asType?"\u8c03\u9891":3===e.asType?"\u5907\u7528":void 0}},{title:"\u72b6\u6001",dataIndex:"astatus",key:"astatus",render:function(t,e,a,n){return 1===e.astatus?"\u672a\u5f00\u59cb":2===e.astatus?"\u6267\u884c\u4e2d":3===e.astatus?"\u5df2\u7ed3\u675f":void 0}},{title:"\u8be6\u60c5",key:"action",render:function(e,a,n,s){return(0,u.jsx)("a",{onClick:function(){return t.lookover(a)},children:"\u67e5\u770b"})}}];return(0,u.jsxs)("div",{className:"dections",children:[(0,u.jsxs)("div",{className:"allbtns",style:{width:"60%"},children:[(0,u.jsx)("span",{className:2===this.state.currentState?"active":"all",onClick:function(){return t.chosedate(2)},children:"\u6267\u884c\u4e2d"}),(0,u.jsx)("span",{className:1===this.state.currentState?"active":"all",onClick:function(){return t.chosedate(1)},children:"\u672a\u5f00\u59cb"})]}),(0,u.jsx)("div",{className:"alltablsefg",children:(0,u.jsx)(l.Z,{dataSource:a,columns:d,loading:o,onChange:function(e){console.log(e),t.setState({page:e.current},(function(){t.getASMonitorList()}))},pagination:{total:this.state.totaltab,defaultCurrent:1,defaultPageSize:10,showSizeChanger:!1}})}),(0,u.jsxs)(r.Z,{title:"\u67e5\u770b\u8be6\u60c5",visible:n,width:720,cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a",onOk:function(){t.setState({isModalVisible:!1})},onCancel:function(){t.setState({isModalVisible:!1})},children:[(0,u.jsx)(l.Z,{dataSource:s,columns:[{title:"\u8282\u70b9",dataIndex:"nodeName",key:"nodeName",width:"15%"},{title:"\u7cfb\u7edf",dataIndex:"systemName",key:"systemName"},{title:"\u8bbe\u5907",dataIndex:"deviceName",key:"deviceName"},{title:"\u989d\u5b9a\u8d1f\u8377\uff08kW\uff09",dataIndex:"deviceRatedPower",key:"deviceRatedPower",width:"15%"},{title:"\u5b9e\u65f6\u8d1f\u8377\uff08kW\uff09",dataIndex:"actualLoad",key:"actualLoad",width:"15%"},{title:"\u5f53\u524d\u72b6\u6001",dataIndex:"sstatus",key:"sstatus",render:function(t,e,a){return 1==e.sstatus?"\u5f00\u542f":2==e.sstatus?"\u5173\u95ed":void 0}},{title:"\u6267\u884c\u7b56\u7565",dataIndex:"realLoad",key:"realLoad",render:function(t,e,a){return 1==e.sstatus?"\u5f00\u542f":2==e.sstatus?"\u5173\u95ed":void 0}}]}),";"]})]})}}]),a}(d.Component),k=h}}]);
//# sourceMappingURL=7663.63a4cf0f.chunk.js.map