# VPP算法服务优化依赖 v2.0
# =====================================
# 
# 所有依赖版本都已锁定以确保环境一致性和安全性
# 定期更新版本以获取安全补丁和性能改进
# 
# 版本: 2.0.0
# 更新: 2024-12-29

# =============================================================================
# 核心框架
# =============================================================================

# Web框架
fastapi==0.104.1            # 高性能异步Web框架
uvicorn[standard]==0.24.0   # ASGI服务器，支持HTTP/2和自动重载
gunicorn==21.2.0            # 生产环境WSGI服务器

# 异步支持
asyncio==3.4.3              # 异步IO库
aiofiles==23.2.1            # 异步文件操作
aioredis==2.0.1             # 异步Redis客户端

# =============================================================================
# 数据处理和科学计算
# =============================================================================

# 基础数值计算
numpy==1.24.4               # 数值计算基础库
scipy==1.11.4               # 科学计算库
pandas==2.1.4               # 数据分析和处理

# 机器学习和优化
scikit-learn==1.3.2         # 机器学习库
lightgbm==4.1.0             # 梯度提升框架
xgboost==2.0.2              # 梯度提升决策树
optuna==3.4.0               # 超参数优化

# 优化求解器
cvxpy==1.4.1                # 凸优化求解器
pulp==2.7.0                 # 线性规划求解器
ortools==9.8.3296           # Google优化工具

# =============================================================================
# 数据库和缓存
# =============================================================================

# 关系数据库
sqlalchemy==2.0.23          # SQL工具包和ORM
psycopg2-binary==2.9.9      # PostgreSQL适配器
alembic==1.13.0             # 数据库迁移工具

# NoSQL数据库
redis==5.0.1                # Redis客户端
pymongo==4.6.0              # MongoDB客户端

# 连接池
sqlalchemy[asyncio]==2.0.23 # 异步SQLAlchemy支持

# =============================================================================
# API和网络
# =============================================================================

# HTTP客户端
requests==2.31.0            # HTTP库
httpx==0.25.2               # 异步HTTP客户端
aiohttp==3.9.1              # 异步HTTP框架

# 序列化
pydantic==2.5.2             # 数据验证和序列化
pydantic[email]==2.5.2      # 邮箱验证支持

# JSON处理
orjson==3.9.10              # 高性能JSON库
ujson==5.8.0                # 快速JSON解析器

# =============================================================================
# 认证和安全
# =============================================================================

# 身份认证
pyjwt==2.8.0                # JWT令牌处理
passlib[bcrypt]==1.7.4      # 密码哈希
python-multipart==0.0.6     # 文件上传支持

# 安全
cryptography==41.0.7        # 加密库
python-jose[cryptography]==3.3.0  # JWT和加密工具

# =============================================================================
# 监控和日志
# =============================================================================

# 日志
loguru==0.7.2               # 现代化日志库
structlog==23.2.0           # 结构化日志

# 监控指标
prometheus-client==0.19.0   # Prometheus指标客户端
psutil==5.9.6               # 系统和进程监控

# 性能分析
memory-profiler==0.61.0     # 内存分析器
line-profiler==4.1.1        # 代码性能分析

# =============================================================================
# 开发和测试工具
# =============================================================================

# 测试框架
pytest==7.4.3              # 测试框架
pytest-asyncio==0.21.1     # 异步测试支持
pytest-cov==4.1.0          # 测试覆盖率
pytest-mock==3.12.0        # 模拟对象

# 代码质量
black==23.11.0              # 代码格式化
isort==5.12.0               # 导入排序
flake8==6.1.0               # 代码检查
mypy==1.7.1                 # 静态类型检查
bandit==1.7.5               # 安全漏洞检查

# 文档生成
sphinx==7.2.6              # 文档生成
sphinx-rtd-theme==1.3.0    # 文档主题

# =============================================================================
# 时间处理
# =============================================================================

# 时间和日期
python-dateutil==2.8.2     # 日期工具
pytz==2023.3.post1         # 时区处理
arrow==1.3.0                # 现代化时间库

# =============================================================================
# 配置管理
# =============================================================================

# 配置文件
pyyaml==6.0.1               # YAML解析
python-dotenv==1.0.0       # 环境变量管理
configparser==6.0.0        # 配置文件解析

# =============================================================================
# 限流和中间件
# =============================================================================

# API限流
slowapi==0.1.9             # FastAPI限流中间件
limits==3.6.0              # 限流库

# CORS和中间件
starlette==0.27.0           # ASGI框架（FastAPI基础）

# =============================================================================
# 数据验证和转换
# =============================================================================

# 数据验证
marshmallow==3.20.1        # 数据序列化和验证
cerberus==1.3.5             # 数据验证
jsonschema==4.20.0         # JSON模式验证

# =============================================================================
# 图表和可视化（可选）
# =============================================================================

# 绘图库
matplotlib==3.8.2          # 静态绘图
plotly==5.17.0              # 交互式图表
seaborn==0.13.0             # 统计可视化

# =============================================================================
# 云服务和部署
# =============================================================================

# 对象存储
boto3==1.34.0               # AWS SDK
azure-storage-blob==12.19.0 # Azure存储
google-cloud-storage==2.10.0 # Google云存储

# 容器化
docker==6.1.3              # Docker Python客户端

# =============================================================================
# 任务队列（可选）
# =============================================================================

# 后台任务
celery==5.3.4               # 分布式任务队列
kombu==5.3.4                # 消息传递库

# =============================================================================
# 地理空间（如果需要）
# =============================================================================

# GIS处理
geopandas==0.14.1           # 地理空间数据分析
shapely==2.0.2              # 几何对象库

# =============================================================================
# 机器学习扩展（高级功能）
# =============================================================================

# 深度学习
torch==2.1.1               # PyTorch深度学习框架
tensorflow==2.15.0         # TensorFlow（如果需要）

# 时间序列
prophet==1.1.5              # 时间序列预测
statsmodels==0.14.0        # 统计模型

# =============================================================================
# 通信协议
# =============================================================================

# 消息队列
pika==1.3.2                 # RabbitMQ客户端
kafka-python==2.0.2        # Kafka客户端

# =============================================================================
# 性能优化
# =============================================================================

# 数值计算加速
numba==0.58.1               # JIT编译器
cython==3.0.6               # Python到C编译器

# 并行处理
joblib==1.3.2               # 并行计算
dask==2023.11.0             # 并行数据分析

# =============================================================================
# 系统工具
# =============================================================================

# 进程和系统
supervisor==4.2.5           # 进程管理
schedule==1.2.0             # 任务调度

# 文件处理
openpyxl==3.1.2             # Excel文件处理
xlsxwriter==3.1.9           # Excel写入
python-magic==0.4.27       # 文件类型检测

# =============================================================================
# 开发环境配置
# =============================================================================

# 包管理
pip-tools==7.3.0            # 依赖管理工具
pipenv==2023.11.15          # 虚拟环境管理

# 环境变量
python-decouple==3.8       # 设置和环境分离

# =============================================================================
# 性能和内存优化建议
# =============================================================================

# 内存优化
# 建议安装jemalloc或tcmalloc以优化内存分配
# sudo apt-get install libjemalloc-dev
# 或者在Docker中: RUN apt-get update && apt-get install -y libjemalloc-dev

# 编译优化
# 对于生产环境，建议编译安装NumPy、SciPy等库以获得最佳性能
# pip install --no-binary=numpy,scipy numpy scipy

# GPU加速（如果需要）
# torch-cuda==2.1.1         # CUDA支持的PyTorch
# cupy-cuda12x==12.3.0      # GPU加速的NumPy替代品

# =============================================================================
# 安全约束
# =============================================================================

# 确保以下版本以避免已知安全漏洞：
# - 禁用过时的TLS协议
# - 使用最新的加密算法
# - 定期更新安全相关包

# 建议定期运行安全扫描：
# pip-audit
# safety check
# bandit -r .

# =============================================================================
# 部署配置
# =============================================================================

# 生产环境额外包
newrelic==9.2.0             # 应用性能监控
sentry-sdk[fastapi]==1.38.0 # 错误跟踪
datadog==0.48.0             # 基础设施监控

# 健康检查
healthcheck==1.3.3          # 健康检查工具

# =============================================================================
# 版本兼容性说明
# =============================================================================

# Python版本要求: >=3.9,<3.12
# 推荐使用Python 3.10或3.11获得最佳性能

# 操作系统兼容性:
# - Ubuntu 20.04+ 
# - CentOS 8+
# - macOS 12+
# - Windows 10+

# 内存要求: 至少4GB RAM，推荐8GB+
# CPU要求: 至少2核，推荐4核+ 