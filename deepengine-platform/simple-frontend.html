<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DeepEngineåˆ†å¸ƒå¼èƒ½æºç®¡ç†å¹³å°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Inter', system-ui, sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .card { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); }
    </style>
</head>
<body class="bg-gray-50">
    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <nav class="gradient-bg text-white p-4 shadow-lg">
        <div class="container mx-auto flex items-center justify-between">
            <div class="flex items-center space-x-3">
                <div class="w-8 h-8 bg-white bg-opacity-20 rounded-lg flex items-center justify-center">âš¡</div>
                <div>
                    <h1 class="text-xl font-bold">DeepEngine</h1>
                    <p class="text-sm opacity-80">AIåŸç”Ÿèƒ½æºå¹³å°</p>
                </div>
            </div>
            <div id="status" class="flex items-center space-x-2">
                <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
                <span class="text-sm">ç³»ç»Ÿæ­£å¸¸è¿è¡Œ</span>
            </div>
        </div>
    </nav>

    <!-- ä¸»è¦å†…å®¹ -->
    <div class="container mx-auto p-6">
        <div class="mb-8 text-center">
            <h2 class="text-3xl font-bold text-gray-900 mb-2">èƒ½æºç®¡ç†æ€»è§ˆ</h2>
            <p class="text-gray-600">å®æ—¶ç›‘æ§åˆ†å¸ƒå¼èƒ½æºç³»ç»Ÿè¿è¡ŒçŠ¶æ€</p>
        </div>

        <!-- å…³é”®æŒ‡æ ‡ -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
            <div class="card rounded-xl border border-gray-200 p-6 shadow-sm">
                <div class="text-center">
                    <div class="text-3xl mb-2">â˜€ï¸</div>
                    <div class="text-2xl font-bold text-gray-900" id="solar-power">--</div>
                    <div class="text-sm text-gray-500">kW å…‰ä¼å‘ç”µ</div>
                </div>
            </div>
            <div class="card rounded-xl border border-gray-200 p-6 shadow-sm">
                <div class="text-center">
                    <div class="text-3xl mb-2">ğŸ’¨</div>
                    <div class="text-2xl font-bold text-gray-900" id="wind-power">--</div>
                    <div class="text-sm text-gray-500">kW é£åŠ›å‘ç”µ</div>
                </div>
            </div>
            <div class="card rounded-xl border border-gray-200 p-6 shadow-sm">
                <div class="text-center">
                    <div class="text-3xl mb-2">ğŸ”‹</div>
                    <div class="text-2xl font-bold text-gray-900" id="storage-capacity">--</div>
                    <div class="text-sm text-gray-500">% å‚¨èƒ½å®¹é‡</div>
                </div>
            </div>
            <div class="card rounded-xl border border-gray-200 p-6 shadow-sm">
                <div class="text-center">
                    <div class="text-3xl mb-2">ğŸ“ˆ</div>
                    <div class="text-2xl font-bold text-gray-900" id="efficiency">--</div>
                    <div class="text-sm text-gray-500">% ç³»ç»Ÿæ•ˆç‡</div>
                </div>
            </div>
        </div>

        <!-- æ§åˆ¶é¢æ¿ -->
        <div class="card rounded-xl border border-gray-200 p-6 shadow-sm mb-8">
            <h3 class="text-lg font-semibold text-gray-900 mb-4">ç³»ç»Ÿæ§åˆ¶</h3>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <button onclick="refreshData()" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors">
                    ğŸ”„ åˆ·æ–°æ•°æ®
                </button>
                <button onclick="testAPI()" class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors">
                    ğŸ§ª æµ‹è¯•API
                </button>
                <button onclick="window.open('http://localhost:8000/docs', '_blank')" class="bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition-colors">
                    ğŸ“š APIæ–‡æ¡£
                </button>
                <button onclick="showInfo()" class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors">
                    â„¹ï¸ ç³»ç»Ÿä¿¡æ¯
                </button>
            </div>
        </div>

        <!-- æ—¥å¿—åŒºåŸŸ -->
        <div class="card rounded-xl border border-gray-200 p-6 shadow-sm">
            <h3 class="text-lg font-semibold text-gray-900 mb-4">ç³»ç»Ÿæ—¥å¿—</h3>
            <div id="log" class="bg-gray-100 p-4 rounded-lg h-40 overflow-y-auto text-sm font-mono"></div>
        </div>
    </div>

    <script>
        const API_BASE = 'http://localhost:8000';
        
        function log(message) {
            const logEl = document.getElementById('log');
            const time = new Date().toLocaleTimeString();
            logEl.innerHTML += `[${time}] ${message}\n`;
            logEl.scrollTop = logEl.scrollHeight;
        }

        async function refreshData() {
            log('ğŸ”„ å¼€å§‹åˆ·æ–°æ•°æ®...');
            try {
                const response = await fetch(`${API_BASE}/api/v1/powergen/dashboard`);
                const data = await response.json();
                
                if (data.status === 'success') {
                    document.getElementById('solar-power').textContent = data.data.solar_power;
                    document.getElementById('wind-power').textContent = data.data.wind_power;
                    document.getElementById('storage-capacity').textContent = data.data.storage_capacity;
                    document.getElementById('efficiency').textContent = data.data.efficiency;
                    log('âœ… æ•°æ®åˆ·æ–°æˆåŠŸ');
                } else {
                    log('âŒ æ•°æ®æ ¼å¼é”™è¯¯');
                }
            } catch (error) {
                log('âŒ æ•°æ®åˆ·æ–°å¤±è´¥: ' + error.message);
            }
        }

        async function testAPI() {
            log('ğŸ§ª å¼€å§‹APIæµ‹è¯•...');
            try {
                // æµ‹è¯•æ ¹API
                const rootResp = await fetch(`${API_BASE}/`);
                const rootData = await rootResp.json();
                log('âœ… æ ¹APIæµ‹è¯•æˆåŠŸ: ' + rootData.message);

                // æµ‹è¯•å¥åº·æ£€æŸ¥
                const healthResp = await fetch(`${API_BASE}/health`);
                const healthData = await healthResp.json();
                log('âœ… å¥åº·æ£€æŸ¥æˆåŠŸ: ' + healthData.status);

                // æµ‹è¯•PowerGen
                await refreshData();
                
                log('ğŸ‰ æ‰€æœ‰APIæµ‹è¯•å®Œæˆ');
            } catch (error) {
                log('âŒ APIæµ‹è¯•å¤±è´¥: ' + error.message);
            }
        }

        function showInfo() {
            alert(`DeepEngineåˆ†å¸ƒå¼èƒ½æºç®¡ç†å¹³å° v2.0.0

ğŸŒŸ AIåŸç”Ÿå¼€å‘å¹³å°
ğŸ”‹ æ™ºèƒ½å‘ç”µç®¡ç†
ğŸ  æ™ºæ…§ç”¨èƒ½ç®¡ç†
âš¡ è™šæ‹Ÿç”µå‚å¹³å°

ğŸ› ï¸ æŠ€æœ¯æ ˆ:
â€¢ åç«¯: FastAPI + Python
â€¢ å‰ç«¯: React + TypeScript  
â€¢ AI: PyTorch + Transformers
â€¢ æ•°æ®åº“: PostgreSQL + Redis + InfluxDB

ğŸ“¡ APIåœ°å€: ${API_BASE}`);
        }

        // é¡µé¢åŠ è½½å®Œæˆåè‡ªåŠ¨åˆ·æ–°æ•°æ®
        document.addEventListener('DOMContentLoaded', function() {
            log('ğŸš€ DeepEngineå¹³å°å·²å¯åŠ¨');
            log('ğŸ“¡ åç«¯åœ°å€: ' + API_BASE);
            refreshData();
        });
    </script>
</body>
</html> 